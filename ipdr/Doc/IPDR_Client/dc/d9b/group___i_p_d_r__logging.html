<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IPDRAPI: Output to log</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../namespaces.html">Namespace List</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="../../dirs.html">Directories</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="../../globals.html">Globals</a></div>
<h1>Output to log</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga0">IPDR_LogCallbackDetailed</a> )(<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a> Level, const char *LevelStr, const char *ExporterName, const char *<a class="el" href="../../d0/d3b/struct_module.html">Module</a>, const char *Func, const char *Msg, void *Arg)</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a> { <br>
&nbsp;&nbsp;<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a167">IPDR_LEVEL_MUTE</a> =  0, 
<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a168">IPDR_LEVEL_FATAL</a> =  1, 
<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a169">IPDR_LEVEL_ERROR</a> =  2, 
<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a170">IPDR_LEVEL_WARNING</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a171">IPDR_LEVEL_INFO</a> =  4, 
<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a172">IPDR_LEVEL_DEBUG</a> =  5, 
<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a173">IPDR_LEVEL_DEBUG2</a> =  6
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga1">IPDR_SetModuleMoreDebugLevel</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *ModuleName, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a> L)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga2">IPDR_CheckLogLevel</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *ModuleName, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a> Lvl)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga3">IPDR_LogWrite</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *ModuleName, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a> Level, const char *Func, const char *Msg,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga4">IPDR_SetLogOutputCallbackDetailed</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga0">IPDR_LogCallbackDetailed</a> CB, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga5">IPDR_SetLogOutputAddress</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga9">IPDR_IPAddress</a> Addr, unsigned short Port, unsigned int Facility, const char *MachineName)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The IPDR transmitter (client) library supports a logging mechanism used for outputting debug, error or generic information messages. Each log message can have a Debug Level ranging from fatal errors (<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a168">IPDR_LEVEL_FATAL</a>) to debug messages (<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a173">IPDR_LEVEL_DEBUG2</a>). The host application may control the maximum message level which will be displayed in the log by each internal module of the IPDR transmitter (client). In addition the API provides capabilities which allow the host application to send messages to the IPDR log.<p>
By default the IPDR transmitter (client) outputs its log messages by sending UDP datagrams (in syslog [RFC 3164] format) or to the process's standard error output (<code>stderr</code>) if <a class="el" href="../../d3/d26/group___i_p_d_r___config.html#ga0">STD_FILE_OPERATIONS_SUPPORT</a> is defined. IPDR_SetLogOutputCallback() or <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga4">IPDR_SetLogOutputCallbackDetailed()</a> can be used to override this default behavior and trigger a callback defined by the host application for each log message the transmitter (client) wishes to output.<p>
That is, logging behavior is: <ul>
<li>
If log output address and port are specified, send a UDP packet in syslog format (see <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga5">IPDR_SetLogOutputAddress()</a> and the <code>set_logger_addr</code> command to IPDR_DoConsoleCommand()). </li>
<li>
If a callback exists, call it. </li>
<li>
If neither a syslog packet were sent nor a callback was called, output to standard output (<code>stderr</code>). </li>
</ul>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="ga0" doxytag="IPDR.h::IPDR_LogCallbackDetailed"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga0">IPDR_LogCallbackDetailed</a>)(<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a> Level, const char *LevelStr, const char *ExporterName, const char *<a class="el" href="../../d0/d3b/struct_module.html">Module</a>, const char *Func, const char *Msg, void *Arg)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for outputting to a log (detailed).<p>
This overrides the default behavior of writing to standard output (output in syslog format (<a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga5">IPDR_SetLogOutputAddress()</a>) is in addition to any callback).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Level</em>&nbsp;</td><td>the level of the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>LevelStr</em>&nbsp;</td><td>a string representing the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ExporterName</em>&nbsp;</td><td>the value given in IPDR_InitExporter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="../../d0/d3b/struct_module.html">Module</a></em>&nbsp;</td><td>the module ("&lt;code&gt;Exporter&lt;/code&gt;", "&lt;code&gt;Platform&lt;/code&gt;", etc. as used by IPDR_SetModuleDebugLevel() or <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga3">IPDR_LogWrite()</a>). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Func</em>&nbsp;</td><td>a string representing where in the code the message was generated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Msg</em>&nbsp;</td><td>the actual log message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>The context that was passed to <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga4">IPDR_SetLogOutputCallbackDetailed()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>IPDR_SetLogOutputCallback </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="ga6" doxytag="IPDR.h::IPDR_DebugLevel"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Levels for log messages; used both as a level for outputting (e.g., <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga3">IPDR_LogWrite()</a>) and for filtering (IPDR_SetModuleDebugLevel()). <dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="gga6a167" doxytag="IPDR_LEVEL_MUTE"></a>IPDR_LEVEL_MUTE</em>&nbsp;</td><td>
Never used for a message but used to filter out all messages. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gga6a168" doxytag="IPDR_LEVEL_FATAL"></a>IPDR_LEVEL_FATAL</em>&nbsp;</td><td>
Fatal error, typically the last thing seen before total system failure. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gga6a169" doxytag="IPDR_LEVEL_ERROR"></a>IPDR_LEVEL_ERROR</em>&nbsp;</td><td>
Error that can't be recovered from but where processing can continue. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gga6a170" doxytag="IPDR_LEVEL_WARNING"></a>IPDR_LEVEL_WARNING</em>&nbsp;</td><td>
Looks suspicious but processing can recover. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gga6a171" doxytag="IPDR_LEVEL_INFO"></a>IPDR_LEVEL_INFO</em>&nbsp;</td><td>
Moderately chatty about what's going on. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gga6a172" doxytag="IPDR_LEVEL_DEBUG"></a>IPDR_LEVEL_DEBUG</em>&nbsp;</td><td>
Of interest only to implementors and debuggers. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gga6a173" doxytag="IPDR_LEVEL_DEBUG2"></a>IPDR_LEVEL_DEBUG2</em>&nbsp;</td><td>
More than you'll ever want to know about what's going on. </td></tr>
</table>
</dl>
<div class="fragment"><pre class="fragment">02359              {
02360   <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a167">IPDR_LEVEL_MUTE</a>    = 0, 
02361   <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a168">IPDR_LEVEL_FATAL</a>   = 1, 
02362   <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a169">IPDR_LEVEL_ERROR</a>   = 2, 
02363   <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a170">IPDR_LEVEL_WARNING</a> = 3, 
02364   <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a171">IPDR_LEVEL_INFO</a>    = 4, 
02365   <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a172">IPDR_LEVEL_DEBUG</a>   = 5, 
02366   <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a173">IPDR_LEVEL_DEBUG2</a>  = 6  
02367 } <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a>;
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga2" doxytag="IPDR.h::IPDR_CheckLogLevel"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_CheckLogLevel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ModuleName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Lvl</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check whether a specific module within the transmitter (client) outputs log messages at the given level. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ModuleName</em>&nbsp;</td><td>name of module: <ul>
<li>
"&lt;code&gt;Exporter&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Platform&lt;/code&gt;" </li>
<li>
"&lt;code&gt;TCP&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Host&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Queue&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Memory&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Protocol&lt;/code&gt;" </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Lvl</em>&nbsp;</td><td>the level to compare with. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if the module is outputing log messages at the requested level, 0 otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03408 {
03409     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
03410     <span class="keywordflow">if</span> (! E) {
03411         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
03412     }
03413 
03414     <span class="keywordflow">return</span> <a class="code" href="../../dd/d28/_log_8c.html#a20">Log_CheckLogLevelByName</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a4">EXPORTER_LOG</a>, ModuleName, Lvl);
03415 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="IPDR.h::IPDR_LogWrite"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_LogWrite           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ModuleName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Level</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Func</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Output a log message to the IPDR client log. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ModuleName</em>&nbsp;</td><td>name of module: <ul>
<li>
"&lt;code&gt;Exporter&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Platform&lt;/code&gt;" </li>
<li>
"&lt;code&gt;TCP&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Host&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Queue&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Memory&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Protocol&lt;/code&gt;" </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Level</em>&nbsp;</td><td>message debug level. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Func</em>&nbsp;</td><td>string describing the function which originated the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Msg</em>&nbsp;</td><td>message (can be a printf style format string). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>additional arguments in case of a formatted msg. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03430 {
03431     va_list Args;
03432     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
03433     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
03434 
03435     <span class="keywordflow">if</span> (! E) {
03436         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
03437     }
03438 
03439     va_start(Args, <a class="code" href="../../d9/d0f/_exporter_console_8c.html#a0">Str</a>);
03440     Status = <a class="code" href="../../dd/d28/_log_8c.html#a24">Log_VOutputStrByName</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a4">EXPORTER_LOG</a>, ModuleName, Level, Func, <a class="code" href="../../d9/d0f/_exporter_console_8c.html#a0">Str</a>, Args);
03441         va_end(Args);
03442 
03443     <span class="keywordflow">return</span> Status;
03444 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="IPDR.h::IPDR_SetLogOutputAddress"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_SetLogOutputAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga9">IPDR_IPAddress</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned short&nbsp;</td>
          <td class="mdname" nowrap> <em>Port</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>Facility</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>MachineName</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the log output address and port. As mentioned in <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html">Output to log</a>, the log can be output by UDP in syslog format. To turn this on, you must set the log output address and port. Output in syslog format is <em>in addition to</em> output via callback. If neither syslog output nor a callback are provided, log output is to standard error output (<code>stderr</code>) if <a class="el" href="../../d3/d26/group___i_p_d_r___config.html#ga0">STD_FILE_OPERATIONS_SUPPORT</a> is defined.<p>
You can turn off sending syslog datagrams by setting both <em>Addr</em> and <em>Port</em> to zero.<p>
The RFC 3164 message will look something like this (assuming that facility=19 (local3) and the severity is "error": &lt;xmp&gt; &lt;155&gt;&nbsp;Jul&nbsp;&nbsp;1&nbsp;17:23:47&nbsp;192.168.8.88&nbsp;Exporter_TriggerEvent:&nbsp;Connected(START): Server=10.0.0.213, Port=15001, outstanding=0, unACKed=100, Session=101 [session1] (NE/one)Connected: 10.0.0.40 &lt;/xmp&gt;<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Addr</em>&nbsp;</td><td>The IP address to send syslog UDP packets to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Port</em>&nbsp;</td><td>The IP port to send syslog UDP packets to (port 514 is the suggested port in RFC 3164). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Facility</em>&nbsp;</td><td>The facility, as defined in RFC 3164. It should be one of the following (values 2 through 15 should not be used): <ul>
<li>
0: kernel messages </li>
<li>
1: user-level messages </li>
<li>
16: local use 0 (local0) </li>
<li>
17: local use 1 (local1) </li>
<li>
18: local use 2 (local2) </li>
<li>
19: local use 3 (local3) </li>
<li>
20: local use 4 (local4) </li>
<li>
21: local use 5 (local5) </li>
<li>
22: local use 6 (local6) </li>
<li>
23: local use 7 (local7) </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MachineName</em>&nbsp;</td><td>The machine's name for the message, which must conform to RFC 1035 (an internal copy is made of this string). If this is NULL or zero-length, an attempt will be made to generate the name (typically using the host name or IP address). If it cannot be determined, the value "&lt;code&gt;unknown-IPDR&lt;/code&gt;" will be used. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04855 {
04856     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
04857     <span class="keywordflow">if</span> (! E) {
04858         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
04859     }
04860     <span class="keywordflow">return</span> <a class="code" href="../../dd/d28/_log_8c.html#a26">Log_SetLoggerAddress</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a4">EXPORTER_LOG</a>, Addr, Port, Facility, MachineName);
04861 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="IPDR.h::IPDR_SetLogOutputCallbackDetailed"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_SetLogOutputCallbackDetailed           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga0">IPDR_LogCallbackDetailed</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CB</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a callback function which will be used to output log messages (instead of sending them over a UDP socket to a syslog server or to stdout).<p>
IPDR_SetLogOutputCallback() and <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga4">IPDR_SetLogOutputCallbackDetailed()</a> can be called as many times as desired, in any order. The latest call to either of these overrides all other calls. The callback can be turned off by setting the callback function to NULL.<p>
Output via callback is <em>in addition to</em> output in syslog format (see <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga5">IPDR_SetLogOutputAddress()</a>). If neither syslog output nor a callback are provided, log output is to standard error output (<code>stderr</code>) if <a class="el" href="../../d3/d26/group___i_p_d_r___config.html#ga0">STD_FILE_OPERATIONS_SUPPORT</a> is defined.<p>
IPDR_SetLogOutputCallback() and IPDR_SetLogOutputCallabackDetailed() are cancel each other. If you first call <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga4">IPDR_SetLogOutputCallbackDetailed()</a> and then call IPDR_SetLogOutputCallback(), the function specified by <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga4">IPDR_SetLogOutputCallbackDetailed()</a> will be disabled. Similarly, if you call IPDR_SetLogOutputCallback() and then call IPDR_SetLogOutputputCallbackDetailed(), the function specified by IPDR_SetLogOutputCallback() will be disabled.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CB</em>&nbsp;</td><td>Callback. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>additional argument attached to the callback. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04873 {
04874     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
04875     <span class="keywordflow">if</span> (! E) {
04876         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
04877     }
04878     <span class="keywordflow">return</span> <a class="code" href="../../dd/d28/_log_8c.html#a31">Log_SetOutputCallbackDetailed</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a4">EXPORTER_LOG</a>, CB, Arg);
04879 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="IPDR.h::IPDR_SetModuleMoreDebugLevel"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_SetModuleMoreDebugLevel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ModuleName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>L</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the debug level for a transmitter (client), but don't decrease it below what it already is. Other than that, it's the same as IPDR_SetModuleDebugLevel(). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ModuleName</em>&nbsp;</td><td>name of module: <ul>
<li>
"&lt;code&gt;Exporter&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Platform&lt;/code&gt;" </li>
<li>
"&lt;code&gt;TCP&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Host&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Queue&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Memory&lt;/code&gt;" </li>
<li>
"&lt;code&gt;Protocol&lt;/code&gt;" </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>L</em>&nbsp;</td><td>debug level (messages up to this level will be output from the module). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03386 {
03387         <span class="keywordtype">char</span> ConfigName[<a class="code" href="../../de/d8f/_configuration_names_8h.html#a1">MAX_CONFIG_STR_LEN</a>] ;
03388     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
03389     <span class="keywordflow">if</span> (! E || !ModuleName) {
03390         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
03391     }
03392 
03393         sprintf(ConfigName, <a class="code" href="../../de/d8f/_configuration_names_8h.html#a145">STR_configuration_logging_levels_moduleS</a>, ModuleName);
03394         <a class="code" href="../../de/d8a/_parameters_handler_8c.html#a22">ParametersHandler_SetUIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>), ConfigName, L);
03395     <span class="keywordflow">return</span> <a class="code" href="../../dd/d28/_log_8c.html#a19">Log_SetModuleMoreDebugLevel</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a4">EXPORTER_LOG</a>, ModuleName, L);
03396 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 22:28:26 2005 for IPDRAPI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
