<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IPDRAPI: Alternate collectors (servers) policy</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../namespaces.html">Namespace List</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="../../dirs.html">Directories</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="../../globals.html">Globals</a></div>
<h1>Alternate collectors (servers) policy</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
collectors (servers) are assigned priorities and different (multiple) collectors (servers) can have the same priority. Automatic switching to an alternate collector (server) occurs under the following conditions: <ul>
<li>
The collector (server) sends a STOP message to the transmitter (client). </li>
<li>
The transmitter's transport layer notifies the data layer of active collector (server) disconnection. </li>
<li>
The transmitter (client) fails to receive an ACK for a prescribed duration. Collector(s) may send periodic "keep-alive" ACKs, using the most recent ACK message. However, the transmitter will ignore ACKs that do not increment the sequence number. The collector(s) may also send other messages such as STATUS REQ to verify that the TCP collection is alive but these messages do not cause the transmitter to adjust its notion of whether the collector is working or not. The reason for this is simple: the collector might be overloaded and able to only send ACKs but not actually process any of the records. </li>
<li>
An ACK message was received from a higher priority collector (server) to which the transmitter (client) wasn't able to send data, due to reaching the window size limit. </li>
<li>
A higher priority collector (server) acknowledged the reception of the current set of templates (TMPL DATA ACK / FINAL TMPL DATA ACK messages). </li>
<li>
IPDR_RemoveServer() removes the collector (server). </li>
</ul>
<p>
In case one of the above conditions occur, the transmitter (client) sends data to the highest priority collector (server) which: <ul>
<li>
has indicated that is started using a START message. </li>
<li>
has acknowledged the current templates configuration (using TMPL DATA ACK / FINAL TMPL DATA ACK). </li>
<li>
is connected at the transport layer level. </li>
</ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 22:28:26 2005 for IPDRAPI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
