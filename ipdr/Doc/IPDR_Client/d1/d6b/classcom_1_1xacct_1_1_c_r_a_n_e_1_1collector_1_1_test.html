<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IPDRAPI: com::xacct::CRANE::collector::Test Class Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../namespaces.html">Namespace List</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="../../dirs.html">Directories</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="../../globals.html">Globals</a></div>
<div class="nav">
<a class="el" href="../../d8/dee/namespacecom.html">com</a>::<a class="el" href="../../d9/d91/namespacecom_1_1xacct.html">xacct</a>::<a class="el" href="../../d4/d73/namespacecom_1_1xacct_1_1_c_r_a_n_e.html">CRANE</a>::<a class="el" href="../../de/d74/namespacecom_1_1xacct_1_1_c_r_a_n_e_1_1collector.html">collector</a>::<a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html">Test</a></div>
<h1>com::xacct::CRANE::collector::Test Class Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#a0">Test</a> (String[] arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#a1">run</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#e0">versionStr</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#e1">main</a> (String[] arg)</td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d0">showStatus</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d1">readConfigurationXML</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d2">configFromFile</a> ()  throws JDOMException, ConfigException </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d3">getConfigurationInfoFromTransmitter</a> (<a class="el" href="../../d1/da1/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_config.html">CollectorConfig</a> setupConfig, <a class="el" href="../../d5/d67/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_connection_config.html">ConnectionConfig</a> connectionConfig)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d4">getConfigurationInfoFromTransmitter</a> (<a class="el" href="../../da/d48/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_log.html">CollectorLog</a> progressLog, <a class="el" href="../../d5/d42/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_config_xml.html">ConfigXml</a> setupConfigXml, <a class="el" href="../../d3/d47/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_extended_inet_address.html">ExtendedInetAddress</a> transmitterAddress, int transmitterPort, int transmitterVersionPort, <a class="el" href="../../d3/d47/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_extended_inet_address.html">ExtendedInetAddress</a> collectorAddress, int collectorConnectPortId, int connectTimeout, int reconnectInterval)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d5">handleGetConfigurationException</a> (<a class="el" href="../../d2/d43/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_log_handler.html">LogHandler</a> progressLog, Exception ex, boolean doStackTrace, <a class="el" href="../../d3/d47/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_extended_inet_address.html">ExtendedInetAddress</a> transmitterAddress, int transmitterPort, String msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d6">parseInt</a> (String str, String descr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d7">testIpAddress</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d8">showSystemProperties</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d9">testData</a> (<a class="el" href="../../d5/d16/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_protocol_data.html">ProtocolData</a> data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a> (byte[] in, String type, long value, byte[] out)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d11">hexByteStr</a> (byte[] in, String byteSep)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">final String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d12">hexByteStr</a> (byte i)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r1">milliSecToRun</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d2/d43/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_log_handler.html">LogHandler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a> = new <a class="el" href="../../da/d48/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_log.html">CollectorLog</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d6/d09/interfacecom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_field_descriptor_factory.html">FieldDescriptorFactory</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r4">fieldFactory</a> = new <a class="el" href="../../d4/d94/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test_field_descriptor_factory.html">TestFieldDescriptorFactory</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d9/d21/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_manager.html">CollectorManager</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">collectorManager</a> = null</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d9/d64/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_outputter_factory.html">CollectorOutputterFactory</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">outputterFactory</a> = null</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/da1/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_config.html">CollectorConfig</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a> = null</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d5/d42/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_config_xml.html">ConfigXml</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r8">configXml</a> = null</td></tr>

<tr><td colspan="2"><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static final int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#v0">defaultConnectTimeout</a> = <a class="el" href="../../d5/d32/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_constants.html#s11">Constants.DEFAULT_CONNECT_TIMEOUT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hard-coded configuration: how long to wait for a response from UDP version negotiation request.  <a href="#v0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static final int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#v1">defaultReconnectTimeout</a> = <a class="el" href="../../d5/d32/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_constants.html#s13">Constants.DEFAULT_RECONNECT_INTERVAL</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hard-coded configuration: how long to wait before trying to reconnect to a transmitter.  <a href="#v1"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Tester for the collector of data, using the <a class="el" href="../../d4/d73/namespacecom_1_1xacct_1_1_c_r_a_n_e.html">CRANE</a> protocol. This program takes arguments: <dl compact><dt><b>Version:</b></dt><dd><dl compact><dt><b>Id</b></dt><dd>Test.java,v 1.4 2005/01/30 15:13:39 ilyad Exp </dd></dl>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#e1">main</a> </dd></dl>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="com::xacct::CRANE::collector::Test::Test"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">com::xacct::CRANE::collector::Test::Test           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">String[]&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create the test run object. Calls System.exit if things go horribly wrong. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>The arguments from the command line. </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00105                                {
00106         <span class="keywordflow">if</span> (arg.length != 3) {
00107             CollectorLog.printerrln(<span class="stringliteral">"Test &lt;configFile&gt; &lt;secondsToRun&gt;|0 {csv|null|null0|dedup|config}"</span>);
00108             System.exit(1);
00109         }
00110 
00111         <span class="comment">// Get the command-line parameters</span>
00112 
00113         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a>     = arg[0];
00114         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r1">milliSecToRun</a>      = <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d6">parseInt</a>(arg[1], <span class="stringliteral">"secondsToRun"</span>) * 1000;
00115         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a>       = arg[2].trim();
00116     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d2" doxytag="com::xacct::CRANE::collector::Test::configFromFile"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::configFromFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>  throws JDOMException, <a class="el" href="../../d4/d30/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_config_exception.html">ConfigException</a> <code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00234                                                                               {
00235         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Configuration from file "</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a>);
00236 
00237         File configFile = <span class="keyword">new</span> File(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a>);
00238         Document configurationDoc = (<span class="keyword">new</span> SAXBuilder(<span class="keyword">false</span><span class="comment">/*true*/</span>)).build(configFile);
00239         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug(<span class="keyword">this</span>, <span class="stringliteral">"setConfigurationFromXML"</span>,
00240                   <span class="stringliteral">"doc from file "</span> + configFile +  <span class="stringliteral">": "</span> + configurationDoc);
00241         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug()) {
00242             ConfigXml.outputXml(configurationDoc, System.err);
00243         }
00244 
00245         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r8">configXml</a> = <span class="keyword">new</span> ConfigXml(configurationDoc, <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r4">fieldFactory</a>);
00246 
00247         <span class="keyword">this</span>.collectorConfig = <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r8">configXml</a>.getCollectorConfig();
00248         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug()) {
00249             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"--- configuration from "</span> +
00250                       <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a> + <span class="stringliteral">" ---"</span>);
00251             ConfigXml.outputXml(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r8">configXml</a>.getXml(), System.err);
00252             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"collectorConfig: "</span> +
00253                       <span class="keyword">this</span>.<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a>.toStringLong());
00254         }
00255     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d4" doxytag="com::xacct::CRANE::collector::Test::getConfigurationInfoFromTransmitter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::getConfigurationInfoFromTransmitter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../da/d48/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_log.html">CollectorLog</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>progressLog</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d5/d42/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_config_xml.html">ConfigXml</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>setupConfigXml</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d3/d47/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_extended_inet_address.html">ExtendedInetAddress</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>transmitterAddress</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>transmitterPort</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>transmitterVersionPort</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d3/d47/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_extended_inet_address.html">ExtendedInetAddress</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>collectorAddress</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>collectorConnectPortId</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>connectTimeout</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>reconnectInterval</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00308                                                                                   {
00309         <span class="keywordflow">try</span> {
00310             CollectorSetupManager manager =
00311                 <span class="keyword">new</span> CollectorSetupManager(collectorAddress,
00312                                           collectorConnectPortId,
00313                                           progressLog,
00314                                           transmitterAddress,
00315                                           transmitterPort,
00316                                           transmitterVersionPort,
00317                                           connectTimeout,
00318                                           reconnectInterval);
00319             Thread managerThread =
00320                 <span class="keyword">new</span> Thread(manager, <span class="stringliteral">"Setup from "</span> +
00321                            transmitterAddress.andPortToString(transmitterPort));
00322             managerThread.start();
00323 
00324             progressLog.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Setup thread started and waiting for result ..."</span>);
00325             managerThread.join();
00326             progressLog.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Finished waiting."</span>);
00327 
00328             <span class="keywordflow">if</span> (manager.finishedWithoutError()) {
00329                 String vendorString = manager.getVendorString();
00330                 ArrayList sessionConfigList = manager.getSessionConfigList();
00331                 <span class="comment">// Just output the values that we received.</span>
00332                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Results from getting transmitter's session/template/field info ..."</span>);
00333                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Vendor string:\n    "</span> + vendorString);
00334                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Sessions: "</span> +
00335                              CollectorUtil.toStringLong(sessionConfigList, <span class="stringliteral">"    "</span>, <span class="stringliteral">"\n"</span>));
00336                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"--- configuration from transmitter ---"</span>);
00337 
00338                 ConnectionConfig setupConnection =
00339                     <span class="keyword">new</span> ConnectionConfig(transmitterAddress,
00340                                          manager.getTransmitterPort(), <span class="comment">// updated by negotiation</span>
00341                                          transmitterVersionPort,
00342                                          manager.getVendorString(),
00343                                          <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#v0">defaultConnectTimeout</a>,
00344                                          <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#v1">defaultReconnectTimeout</a>,
00345                                          sessionConfigList);
00346                 ArrayList setupConnectionList = <span class="keyword">new</span> ArrayList(1);
00347                 setupConnectionList.add(setupConnection);
00348 
00349                 CollectorConfig setupCollector =
00350                     <span class="keyword">new</span> CollectorConfig(CollectorConfig.VERSION_1,
00351                                         collectorAddress,
00352                                         collectorConnectPortId,
00353                                         1000, <span class="comment">// setupConfig.getAckInterval(),</span>
00354                                         10,   <span class="comment">// setupConfig.getCollectorStartInterval(),</span>
00355                                         setupConnectionList);
00356 
00357                 setupCollector.automapAndEnableAllFields(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r4">fieldFactory</a>);
00358 
00359                 setupConfigXml.setCollectorConfig(setupCollector,
00360                                                   <span class="stringliteral">"CRANEcollector.xsd"</span>, <span class="comment">// XXX hard-coded XSD name</span>
00361                                                   <span class="stringliteral">"CRANEcollectorConfiguration"</span>); <span class="comment">// XXX hard-coded</span>
00362             } <span class="keywordflow">else</span> { <span class="comment">// failed receiving: output the exception info.</span>
00363                 Exception e = manager.getRunException();
00364                 <span class="keywordtype">boolean</span> doStackTrace = <span class="keyword">true</span>;
00365                 <span class="keywordflow">if</span> (e instanceof ConnectionIOException &amp;&amp;
00366                     (((ConnectionIOException)e).getCause() instanceof ConnectException)) {
00367                     doStackTrace = <span class="keyword">false</span>;
00368                 }
00369                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d5">handleGetConfigurationException</a>(progressLog, e, doStackTrace,
00370                                                 transmitterAddress, transmitterPort,
00371                                                 <span class="stringliteral">"Error reported from connnection thread when getting setup from transmitter"</span>);
00372                 <span class="keywordflow">return</span>; <span class="comment">// System.exit(1);</span>
00373             }
00374         } <span class="keywordflow">catch</span> (ConfigException e) {
00375             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d5">handleGetConfigurationException</a>(progressLog, e, <span class="keyword">true</span>,
00376                                             transmitterAddress, transmitterPort,
00377                                             <span class="stringliteral">"Configuration error getting setup from transmitter"</span>);
00378             <span class="keywordflow">return</span>; <span class="comment">// System.exit(1);</span>
00379 <span class="comment">//      // following commented out because it can't be thrown inside try</span>
00380 <span class="comment">//      } catch (UnknownHostException e) {</span>
00381 <span class="comment">//          handleGetConfigurationException(progressLog, e, true,</span>
00382 <span class="comment">//                                          transmitterAddress, transmitterPort,</span>
00383 <span class="comment">//                                          "Could not resolve address for transmitter");</span>
00384 <span class="comment">//          return; // System.exit(1);</span>
00385         } <span class="keywordflow">catch</span> (InterruptedException e) {
00386             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d5">handleGetConfigurationException</a>(progressLog, e, <span class="keyword">true</span>,
00387                                             transmitterAddress, transmitterPort,
00388                                             <span class="stringliteral">"Interrupted getting setup from transmiter"</span>);
00389             <span class="keywordflow">return</span>; <span class="comment">// System.exit(1);</span>
00390         } <span class="keywordflow">catch</span> (Exception e) {
00391             <span class="comment">// Other failures are possible but shouldn't happen (not a</span>
00392             <span class="comment">// failure of receiving information from the transmitter,</span>
00393             <span class="comment">// but in the configuration, etc.</span>
00394             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d5">handleGetConfigurationException</a>(progressLog, e, <span class="keyword">true</span>,
00395                                             transmitterAddress, transmitterPort,
00396                                             <span class="stringliteral">"Unexpected error when trying to setup from transmitter"</span>);
00397             <span class="keywordflow">return</span>; <span class="comment">// System.exit(1);</span>
00398         }
00399     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d3" doxytag="com::xacct::CRANE::collector::Test::getConfigurationInfoFromTransmitter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::getConfigurationInfoFromTransmitter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/da1/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_config.html">CollectorConfig</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>setupConfig</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d5/d67/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_connection_config.html">ConnectionConfig</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>connectionConfig</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the configuration information from the transmitter. This would be normally used by the ISM's configuration GUI, to set up the output fields. It can use a skeleton configuration, with only the "top level" configuration and conection stuff, ignoring the session, template, and field stuff. <div class="fragment"><pre class="fragment">00264                                                                                               {
00265         CollectorLog progressLog = <span class="keyword">new</span> CollectorLog(<span class="stringliteral">"**setup** "</span>);
00266         ExtendedInetAddress transmitterAddress = connectionConfig.getTransmitterAddress();
00267         <span class="keywordtype">int</span> transmitterPort = connectionConfig.getTransmitterPort();
00268         <span class="keywordtype">int</span> transmitterVersionPort = connectionConfig.getTransmitterVersionPort();
00269         ExtendedInetAddress collectorAddress = setupConfig.getCollectorAddress();
00270         <span class="keywordtype">int</span> collectorConnectPortId = setupConfig.getCollectorConnectPortId();
00271         <span class="keywordtype">int</span> connectTimeout = connectionConfig.getConnectTimeout();
00272         <span class="keywordtype">int</span> reconnectInterval = connectionConfig.getReconnectInterval();
00273         ConfigXml setupConfigXml = <span class="keyword">new</span> ConfigXml();
00274 
00275         progressLog.info(<span class="keyword">this</span>, <span class="stringliteral">"getConfigurationInfoFromTransmitter"</span>,
00276                          <span class="comment">// " Transmitter: " + ExtendedInetAddress.andPortToString(transmitterAddrStr, transmitterPort) +</span>
00277                          <span class="stringliteral">"Collector: "</span> + collectorAddress +
00278                          <span class="stringliteral">" portID: "</span> + collectorConnectPortId +
00279                          <span class="stringliteral">" using connection: "</span> + connectionConfig);
00280 
00281         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d3">getConfigurationInfoFromTransmitter</a>(progressLog,
00282                                             setupConfigXml,
00283                                             transmitterAddress,
00284                                             transmitterPort,
00285                                             transmitterVersionPort,
00286                                             collectorAddress,
00287                                             collectorConnectPortId,
00288                                             connectTimeout,
00289                                             reconnectInterval);
00290 
00291         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info()) {
00292             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>,
00293                      <span class="stringliteral">"--- Configuration read from exporter "</span> +
00294                      transmitterAddress.andPortToString(transmitterPort) +
00295                      <span class="stringliteral">" ---"</span>);
00296             ConfigXml.outputXml(setupConfigXml.getXml(), System.err);
00297         }
00298     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d5" doxytag="com::xacct::CRANE::collector::Test::handleGetConfigurationException"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::handleGetConfigurationException           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d2/d43/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_log_handler.html">LogHandler</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>progressLog</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>Exception&nbsp;</td>
          <td class="mdname" nowrap> <em>ex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>boolean&nbsp;</td>
          <td class="mdname" nowrap> <em>doStackTrace</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d3/d47/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_extended_inet_address.html">ExtendedInetAddress</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>transmitterAddress</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>transmitterPort</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>String&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00406                                                                    {
00407         progressLog.error(<span class="keyword">this</span>, <span class="stringliteral">"getConfigurationInfoFromTransmitter"</span>,
00408                           msg + <span class="stringliteral">" "</span> +
00409                           transmitterAddress.andPortToString(transmitterPort) +
00410                           <span class="stringliteral">": "</span> + ex);
00411         <span class="keywordflow">if</span> (doStackTrace) {
00412             CollectorLog.stackTrace(ex);
00413         }
00414         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d0">showStatus</a>();
00415     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d12" doxytag="com::xacct::CRANE::collector::Test::hexByteStr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final String com::xacct::CRANE::collector::Test::hexByteStr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">byte&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>i</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Display a byte as a string. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>The value. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>As a hex string. </dd></dl>
<div class="fragment"><pre class="fragment">00585                                             {
00586         <span class="keywordtype">int</span> j = i &amp; 0xff;
00587         <span class="keywordflow">if</span> (j &lt; 16) {
00588             <span class="keywordflow">return</span> <span class="stringliteral">"0"</span> + Integer.toHexString(j);
00589         } <span class="keywordflow">else</span> {
00590             <span class="keywordflow">return</span> Integer.toHexString(j);
00591         }
00592     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d11" doxytag="com::xacct::CRANE::collector::Test::hexByteStr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final String com::xacct::CRANE::collector::Test::hexByteStr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">byte[]&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>String&nbsp;</td>
          <td class="mdname" nowrap> <em>byteSep</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Display an array of byetes as a string. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>The value (array of bytes). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>byteSep</em>&nbsp;</td><td>What goes between the individual bytes (typically " "). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The resulting string. </dd></dl>
<div class="fragment"><pre class="fragment">00571                                                                 {
00572         String sep = <span class="stringliteral">""</span>;
00573         String result = <span class="stringliteral">""</span>;
00574         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; in.length; i++) {
00575             result += sep + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d11">hexByteStr</a>(in[i]);
00576             sep = byteSep;
00577         }
00578         <span class="keywordflow">return</span> result;
00579     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="com::xacct::CRANE::collector::Test::main"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void com::xacct::CRANE::collector::Test::main           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">String[]&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Entry point for testing <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>The command-line arguments: <br>
<code><a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html">Test</a> <em>configFile</em> <em>secondsToRun</em>|0 {csv|null|null0|dedup|config}</code> <dl>
<dt><em>configFile</em></dt>
<dd>The XML configuration file. If this is "", then a hard-coded configuration, using the transmitter address and port(s) from the arguments. </dd>
<dt><em>secondsToRun</em></dt>
<dd>Run the main thread for this long, then stop. If this value is zero, run "forever". </dd>
<dt><code>csv</code> | <code>null</code></dt>
<dd>If "csv", output all records in a CSV-like format; <br>
if "null", throw away all output (useful for performance testing); <br>
if "null0", throw away all output and also do minimal processing of input (useful for performance testing); <br>
if "dedup" count the occurrences of each sequence number and output a summary at the end. <br>
if "config", don't process data but instead read the configuration information from the transmitter -- only a "skeleton" XML is needed (see below for this). </dd>
</dl>
</td></tr>
  </table>
</dl>
The minimal configuration file is something like this: <code> <br>
&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br>
&lt;CRANEcollectorConfiguration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="CRANEcollector.xsd"&gt; <br>
&nbsp;&nbsp;&lt;Clients&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Client&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;IP&gt;127.0.0.1&lt;/IP&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Port&gt;15000&lt;/Port&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;VerPort&gt;15000&lt;/VerPort&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;VendorString/&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CnctTO&gt;5000&lt;/CnctTO&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CnctRetryTO&gt;2000&lt;/CnctRetryTO&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;RecnctItvl&gt;10000&lt;/RecnctItvl&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CnctRndtrpTO&gt;2000&lt;/CnctRndtrpTO&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;AckLogItvl&gt;60000&lt;/AckLogItvl&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Desc/&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Sessions/&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Client&gt; <br>
&nbsp;&nbsp;&lt;/Clients&gt; <br>
&nbsp;&nbsp;&lt;Templates/&gt; <br>
&nbsp;&nbsp;&lt;ConfigurationVersion&gt;1&lt;/ConfigurationVersion&gt; <br>
&nbsp;&nbsp;&lt;ServerIPAddress/&gt; <br>
&nbsp;&nbsp;&lt;ServerPort&gt;15001&lt;/ServerPort&gt; <br>
&nbsp;&nbsp;&lt;ServerAckInterval&gt;1000&lt;/ServerAckInterval&gt; <br>
&nbsp;&nbsp;&lt;ServerStartInterval&gt;10&lt;/ServerStartInterval&gt; <br>
&nbsp;&nbsp;&lt;EnableDebugMsg&gt;false&lt;/EnableDebugMsg&gt; <br>
&lt;/CRANEcollectorConfiguration&gt; </code> <div class="fragment"><pre class="fragment">00084                                            {
00085         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#a0">Test</a> test = <span class="keyword">new</span> <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#a0">Test</a>(arg);
00086         test.run();
00087     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d6" doxytag="com::xacct::CRANE::collector::Test::parseInt"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final int com::xacct::CRANE::collector::Test::parseInt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">String&nbsp;</td>
          <td class="mdname" nowrap> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>String&nbsp;</td>
          <td class="mdname" nowrap> <em>descr</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Utility function for parsing a command-line integer: exit on failure. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>The command-line integer (string). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>descr</em>&nbsp;</td><td>Description for an error message. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The value if successful </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>exit(1)</em>&nbsp;</td><td>on failure. </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00424                                                          {
00425         <span class="keywordtype">int</span> result = 0;
00426         str = str.trim();
00427         <span class="keywordflow">try</span> {
00428             result = Integer.parseInt(str);
00429         } <span class="keywordflow">catch</span> (NumberFormatException e) {
00430             CollectorLog.printerrln(<span class="stringliteral">"Test: invalid "</span> + descr + <span class="stringliteral">" ("</span> + str + <span class="stringliteral">"): "</span> + e);
00431             System.exit(1);
00432         }
00433         <span class="keywordflow">return</span> result;
00434     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="com::xacct::CRANE::collector::Test::readConfigurationXML"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::readConfigurationXML           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00220                                               {
00221         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Configuration file: "</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a>);
00222 
00223         <span class="keywordflow">try</span> {
00224             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d2">configFromFile</a>();
00225         } <span class="keywordflow">catch</span> (Exception e) {
00226             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.fatal(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>,
00227                       <span class="stringliteral">"configuration error (file "</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a> +  <span class="stringliteral">"): "</span> + e);
00228             CollectorLog.stackTrace(e);
00229             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d0">showStatus</a>();
00230             System.exit(1);
00231         }
00232     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="com::xacct::CRANE::collector::Test::run"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::run           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00118                             {
00119         <span class="comment">// log.setDebug();</span>
00120         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.setInfo();
00121 
00122         <span class="keywordflow">if</span> (<span class="keyword">false</span>) { <span class="comment">// for testing ... dump all system properties</span>
00123             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d8">showSystemProperties</a>();
00124         }
00125 
00126         <span class="keywordflow">if</span> (<span class="keyword">false</span>) { <span class="comment">// for testing ... check that little- and big-endian data are transformed properly.</span>
00127             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"--- big endian data test ---"</span>);
00128             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d9">testData</a>(<span class="keyword">new</span> ProtocolDataBigEndian());
00129             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"--- little endian data test ---"</span>);
00130             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d9">testData</a>(<span class="keyword">new</span> ProtocolDataLittleEndian());
00131         }
00132 
00133         <span class="keywordflow">if</span> (<span class="keyword">false</span>) { <span class="comment">// for testing ... check that IP addresses are converted properly.</span>
00134             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"--- IP address conversion test ---"</span>);
00135             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d7">testIpAddress</a>();
00136         }
00137 
00138         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d1">readConfigurationXML</a>();
00139 
00140         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug()) {
00141             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"--- base configuration ---"</span>);
00142             ConfigXml.outputXml(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r8">configXml</a>.getXml(), System.err);
00143         }
00144 
00145         <span class="keywordtype">boolean</span> getConfigurationFromTransmitter = <span class="keyword">false</span>;
00146 
00147         <span class="comment">// Set up the outputter ...</span>
00148         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a>.equals(<span class="stringliteral">"csv"</span>)) {
00149             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">outputterFactory</a> = <span class="keyword">new</span> CsvOutputterFactory(System.out,
00150                                                        <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a>,
00151                                                        CsvOutputter.styleNameEqValue,
00152                                          <span class="stringliteral">", "</span>);
00153         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a>.equals(<span class="stringliteral">"null"</span>)) {
00154             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">outputterFactory</a> = <span class="keyword">new</span> NullOutputterFactory(System.out);
00155         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a>.equals(<span class="stringliteral">"null0"</span>)) {
00156             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">outputterFactory</a> = <span class="keyword">new</span> NullOutputterFactory(System.out);
00157         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a>.equals(<span class="stringliteral">"dedup"</span>)) {
00158             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">outputterFactory</a> = <span class="keyword">new</span> DedupSummaryOutputterFactory(System.out);
00159         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a>.equals(<span class="stringliteral">"config"</span>)) {
00160             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">outputterFactory</a> = <span class="keyword">new</span> NullOutputterFactory(System.out);
00161             getConfigurationFromTransmitter = <span class="keyword">true</span>;
00162         } <span class="keywordflow">else</span> {
00163             CollectorLog.printerrln(<span class="stringliteral">"CollectorManager ... type of output must be \"csv\", \"null\", or \"dedup\""</span>);
00164             System.exit(1);
00165         }
00166 
00167         <span class="keywordflow">if</span> (getConfigurationFromTransmitter) { <span class="comment">// This would normally be done by configuration GUI</span>
00168             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Getting configuration from "</span> +
00169                      <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a>.getConnectionConfigListLength() + <span class="stringliteral">" exporter(s)"</span>);
00170             <span class="keywordflow">for</span> (Iterator it = <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a>.getConnectionConfigList().iterator(); it.hasNext(); ) {
00171                 ConnectionConfig connection = (ConnectionConfig)it.next();
00172                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Getting configuration from "</span> + connection);
00173                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d3">getConfigurationInfoFromTransmitter</a>(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a>, connection);
00174             }
00175             <span class="keywordflow">return</span>;
00176         }
00177 
00178         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.debug(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Collector configuration: "</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a>.toStringLong());
00179 
00180         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Collector will run for "</span> + (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r1">milliSecToRun</a>/1000) + <span class="stringliteral">" seconds"</span>);
00181 
00182         <span class="comment">// Finally, we've processed the command arguments, so let's</span>
00183         <span class="comment">// start connecting to the transmitters and receiving data.</span>
00184         <span class="keywordflow">try</span> {
00185             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">collectorManager</a> = <span class="keyword">new</span> CollectorManager(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">collectorConfig</a>,
00186                                                     <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>,
00187                                                     <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">outputterFactory</a>);
00188             <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">typeOfOutput</a>.equals(<span class="stringliteral">"null0"</span>)) {
00189                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">collectorManager</a>.setNullInput();
00190             }
00191             <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r1">milliSecToRun</a> == 0) {
00192                 Thread.sleep(Integer.MAX_VALUE);
00193                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Letting collector run for maximum time"</span>);
00194             } <span class="keywordflow">else</span> {
00195                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Letting collector run for "</span> + (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r1">milliSecToRun</a>/1000) + <span class="stringliteral">" seconds"</span>);
00196                 Thread.sleep(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r1">milliSecToRun</a>);
00197             }
00198         } <span class="keywordflow">catch</span> (InterruptedException e) {
00199             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">collectorManager</a>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"finished: "</span> + e);
00200         } <span class="keywordflow">catch</span> (Exception e) {
00201             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.fatal(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>,
00202                       <span class="stringliteral">"CollectorManager error (file "</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">configFileName</a> +  <span class="stringliteral">"): "</span> + e);
00203             CollectorLog.stackTrace(e);
00204             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d0">showStatus</a>();
00205             System.exit(1);
00206         } finally {
00207             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d0">showStatus</a>();
00208             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Stopping the collectors"</span>);
00209             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">collectorManager</a>.stopAndWaitForConnectionsToFinish();
00210             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"main"</span>, <span class="stringliteral">"Finished"</span>);
00211         }
00212     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="com::xacct::CRANE::collector::Test::showStatus"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::showStatus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00214                                     {
00215         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">collectorManager</a> != null) {
00216             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">collectorManager</a>.logConnectionStatus(<a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>);
00217         }
00218     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d8" doxytag="com::xacct::CRANE::collector::Test::showSystemProperties"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::showSystemProperties           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For testing, display the Java Virtual Machine's properties. <div class="fragment"><pre class="fragment">00464                                               {
00465         Properties properties = System.getProperties();
00466         System.err.println(<span class="stringliteral">"Properites:"</span>);
00467         <span class="keywordflow">if</span> (<span class="keyword">false</span>) { <span class="comment">// dump in system-defined order and truncating long strings</span>
00468             properties.list(System.err);
00469         } <span class="keywordflow">else</span> { <span class="comment">// dump in alphabetical order and showing long strings</span>
00470             <span class="keywordflow">for</span> (Iterator it = <span class="keyword">new</span> TreeSet(properties.keySet()).iterator(); it.hasNext(); ) {
00471                 Object key = it.next();
00472                 System.err.println(key + <span class="stringliteral">"="</span> + properties.get(key));
00473             }
00474         }
00475         System.err.println(<span class="stringliteral">"end of Properties"</span>);
00476     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d9" doxytag="com::xacct::CRANE::collector::Test::testData"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::testData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d16/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_protocol_data.html">ProtocolData</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>data</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For testing, check that big/little-endian extraction functions work properly. This ought to be more automated but isn't yet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The conversion class. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>log</em>&nbsp;</td><td>Use this for outputting results. </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00483                                                    {
00484         byte [][] bytev = { { (byte)0xff },
00485                             { (byte)0x01 } };
00486         byte [][] shortv = { { (byte)0xff, (byte)0xff },
00487                              { (byte)0x01, (byte)0x02 },
00488                              { (byte)0x80, 0 } };
00489         byte [][] intv = { { (byte)0xff, (byte)0xff, (byte)0xff, (byte)0xff },
00490                            { (byte)0x00, (byte)0x00, (byte)0x01, (byte)0x02 },
00491                            { (byte)0x80, 0, 0, 0 }  };
00492         byte [][] longv = { { (byte)0xff, (byte)0xff, (byte)0xff, (byte)0xff,
00493                               (byte)0xff, (byte)0xff, (byte)0xff, (byte)0xff },
00494                             { (byte)0xff, (byte)0xff, (byte)0xff, (byte)0xff,
00495                               (byte)0xff, (byte)0xff, (byte)0xff, (byte)0xfe },
00496                             { (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00,
00497                               (byte)0x00, (byte)0x00, (byte)0x00, (byte)0xff },
00498                             { (byte)0x7f, (byte)0xff, (byte)0xff, (byte)0xff,
00499                               (byte)0xff, (byte)0xff, (byte)0xff, (byte)0xff },
00500                             { (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00,
00501                               (byte)0xff, (byte)0xff, (byte)0xff, (byte)0xff },
00502                             { (byte)0x80, 0, 0, 0, 0, 0, 0, 0 } };
00503 
00504         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; bytev.length; i++) {
00505             byte [] z = <span class="keyword">new</span> byte[ProtocolData.byteSize];
00506             byte v = data.getByte(bytev[i], 0);
00507             data.putByte(z, 0, v);
00508             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a>(bytev[i],  <span class="stringliteral">"  byte"</span>, v, z);
00509         }
00510         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; bytev.length; i++) {
00511             byte [] z = <span class="keyword">new</span> byte[ProtocolData.unsignedByteSize];
00512             <span class="keywordtype">short</span> v = data.getUnsignedByte(bytev[i], 0);
00513             data.putUnsignedByte(z, 0, v);
00514             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a>(bytev[i],  <span class="stringliteral">" uByte"</span>, v, z);
00515         }
00516         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; shortv.length; i++) {
00517             byte [] z = <span class="keyword">new</span> byte[ProtocolData.shortSize];
00518             <span class="keywordtype">short</span> v = data.getShort(shortv[i], 0);
00519             data.putShort(z, 0, v);
00520             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a>(shortv[i], <span class="stringliteral">" short"</span>, v, z);
00521         }
00522         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; shortv.length; i++) {
00523             byte [] z = <span class="keyword">new</span> byte[ProtocolData.unsignedShortSize];
00524             <span class="keywordtype">int</span> v = data.getUnsignedShort(shortv[i], 0);
00525             data.putUnsignedShort(z, 0, v);
00526             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a>(shortv[i], <span class="stringliteral">"uShort"</span>, v, z);
00527         }
00528         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; intv.length; i++) {
00529             byte [] z = <span class="keyword">new</span> byte[ProtocolData.intSize];
00530             <span class="keywordtype">int</span> v = data.getInt(intv[i], 0);
00531             data.putInt(z, 0, v);
00532             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a>(intv[i],   <span class="stringliteral">"   int"</span>, v, z);
00533         }
00534         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; intv.length; i++) {
00535             byte [] z = <span class="keyword">new</span> byte[ProtocolData.unsignedIntSize];
00536             <span class="keywordtype">long</span> v = data.getUnsignedInt(intv[i], 0);
00537             data.putUnsignedInt(z, 0, v);
00538             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a>(intv[i],   <span class="stringliteral">"  uInt"</span>, v, z);
00539         }
00540         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; longv.length; i++) {
00541             byte [] z = <span class="keyword">new</span> byte[ProtocolData.longSize];
00542             <span class="keywordtype">long</span> v = data.getLong(longv[i], 0);
00543             data.putLong(z, 0, v);
00544             <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d10">testDataShow</a>(longv[i],  <span class="stringliteral">"  long"</span>, v, z);
00545         }
00546     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d10" doxytag="com::xacct::CRANE::collector::Test::testDataShow"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::testDataShow           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">byte[]&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>String&nbsp;</td>
          <td class="mdname" nowrap> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>byte[]&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper function: display results of tesing data conversion. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>The input bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Textual description of the data type. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The result of converting "in". </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>The byte array result of outputting the value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>log</em>&nbsp;</td><td>For reporting the results. </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00556                                                  {
00557         <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"testDataShow"</span>, type + <span class="stringliteral">": "</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d11">hexByteStr</a>(in, <span class="stringliteral">" "</span>) + <span class="stringliteral">" -&gt; "</span> + value);
00558         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; out.length; i++) {
00559             <span class="keywordflow">if</span> (in[i] != out[i]) {
00560                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"testDataShow"</span>, <span class="stringliteral">"*** in("</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d11">hexByteStr</a>(in, <span class="stringliteral">" "</span>) + <span class="stringliteral">")"</span> +
00561                              <span class="stringliteral">"!=out("</span> + <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#d11">hexByteStr</a>(out, <span class="stringliteral">" "</span>) + <span class="stringliteral">")"</span>);
00562             }
00563         }
00564     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d7" doxytag="com::xacct::CRANE::collector::Test::testIpAddress"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final void com::xacct::CRANE::collector::Test::testIpAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Testing function: see whether we handled addresses such as 0.0.0.0, null, 127.0.0.1 properly (you need to inspect the results, because the actual result will depend on things like local host IP address). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>log</em>&nbsp;</td><td>Report the results here. </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00442                                        {
00443         String [] addr = { null, <span class="stringliteral">""</span>,  <span class="stringliteral">" "</span>, <span class="stringliteral">"10.0.0.40"</span>, <span class="stringliteral">"ent450"</span>, <span class="stringliteral">"1.2.3.4"</span>, <span class="stringliteral">"www.yahoo.com"</span>,
00444                            <span class="stringliteral">"0.0.0.0"</span>, <span class="stringliteral">"127.0.0.1"</span>, <span class="stringliteral">"1.2.3.4.5"</span>, <span class="stringliteral">"foo-bar"</span>,
00445                            <span class="stringliteral">"192.168.254.132"</span>, <span class="stringliteral">"64.169.42.200"</span>,
00446                            <span class="stringliteral">"192.168.126.9"</span>, <span class="stringliteral">"192.168.120.16"</span>};
00447         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; addr.length; i++) {
00448             String addrDescr = (addr[i] == null) ? <span class="stringliteral">"(null)"</span> : <span class="stringliteral">"'"</span> + addr[i] + <span class="stringliteral">"'"</span>;
00449             <span class="keywordflow">try</span> {
00450                 ExtendedInetAddress eAddr = <span class="keyword">new</span> ExtendedInetAddress(addr[i]);
00451                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"testIpAddress"</span>,
00452                              addrDescr + <span class="stringliteral">" -&gt;\t"</span> + eAddr +
00453                              <span class="stringliteral">"\t... name("</span> + eAddr.getHostName() +
00454                              <span class="stringliteral">") addr("</span> + eAddr.getHostAddress() + <span class="stringliteral">")"</span>);
00455             } <span class="keywordflow">catch</span> (Exception e) {
00456                 <a class="code" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">log</a>.info(<span class="keyword">this</span>, <span class="stringliteral">"testIpAddress"</span>, addrDescr + <span class="stringliteral">" got exception: "</span> + e);
00457             }
00458         }
00459     }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="e0" doxytag="com::xacct::CRANE::collector::Test::versionStr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static String com::xacct::CRANE::collector::Test::versionStr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Id</b></dt><dd>Test.java,v 1.4 2005/01/30 15:13:39 ilyad Exp </dd></dl>
<div class="fragment"><pre class="fragment">00027 { <span class="keywordflow">return</span> <span class="stringliteral">"@(#) $Id: Test.java,v 1.4 2005/01/30 15:13:39 ilyad Exp $"</span>; }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="r7" doxytag="com::xacct::CRANE::collector::Test::collectorConfig"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/da1/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_config.html">CollectorConfig</a> <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r7">com::xacct::CRANE::collector::Test::collectorConfig</a> = null<code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r5" doxytag="com::xacct::CRANE::collector::Test::collectorManager"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d21/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_manager.html">CollectorManager</a> <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r5">com::xacct::CRANE::collector::Test::collectorManager</a> = null<code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="com::xacct::CRANE::collector::Test::configFileName"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">String <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r0">com::xacct::CRANE::collector::Test::configFileName</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r8" doxytag="com::xacct::CRANE::collector::Test::configXml"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d42/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_config_xml.html">ConfigXml</a> <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r8">com::xacct::CRANE::collector::Test::configXml</a> = null<code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="v0" doxytag="com::xacct::CRANE::collector::Test::defaultConnectTimeout"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final int <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#v0">com::xacct::CRANE::collector::Test::defaultConnectTimeout</a> = <a class="el" href="../../d5/d32/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_constants.html#s11">Constants.DEFAULT_CONNECT_TIMEOUT</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hard-coded configuration: how long to wait for a response from UDP version negotiation request. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="v1" doxytag="com::xacct::CRANE::collector::Test::defaultReconnectTimeout"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">final int <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#v1">com::xacct::CRANE::collector::Test::defaultReconnectTimeout</a> = <a class="el" href="../../d5/d32/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_constants.html#s13">Constants.DEFAULT_RECONNECT_INTERVAL</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hard-coded configuration: how long to wait before trying to reconnect to a transmitter. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="com::xacct::CRANE::collector::Test::fieldFactory"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d09/interfacecom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_field_descriptor_factory.html">FieldDescriptorFactory</a> <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r4">com::xacct::CRANE::collector::Test::fieldFactory</a> = new <a class="el" href="../../d4/d94/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test_field_descriptor_factory.html">TestFieldDescriptorFactory</a>()<code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="com::xacct::CRANE::collector::Test::log"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d2/d43/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_log_handler.html">LogHandler</a> <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r3">com::xacct::CRANE::collector::Test::log</a> = new <a class="el" href="../../da/d48/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_log.html">CollectorLog</a>()<code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="com::xacct::CRANE::collector::Test::milliSecToRun"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r1">com::xacct::CRANE::collector::Test::milliSecToRun</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r6" doxytag="com::xacct::CRANE::collector::Test::outputterFactory"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d64/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_collector_outputter_factory.html">CollectorOutputterFactory</a> <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r6">com::xacct::CRANE::collector::Test::outputterFactory</a> = null<code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="com::xacct::CRANE::collector::Test::typeOfOutput"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">String <a class="el" href="../../d1/d6b/classcom_1_1xacct_1_1_c_r_a_n_e_1_1collector_1_1_test.html#r2">com::xacct::CRANE::collector::Test::typeOfOutput</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>ipdr/Collector/com/xacct/CRANE/collector/<a class="el" href="../../d4/d83/com_2xacct_2_c_r_a_n_e_2collector_2_test_8java.html">Test.java</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 09:26:51 2005 for IPDRAPI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
