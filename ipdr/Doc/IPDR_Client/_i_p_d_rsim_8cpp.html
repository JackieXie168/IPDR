<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>C:/IPDR/IPDR_distribution_26_05_2005/For Doxygen/src/Simulators/IPDRsim/IPDRsim.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">IPDR</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">IPDR_distribution_26_05_2005</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">For Doxygen</a>&nbsp;/&nbsp;<a class="el" href="dir_000005.html">src</a>&nbsp;/&nbsp;<a class="el" href="dir_000013.html">Simulators</a>&nbsp;/&nbsp;<a class="el" href="dir_000014.html">IPDRsim</a></div>
<h1>IPDRsim.cpp File Reference</h1><code>#include &lt;<a class="el" href="_defs_8h.html">IPDR/Defs.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_i_p_d_r_8h.html">IPDR/IPDR.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_generic_platform_8h.html">Platforms/Generic/GenericPlatform.h</a>&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;cstdlib&gt;</code><br>
<code>#include &lt;iostream&gt;</code><br>
<code>#include &lt;fstream&gt;</code><br>
<code>#include &lt;cstddef&gt;</code><br>
<code>#include &lt;cstring&gt;</code><br>
<code>#include &lt;string&gt;</code><br>
<code>#include &lt;map&gt;</code><br>
<code>#include &lt;vector&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;arpa/inet.h&gt;</code><br>
<code>#include &lt;stddef.h&gt;</code><br>
<code>#include &lt;signal.h&gt;</code><br>
<code>#include &lt;setjmp.h&gt;</code><br>
<code>#include "<a class="el" href="_i_p_d_rsim_aux_8cpp.html">IPDRsimAux.cpp</a>"</code><br>
<code>#include "<a class="el" href="_i_p_d_rsim_templates_8cpp.html">IPDRsimTemplates.cpp</a>"</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><b>std</b></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef map&lt; string, <a class="el" href="class_parm_value__t.html">ParmValue_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a4">ParmMap_t</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a15">clientConfig</a> (const char *name, void *contextArg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a17">logOutputCallback</a> (<a class="el" href="group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a> level, const char *levelStr, const char *clientName, const char *module, const char *func, const char *msg, void *context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a18">eventCallback</a> (const <a class="el" href="struct_i_p_d_r___event_data.html">IPDR_EventData</a> *event, const char *msg, void *context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a19">enableStartNegotiationCB</a> (<a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, IPDR_BOOL *Negotiate, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a20">disableStartNegotiationCB</a> (<a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, IPDR_BOOL *Negotiate, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a21">templatesChangedCB</a> (<a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> <a class="el" href="struct_i_p_d_r__tag___session.html">Session</a>, <a class="el" href="struct_i_p_d_r___template.html">IPDR_Template</a> *templates, int numTemplates, void *context)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a27">usage</a> (const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a29">saveMIBcallback</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> clientH, int MIBVersion, void *contextArg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a31">loadMIBcallback</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> clientH, int MIBVersion, void *contextArg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a32">executeCommand</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> clientH, <a class="el" href="class_record.html">Record</a> *rec[], unsigned long &amp;recNum, ofstream *recordFile, const string &amp;cmd, bool *end)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a33">main</a> (int argc, const char *const argv[])</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a3">fastFillFlag</a> = false</td></tr>

<tr><td class="memItemLeft" nowrap>struct {</td></tr>

<tr><td class="memItemLeft" nowrap valign="top">}&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_p_d_rsim_8cpp.html#a9">sendRateData</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
IPDRsim sample "simulation" code for the IPDR client (transmitter)<br>
<p>
Copyright (2005) Â© Amdocs, All Rights Reserved<p>
This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY KIND either expresses or implied.<p>
<dl compact><dt><b>Id</b></dt><dd><a class="el" href="_i_p_d_rsim_8cpp.html">IPDRsim.cpp</a>,v 1.57 2005/05/11 12:58:16 dmitryk Exp </dd></dl>
<p>
<code> IPDRsim [-f] recordFile configFile [param=value] [ - command ]</code><br>
 Expects parameters of the form:  
 <table border=0>
 <tr valign=top><td><code>-f</code></td> <td>fast (all fields get same value)</td></tr>
 <tr valign=top><td colspan=2>(defaults to: single-threaded platform)</td></tr>
 <tr valign=top><td><code><i>recordFile</i></code></td>
     <td>the file to write a copy of the records to; if
         "" then no output.</td></tr>
 <tr valign=top><td><code><i>configFile</i></code></td>
     <td>the name of a file that was saved using the "mibsave" command
         and which is loaded as part of the initialization process.
         This may be "" or "/dev/null" to indicate that there is no configuration file.
 <tr valign=top><td><code>[param=value] ...</code></td>
     <td>Zero or more specifications of parameters, which override
         the values given in this program. You can also set
         values by using the "mibset" command. The difference is
         that parameters on the command line are set up at
         client (transmitter) initialization time, whereas "mibset" commands
         are executed after the client (transmitter) is initialized (the "mibset"
         commands can therefore be used simulate the loading of
         a previously saved MIB.
 </td></tr>
 <tr valign=top><td><code>[command]</code></td>
     <td>A string of commands, separated by ";"s. Typically, these are
         used for "mibset" commands, but you can also do "add_session" and
         similar commands. These commands are executed before any commands
         given by standard input. Be careful to quote things appropriately
         for your shell, so that you don't lose quotes when passed through
         to the IPDR client's (transmitter's) internal command processor and so that you
         hide the ";"s from the shell.
 </td></tr>
 </table>
  <p>
After the command line is processed, commands are read from standard input (the <em>command</em> from the command line is executed before the commands from standard input). <p>
The program outputs its progress and results to <code>stderr</code>. <p>
It also outputs what the Text File DXM will produce to the file specified by the <code><em>recordFile</em></code> parameter.<p>
Example: <code> <br>
&nbsp;&nbsp;IPDRsim IPDRsim-`date -u +Y-m-dTH-M-SZ`.csvx <br>
&nbsp;&nbsp;&nbsp;&nbsp;configuration.vendorString='IPDRsim Transmitter' <br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;'add_session 101 session1 "The session";' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'add_server 101 server-1 10.0.0.213 15001 1;' <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'add_server 101 server-2 10.0.0.214 15001 2' </code><p>
Commands are (following the "-" in the command line, then read from from <code>stdin</code>):<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<td>help </td><td>Print a brief help message about the commands. </td></tr>
<tr>
<td>template <em>templateId</em> </td><td>Call <a class="el" href="group___i_p_d_r__templates.html#ga5">IPDR_CreateTemplate()</a> for the record with this ID. </td></tr>
<tr>
<td>dsn <em>sessionId</em> <em>number</em> </td><td>Call IPDR_SetSessionDSN(..., <em>number</em>) to set the data sequence number for the session. This must be done before the <code>start</code> command. </td></tr>
<tr>
<td>start </td><td>Call <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_StartExporter()</a>. </td></tr>
<tr>
<td>send <em>templateId</em> <em>numberOfRecords</em> <em>intervalBetweenRecords</em> </td><td>Using <a class="el" href="group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> for this template, send the specified number of records, with the interval between sending (zero means "as fast as possible"). </td></tr>
<tr>
<td>sleep <em>milliSeconds</em> </td><td>Sleep the specified number of milli-seconds. </td></tr>
<tr>
<td>statistics </td><td>Display session and server statistics. </td></tr>
<tr>
<td>mib </td><td>Display the content of the MIBs. </td></tr>
<tr>
<td>mibsave [ <em>file</em> ] </td><td>Save the persistent parts of the MIB to a file. If the file is omitted or is "-", output is to stderr. </td></tr>
<tr>
<td>mibload <em>file</em> Load MIB data that hsave been saved by "mibload". </td></tr>
<tr>
<td>drain <em>milliSeconds</em> </td><td><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga10">IPDR_DrainQueue()</a> with a maximum wait specified (zero means "forever"). </td></tr>
<tr>
<td>stop </td><td><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_DeleteExporter()</a>.<p>
</td></tr>
<tr>
<td>console commands </td></tr>
<tr>
<td>help </td><td>Print out brief help information for the commands. </td></tr>
<tr>
<td>helpm <em>module</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>helpc <em>command</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>exit </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>stop </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>log commands </td></tr>
<tr>
<td>get_debug_level [ <em>module</em> ] </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>set_debug_level <em>module</em>|* <em>level</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>get_logger_addr </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>set_logger_addr &lt;address&gt; <em>port</em> </td><td>See IPDR_DoConsoleCommand().<p>
</td></tr>
<tr>
<td>add_session <em>id</em> <em>name</em> <em>description</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>delete_session &lt;id&gt; </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>add_server <em>session_id</em> <em>name</em> <em>ip</em> <em>port</em> <em>priority</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>delete_server <em>session_id</em> <em>ip</em> <em>port</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>get_sessions </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>apply_templates </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>get_templates [ <em>session_id</em> ] </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>version </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>time </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>set_time <em>epoch_seconds</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>parameters </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>mib [ <em>node</em> ] </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>mibset <em>node</em> <em>value</em> </td><td>See IPDR_DoConsoleCommand(). </td></tr>
<tr>
<td>log [ <em>print</em> | <em>callback</em> ] </td><td>See IPDR_DoConsoleCommand(). </td></tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a4" doxytag="IPDRsim.cpp::ParmMap_t"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef map&lt; string, <a class="el" href="class_parm_value__t.html">ParmValue_t</a> &gt; <a class="el" href="_i_p_d_rsim_8cpp.html#a4">ParmMap_t</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A mapping from parameter name to parameter value.     </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a15" doxytag="IPDRsim.cpp::clientConfig"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char * clientConfig           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>contextArg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for lookup of parameters. This does a lookup into the parmMap (passed in as the context). It also checks that a MIB value hasn't already been provided --- this isn't necessary currrently but is a "good idea" in case things need to change in the future. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The parameter's name to look up </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contextArg</em>&nbsp;</td><td>The context for the callback, as given to <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>: pointer to a <a class="el" href="struct_exporter_config_context__t.html">ExporterConfigContext_t</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The value as a C-string pointer (NULL if unknown parameter) </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>initParmMap <p>
<a class="el" href="_i_p_d_rsim_8cpp.html#a4">ParmMap_t</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="IPDRsim.cpp::disableStartNegotiationCB"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void disableStartNegotiationCB           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CollectorHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>IPDR_BOOL *&nbsp;</td>
          <td class="mdname" nowrap> <em>Negotiate</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The callback for handling a template start negotiation always disable negotiation <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CollectorHandle</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Negotiate</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group___i_p_d_r__templates.html#ga21">IPDR_SetStartNegotiationCallback</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="IPDRsim.cpp::enableStartNegotiationCB"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void enableStartNegotiationCB           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CollectorHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>IPDR_BOOL *&nbsp;</td>
          <td class="mdname" nowrap> <em>Negotiate</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The callback for handling a template start negotiation always enable negotiation <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CollectorHandle</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Negotiate</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group___i_p_d_r__templates.html#ga21">IPDR_SetStartNegotiationCallback</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="IPDRsim.cpp::eventCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void eventCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct_i_p_d_r___event_data.html">IPDR_EventData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>context</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The callback for handling an event (registered by IPDR_SetExporterEventHandler()). This simply outputs a message to stderr. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>The event and its details </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>A message associated with the event </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>The context for this callback, as passed to IPDR_SetExporterEventHandler(): a pointer to IPDR_ExporterHandle </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>IPDR_SetExporterEventHandler <p>
<a class="el" href="group___i_p_d_r__general__typedefs.html#ga4">IPDR_ExporterHandle</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="IPDRsim.cpp::executeCommand"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void executeCommand           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>clientH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_record.html">Record</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>rec</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>recNum</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ofstream *&nbsp;</td>
          <td class="mdname" nowrap> <em>recordFile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap> <em>end</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Execute a command. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clientH</em>&nbsp;</td><td>client Handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rec</em>&nbsp;</td><td>Vector of Records. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recNum</em>&nbsp;</td><td>Current record number (initially 0). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recordFile</em>&nbsp;</td><td>File which gets CVS form of the records sent by IPDR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>The command line. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>end</em>&nbsp;</td><td>(output) set to true if the command was one that stops execution; otherwise set to false. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="IPDRsim.cpp::loadMIBcallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> loadMIBcallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>clientH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>MIBVersion</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>contextArg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for loading the MIB during initialization. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clientH</em>&nbsp;</td><td>Exporter handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MIBVersion</em>&nbsp;</td><td>The MIB's version. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contextArg</em>&nbsp;</td><td>The context argument as provided to IPDR_InitiExporter(): name of file to read from: empty or "" for do-nothing. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="IPDRsim.cpp::logOutputCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void logOutputCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group___i_p_d_r__logging.html#ga6">IPDR_DebugLevel</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>levelStr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>clientName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>context</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The callback for outputting log messages (registered by IPDR_SetLogOutput()). This simply outputs a message to stderr. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>The numeric value for the error level of this message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>levelStr</em>&nbsp;</td><td>A C-string which relates to the error level </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clientName</em>&nbsp;</td><td>The client's (transmitter's) name (C-string), as given to <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>module</em>&nbsp;</td><td>The module that generated this message "(Exporter" (transmitter), "Platform", "TCP", etc.) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>The function within the module that generated this message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The message for outputting to the log </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>The context for this callback, as passed to IPDR_SetLogOutput(): pointer to a IPDR_ExporterHandle </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>IPDR_SetLogOutput </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="IPDRsim.cpp::main"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int main           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *const &nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em>[]</td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The main program. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>The number of arguments + 1 for the program name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>The arguments (<code>argv[0]</code> is the program name) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Zero for success; non-zero for error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="IPDRsim.cpp::saveMIBcallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> saveMIBcallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>clientH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>MIBVersion</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>contextArg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for saving the MIB. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clientH</em>&nbsp;</td><td>Exporter handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MIBVersion</em>&nbsp;</td><td>The MIB's version. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contextArg</em>&nbsp;</td><td>The context argument as provided to IPDR_InitiExporter(): name of file to write to -- if "" or NULL, nothing is done. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="IPDRsim.cpp::templatesChangedCB"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void templatesChangedCB           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Session</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r___template.html">IPDR_Template</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>templates</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>numTemplates</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>context</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The callback for handling a template changed (registered by <a class="el" href="group___i_p_d_r__templates.html#ga18">IPDR_SetTemplateChangedCallback()</a>). This simply outputs a message to stderr and continues to send the same information. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Session</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>templates</em>&nbsp;</td><td>Vector of changed templates. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numTemplates</em>&nbsp;</td><td>The number of templates that were changed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>(unused) The context for this callback, as passed to <a class="el" href="group___i_p_d_r__templates.html#ga18">IPDR_SetTemplateChangedCallback()</a>: a pointer to <a class="el" href="group___i_p_d_r__general__typedefs.html#ga4">IPDR_ExporterHandle</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group___i_p_d_r__templates.html#ga18">IPDR_SetTemplateChangedCallback</a> <p>
<a class="el" href="group___i_p_d_r__general__typedefs.html#ga4">IPDR_ExporterHandle</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="IPDRsim.cpp::usage"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int usage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Output usage information to stderr. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>A C-string with the program's name (<code>argv[0]</code> to <a class="el" href="_i_p_d_rsim_8cpp.html#a33">main()</a>). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A non-zero value, so that you can write "&lt;code&gt;return usage(...)&lt;/code&gt;" </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a3" doxytag="IPDRsim.cpp::fastFillFlag"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool <a class="el" href="_i_p_d_rsim_templates_8cpp.html#a4">fastFillFlag</a> = false          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A global flag for whether we're trying to fill the output records fast (all the same) or slowly (more variation in the fields).     </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="IPDRsim.cpp::sendRateData"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct { ... }   <a class="el" href="_i_p_d_rsim_8cpp.html#a9">sendRateData</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Data used for calculating data transfer rates (set by sendRecords() and retrieved by <a class="el" href="_i_p_d_rsim_8cpp.html#a18">eventCallback()</a>). It's a bit crude: it only really works if you do the "send" command immediately follwed by "drain 0".     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon May 30 15:54:38 2005 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
