<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IPDRAPI: ipdr/src/Exporter/Exporter.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../namespaces.html">Namespace List</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="../../dirs.html">Directories</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="../../globals.html">Globals</a></div>
<div class="nav">
<a class="el" href="../../dir_000003.html">ipdr</a>&nbsp;/&nbsp;<a class="el" href="../../dir_000010.html">src</a>&nbsp;/&nbsp;<a class="el" href="../../dir_000013.html">Exporter</a></div>
<h1>Exporter.c File Reference</h1><code>#include &lt;<a class="el" href="../../d4/d3a/ipdr_2include_2_i_p_d_r_2_config_8h.html">IPDR/Config.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../dc/d2e/ipdr_2src_2_exporter_2_exporter_msgs_8h.html">Exporter/ExporterMsgs.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../df/df3/ipdr_2src_2_exporter_2_exporter_8h.html">Exporter/Exporter.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d7/d82/ipdr_2src_2_exporter_2_exporter_m_i_b_8h.html">Exporter/ExporterMIB.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d0/dc2/ipdr_2src_2_exporter_2_exporter_protocol_8h.html">Exporter/ExporterProtocol.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../de/d8c/ipdr_2include_2_i_p_d_r_2_i_p_d_r_8h.html">IPDR/IPDR.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d4/d7a/ipdr_2src_2_exporter_2_version_8h.html">Exporter/Version.h</a>&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stddef.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;<a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html">IPDR/CRANE.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../dc/d6d/ipdr_2src_2_exporter_2_templates_8h.html">Exporter/Templates.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../db/d83/ipdr_2src_2_exporter_2_exporter_console_8h.html">Exporter/ExporterConsole.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../df/d8a/ipdr_2src_2_exporter_2_protocol_debug_8h.html">Exporter/ProtocolDebug.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d7/dde/ipdr_2src_2_exporter_2_v_q_handler_8h.html">Exporter/VQHandler.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d6/dbc/ipdr_2src_2_common_2_protocol_8h.html">Common/Protocol.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d0/dce/ipdr_2src_2_common_2_transport_8h.html">Common/Transport.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../df/d56/ipdr_2src_2_common_2_common_util_8h.html">Common/CommonUtil.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../df/d98/ipdr_2src_2_common_2_log_8h.html">Common/Log.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../dc/d26/ipdr_2src_2_common_2_common_msgs_8h.html">Common/CommonMsgs.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d7/d5e/ipdr_2src_2_transports_2_t_c_p_2_t_c_p_msgs_8h.html">Transports/TCP/TCPMsgs.h</a>&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a0">INITIAL_SESSIONS_ARRAY_CAPACITY</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a1">INITIAL_TEMPLATES_ARRAY_CAPACITY</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a2">INITIAL_COLLECTORS_ARRAY_CAPACITY</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a3">INITIAL_COLLECTOR_CONNECTIONS_ARRAY_CAPACITY</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a4">INITIAL_COLLECTOR_COLLECTORSESSIONS_ARRAY_CAPACITY</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a14">Exporter_ConnectCallback</a> (<a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a> C, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> Addr, unsigned short Port, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a15">Exporter_DisconnectCallback</a> (<a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a> C, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a16">Exporter_DataCallback</a> (<a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a> C, <a class="el" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html">BufferHandle</a> *BH, unsigned int MsgLen, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a17">Exporter_InitializeProtocolInfo</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a18">Exporter_DeleteSessionInternal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a19">Exporter_RemoveCollectorInternal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *C)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a20">Exporter_RemoveCollectorFromSession_Internal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *C)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a21">Exporter_CreateTemplateInternal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S, int TemplateID, const char *SchemaName, const char *TypeName, int NumKeys, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *Keys, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> StatusFlag, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a22">Exporter_AddKeyInternal</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *CKey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a23">Exporter_AddKeyInternal_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *CKey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a24">IPDR_SendDataCompat</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TemplateHandle, const void *Data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a25">Exporter_AutoconnectCallback</a> (void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a26">ExporterProtocol_WaitConnectTimeoutCallback</a> (void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a27">Exporter_InitDebugLevels</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a28">ExporterMsgs_Initialize</a> (<a class="el" href="../../dc/d30/struct_i_p_d_r__tag___log.html">Log</a> *L)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a29">Exporter_InitializeParameters</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga22">IPDR_StatusMsg</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Status)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dd7/group___i_p_d_r__event__notification.html#ga4">IPDR_EventMsg</a> (const <a class="el" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> *Event)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a32">StatisticsInitialize</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *Now, <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *PrevStatistics, <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Statistics)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga9">IPDR_GetSessionStatistics</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *Now, <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Statistics, unsigned long *QueuedOutstandingRecords, unsigned long *QueuedUnacknowledgedRecords)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga10">IPDR_GetCollectorStatisticsAndState</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *Now, <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Statistics, <a class="el" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> *LastEvent)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a35">StatisticsCalculateRates</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> PrevTime, const <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Statistics, const <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *PrevStatistics, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *Time, <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *IntervalStatistics, <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Rate100)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a36">Exporter_StatisticsReportCallback</a> (void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a37">TransmissionContext_Destructor</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, void *Obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a38">Exporter_Destructor</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, void *Obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a39">Session_Destructor</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, void *Obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a40">Collector_Destructor</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, void *Obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a41">Connection_Destructor</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, void *Obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a42">CollectorSession_Destructor</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, void *Obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a43">Exporter_AddIPDRConnectionToCollector</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *Coll, <a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a> C)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a44">Exporter_WindowSizeTimerCallback</a> (void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a45">Session_CreateNewWorkContext</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S, <a class="el" href="../../db/dc0/struct_dynamic_array.html">DynamicArray</a> *Tmpls, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Negotiable)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a46">Session_SelectActiveCollector</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a47">Session_HandleTemplateChanges</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S, int NumChanges, unsigned char *TCBs, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Force, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> CopyFromExporter, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Negotiable)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a48">Session_SendOutstandingData</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a49">IPDR_InitExporter</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, const char *ExporterName, <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_ParametersHandlerFunc</a> ParamsHandler, void *ParamsHandlerArg, <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_LoadMIBFunc</a> LoadMIB, void *LoadMIBArg, <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga5">IPDR_SaveMIBFunc</a> SaveMIB, void *SaveMIBArg, <a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> **CH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga7">IPDR_StartExporter</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_IsRunning</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga11">IPDR_DeleteExporter</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga13">IPDR_DrainQueue</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> Timeout)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga0">IPDR_CreateSession</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *Name, unsigned char ID, const char *Description, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> *SH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga1">IPDR_DeleteSession</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga15">IPDR_SetDocumentID</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, char *DocumentID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga14">IPDR_SetSessionNegotiable</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Negotiable)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga12">IPDR_StartSession</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Negotiate)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga13">IPDR_StopSession</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, enum <a class="el" href="../../df/dcb/group___i_p_d_r__key__type__attributes.html#ga68">IPDR_SessionStopReason</a> Reason, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> Timeout)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a60">IPDR_AddCollectorCompat</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, const char *Name, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> Addr, unsigned short Port, int Priority)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga10">IPDR_GetServerStatisticsAndState</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> Addr, unsigned short Port, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *Now, <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Statistics, <a class="el" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> *LastEvent)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a68">CRANE_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a62">CRANE_GetTemplate</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">CRANE_ClientHandle</a> ClientHandle, int TemplateID, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">CRANE_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a68">CRANE_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a63">CRANE_CreateStatusTemplate</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">CRANE_ClientHandle</a> ClientHandle, int TemplateID, const char *Description, int NumKeys, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">CRANE_Key</a> *Keys, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">CRANE_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a68">CRANE_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a64">CRANE_DeleteTemplate</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">CRANE_ClientHandle</a> ClientHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">CRANE_TemplateHandle</a> TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga5">IPDR_CreateCollector</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *Name, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> Addr, unsigned short Port, unsigned short NumberOfActive, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> *CH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga4">IPDR_AddCollector</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *Name, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> Addr, unsigned short Port, unsigned short NumberOfActive)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga6">IPDR_GetCollector</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *Name, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> *CH, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> *Addr, unsigned short *Port, unsigned short *NumberOfActive)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga7">IPDR_AssocCollectorSession</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, int Priority)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga8">IPDR_RemoveCollectorFromSession</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga9">IPDR_RemoveCollector</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga2">IPDR_GetSession</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, unsigned char ID, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> *SH, const char **Name, const char **Description)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga11">IPDR_AddKey</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *CKey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga13">IPDR_RemoveKey</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH, unsigned int KeyID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_RemoveKey_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID, unsigned int KeyID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga15">IPDR_EnableKey</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH, unsigned int KeyID, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Enabled)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga6">IPDR_CreateTemplate</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, int TemplateID, const char *SchemaName, const char *TypeName, int NumKeys, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *Keys, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga7">IPDR_CreateTemplate_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID, const char *SchemaName, const char *TypeName, int NumKeys, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *Keys)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga9">IPDR_DeleteTemplate</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga10">IPDR_DeleteTemplate_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TemplateHandle, const void *Data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga1">IPDR_SendData_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID, const void *Data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga16">IPDR_EnableKey_All</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, int TemplateID, unsigned int KeyID, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Enabled)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga8">IPDR_GetTemplate</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, int TemplateID, char **SchemaName, char **TypeName, int *NumKeys, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a84">IPDR_GetTemplateInternal</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, int TemplateID, char **SchemaName, char **TypeName, int *NumKeys, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga17">IPDR_ApplyTemplates</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga18">IPDR_ApplyTemplates_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga3">IPDR_GetSessionsList</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int *NumSessions, unsigned char **Sessions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga11">IPDR_GetCollectorInSessionList</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, unsigned int *NumCollectors, <a class="el" href="../../d3/d18/struct_i_p_d_r___collector.html">IPDR_Collector</a> **Collectors)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga10">IPDR_GetCollectorList</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, unsigned int *NumCollectors, <a class="el" href="../../d3/d18/struct_i_p_d_r___collector.html">IPDR_Collector</a> **Collectors)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dd7/group___i_p_d_r__event__notification.html#ga5">IPDR_SetExporterEventHandlerDetailed</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../df/dd7/group___i_p_d_r__event__notification.html#ga3">IPDR_EventCallbackDetailed</a> Callback, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga20">IPDR_SetStartNegotiationCallback</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga4">IPDR_StartNegotiationCallback</a> Callback, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga21">IPDR_SetFlowStartCallback</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga5">IPDR_FlowStartCallback</a> Callback, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga19">IPDR_SetTemplateChangedCallback</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_TemplateChangedCallback</a> Callback, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga2">IPDR_SetModuleMoreDebugLevel</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *ModuleName, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga8">IPDR_DebugLevel</a> L)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga3">IPDR_CheckLogLevel</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *ModuleName, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga8">IPDR_DebugLevel</a> Lvl)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga4">IPDR_LogWrite</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *ModuleName, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga8">IPDR_DebugLevel</a> Level, const char *Func, const char *Str,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a97">Exporter_TriggeTemplateChangedCallback</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a98">EventDataInit</a> (<a class="el" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> *EventData, enum <a class="el" href="../../df/dd7/group___i_p_d_r__event__notification.html#ga9">IPDR_Event_t</a> EventID, <a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *Sess)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a99">Exporter_TriggerEvent</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga8">IPDR_DebugLevel</a> loggingLevel, const <a class="el" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> *EventData, <a class="el" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS, const char *Msg,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a100">Exporter_ProtocolInfoCallback</a> (<a class="el" href="../../db/d76/struct_i_p_d_r__tag___socket.html">IPDR_SocketHandle</a> S, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a101">Exporter_Reconfigure</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga12">IPDR_ReconfigExporter</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a103">Exporter_GetCapabilities</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga2">IPDR_MIBVersion</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga6">IPDR_ParamGet</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *Name, const char *Value, int valueLen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga7">IPDR_GetFirstParam</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, unsigned long *Index, char **Name, int nameLen, char **Value, int valueLen, char **DefValue, int defValueLen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga8">IPDR_GetNextParam</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, unsigned long *Index, char **Name, int nameLen, char **Value, int valueLen, char **DefValue, int defValueLen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga9">IPDR_ParamSet</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *Name, const char *Value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a109">Exporter_BuildRecord</a> (<a class="el" href="../../d1/d38/struct_i_p_d_r__tag___chunks_manager.html">ChunksManager</a> *CMgr, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S, struct <a class="el" href="../../da/d62/struct_i_p_d_r__tag___template.html">IPDR_tag_Template</a> *Tmpl, const void *Data, <a class="el" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html">BufferHandle</a> *BH, unsigned long *RecordSize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a110">Exporter_PrepareToSend</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a111">Exporter_SendRecord</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S, <a class="el" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html">BufferHandle</a> *BH, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> Immediate, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> duplicate)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a112">Exporter_CreateSessionInternal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, const char *Name, unsigned char ID, const char *Description, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> *SH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a113">Exporter_DeleteSessionInternal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a114">Exporter_AddCollectorInternal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, const char *Name, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> Addr, unsigned short Port, unsigned short NumberOfActive, <a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> isDummy, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> *CH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a115">Exporter_AssocCollectorSession_Internal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *C, unsigned short Priority)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga3">IPDR_MIB_Start</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga4">IPDR_MIB_Stop</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db0/group___i_p_d_r__transmitter___m_i_b.html#ga5">IPDR_MIB_IsRunning</a> (<a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga6">IPDR_SetLogOutputAddress</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a> Addr, unsigned short Port, unsigned int Facility, const char *MachineName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga5">IPDR_SetLogOutputCallbackDetailed</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga1">IPDR_LogCallbackDetailed</a> CB, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga0">IPDR_MemoryAllocate</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, size_t Size, void **Buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga1">IPDR_MemoryFree</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, void *Buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga2">IPDR_MemoryStatistics</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, unsigned int *numAllocs, unsigned int *numFrees, size_t *bytesAllocated)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga3">IPDR_RegisterTimer</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d3/d9b/group___i_p_d_r__event__services.html#ga9">IPDR_TimerCallback_t</a> Callback, void *Arg, int Timeout, <a class="el" href="../../d7/d03/struct_i_p_d_r__tag___timer.html">IPDR_TimerID</a> *ID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga4">IPDR_ReregisterTimer</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d3/d9b/group___i_p_d_r__event__services.html#ga9">IPDR_TimerCallback_t</a> Callback, void *Arg, int Timeout, <a class="el" href="../../d7/d03/struct_i_p_d_r__tag___timer.html">IPDR_TimerID</a> *ID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga5">IPDR_RegisterPeriodicTimer</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d3/d9b/group___i_p_d_r__event__services.html#ga9">IPDR_TimerCallback_t</a> Callback, void *Arg, int Timeout, <a class="el" href="../../d7/d03/struct_i_p_d_r__tag___timer.html">IPDR_TimerID</a> *ID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga6">IPDR_UnregisterTimer</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d7/d03/struct_i_p_d_r__tag___timer.html">IPDR_TimerID</a> ID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga7">IPDR_GetTime</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *Time)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga8">IPDR_SleepMS</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, long Interval)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga9">IPDR_FormatTimeLocalNow</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, char *Buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga10">IPDR_FormatTimeGMTNow</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, char *Buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga11">IPDR_FormatTimeLocal</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> Time, char *Buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d24/group___i_p_d_r__platform__calls.html#ga12">IPDR_FormatTimeGMT</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> Time, char *Buf)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a5">Exporter_rcsid</a> [] = "@(#) $Id: Exporter.c,v 1.103 2005/03/29 09:46:06 dmitryk Exp $" IPDR_COPYRIGHT_STR</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a6">Exporter_h_rcsid</a> [] = EXPORTER_H_RCSID</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a7">IPDR_h_rcsid</a> [] = IPDR_H_RCSID</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a8">Defs_h_rcsid</a> [] = IPDR_DEFS_H_RCSID</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a9">Config_h_rcsid</a> [] = IPDR_CONFIG_H_RCSID</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a10">Version_h_rcsid</a> [] = VERSION_H_RCSID " " IPDR_VER</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a11">ExporterMsgs_h_rcsid</a> [] = EXPORTER_MSGS_H_RCSID</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../db/dcd/struct_i_p_d_r__tag___connection_handlers.html">ConnectionHandlers</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a12">Exporter_DefaultHandlers</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a13">ServerStateStr</a> []</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a4" doxytag="Exporter.c::INITIAL_COLLECTOR_COLLECTORSESSIONS_ARRAY_CAPACITY"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define INITIAL_COLLECTOR_COLLECTORSESSIONS_ARRAY_CAPACITY&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="Exporter.c::INITIAL_COLLECTOR_CONNECTIONS_ARRAY_CAPACITY"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define INITIAL_COLLECTOR_CONNECTIONS_ARRAY_CAPACITY&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="Exporter.c::INITIAL_COLLECTORS_ARRAY_CAPACITY"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define INITIAL_COLLECTORS_ARRAY_CAPACITY&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="Exporter.c::INITIAL_SESSIONS_ARRAY_CAPACITY"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define INITIAL_SESSIONS_ARRAY_CAPACITY&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="Exporter.c::INITIAL_TEMPLATES_ARRAY_CAPACITY"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define INITIAL_TEMPLATES_ARRAY_CAPACITY&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a40" doxytag="Exporter.c::Collector_Destructor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Collector_Destructor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Obj</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00843 {
00844         <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *C = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *)Obj;
00845 
00846         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o8">ExporterPtr</a>;
00847         <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *Coll;
00848         <span class="keywordtype">int</span> Index;
00849 
00850         strncpy(C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o0">eyecatcher</a>, <span class="stringliteral">"Dcollector"</span>, <span class="keyword">sizeof</span> C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o0">eyecatcher</a>);
00851 
00852         <span class="comment">/* Remove the Collector from Exporter's Collector list */</span>
00853         <span class="keywordflow">for</span> (Index = 0; Index &lt; E-&gt;Collectors.Length; Index++)
00854         {
00855         Coll = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index];
00856         <span class="keywordflow">if</span> (Coll != NULL &amp;&amp; Coll == C &amp;&amp; Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a> == C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a> &amp;&amp; strcmp(Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>, C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>) == 0)
00857                 {
00858                         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a10">DynamicArray_RemoveAndShiftNoFree</a>(PS, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>), Index);
00859         }
00860     }
00861         
00862         <span class="keywordflow">for</span> (Index = 0; Index &lt; E-&gt;DummyCollectors.Length; Index++)
00863         {
00864         Coll = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o15">DummyCollectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index];
00865         <span class="keywordflow">if</span> (Coll == C)
00866                 {
00867                         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a10">DynamicArray_RemoveAndShiftNoFree</a>(PS, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o15">DummyCollectors</a>), Index);
00868         }
00869     }
00870 
00871         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(PS, &amp; (C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o2">IPDRConnections</a>));
00872         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(PS, &amp; (C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o1">CollectorSessions</a>));
00873 
00874         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(PS, C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>);
00875 
00876         strncpy(C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o0">eyecatcher</a>, <span class="stringliteral">"Xcollector"</span>, <span class="keyword">sizeof</span> C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o0">eyecatcher</a>);
00877 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="Exporter.c::CollectorSession_Destructor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CollectorSession_Destructor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Obj</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00916 {
00917         <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a>*       CS = (<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *)Obj;
00918         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a>*                        S = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o3">SessionPtr</a> ;
00919         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>*                       E = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>;
00920         <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a>*                      C = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a> ;
00921         <span class="keywordtype">int</span>                                     Index ;
00922 
00923 
00924         strncpy(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o0">eyecatcher</a>, <span class="stringliteral">"Dcollsess"</span>, <span class="keyword">sizeof</span> CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o0">eyecatcher</a>);
00925 
00926         <span class="keywordflow">if</span>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o8">TmplDataTimer</a> != NULL)
00927         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o8">TmplDataTimer</a>);
00928 
00929         <span class="keywordflow">if</span>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o9">WindowSizeTimer</a> != NULL)
00930         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o9">WindowSizeTimer</a>);
00931 
00932         <span class="comment">/* Remove the CollectorSession from Exporter's Collector list */</span>
00933         <span class="keywordflow">for</span> (Index = 0; Index &lt; E-&gt;CollectorSessions.Length; Index++)
00934                 <span class="keywordflow">if</span>( CS == E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o16">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index] )
00935                         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a10">DynamicArray_RemoveAndShiftNoFree</a>(PS, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o16">CollectorSessions</a>), Index);
00936 
00937         <span class="comment">/* Remove the Collector Session from its  session */</span>
00938         <span class="keywordflow">for</span> (Index = 0; Index &lt; S-&gt;CollectorSessions.Length; Index++)
00939                 <span class="keywordflow">if</span>( CS == S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o14">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index] )
00940                         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a10">DynamicArray_RemoveAndShiftNoFree</a>(PS, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o14">CollectorSessions</a>), Index);
00941 
00942         <span class="comment">/* Remove the Collector Session from its Collector */</span>
00943         <span class="keywordflow">for</span> (Index = 0; Index &lt; C-&gt;CollectorSessions.Length; Index++)
00944                 <span class="keywordflow">if</span>( CS == C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o1">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index] )
00945                         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a10">DynamicArray_RemoveAndShiftNoFree</a>(PS, &amp; (C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o1">CollectorSessions</a>), Index);
00946 
00947         strncpy(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o0">eyecatcher</a>, <span class="stringliteral">"Xcollsess"</span>, <span class="keyword">sizeof</span> CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o0">eyecatcher</a>);
00948 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="Exporter.c::Connection_Destructor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Connection_Destructor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Obj</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00882 {
00883         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *C = (<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *)Obj;
00884         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o10">ExporterPtr</a>;
00885 
00886         strncpy(C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o0">eyecatcher</a>, <span class="stringliteral">"Dconnect"</span>, <span class="keyword">sizeof</span>(C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o0">eyecatcher</a>));
00887         
00888         <span class="keywordflow">if</span>(C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o7">KeepAliveOUTTimerID</a> != NULL)
00889         {
00890                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o7">KeepAliveOUTTimerID</a>);
00891                 C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o7">KeepAliveOUTTimerID</a> = NULL;
00892         }
00893         
00894         <span class="keywordflow">if</span>(C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o6">KeepAliveINTimerID</a> != NULL)
00895         {
00896                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o6">KeepAliveINTimerID</a>);
00897                 C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o6">KeepAliveINTimerID</a> = NULL;
00898         }
00899 
00900         <span class="keywordflow">if</span>(C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> != NULL)
00901         {
00902                 <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a24">TL_HandleDisconnection</a>(C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>);
00903                 <span class="comment">/*Platform_SleepMS(PS, 1000);*/</span>
00904         }
00905         
00906         C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> = NULL ;
00907         C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o4">Owner</a> = NULL ;
00908         C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o10">ExporterPtr</a> = NULL ;
00909 
00910         C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o1">State</a> = <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a51a21">IPDR_CONNECTION_DISCONNECTED</a> ;
00911 
00912         strncpy(C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o0">eyecatcher</a>, <span class="stringliteral">"Xconnect"</span>, <span class="keyword">sizeof</span> C-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o0">eyecatcher</a>);
00913 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a63" doxytag="Exporter.c::CRANE_CreateStatusTemplate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a68">CRANE_Status</a> CRANE_CreateStatusTemplate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">CRANE_ClientHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ClientHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Description</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>NumKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">CRANE_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Keys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">CRANE_TemplateHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new template within the transmitter (client), for status responses. See <a class="el" href="../../d4/ddb/_for_doxygen_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a52">CRANE_CreateTemplate()</a> for more details. The only difference between this and <a class="el" href="../../d4/ddb/_for_doxygen_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a52">CRANE_CreateTemplate()</a> is that templates created by this call are used for STATUS RSP messages. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ClientHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d4/ddb/_for_doxygen_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a38">CRANE_InitClient()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Description</em>&nbsp;</td><td>Template description (an internal copy is made of this string). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumKeys</em>&nbsp;</td><td>Number of keys within the template (may be zero for an empty template). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Keys</em>&nbsp;</td><td>Array of keys associated with the template (an internal copy is made of this array and all its contents). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>(output) Handle to the newly created template. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>#CRANE_OK on success; #CRANE_ERR_TEMPLATE_ALREADY_EXISTS or <a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a101">CRANE_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a53">CRANE_ApplyTemplates</a> <p>
CRANE_AddKey <p>
CRANE_DeleteKey </dd></dl>
<div class="fragment"><pre class="fragment">02248 {
02249         fprintf(stderr,<span class="stringliteral">"CRANE_CreateStatusTemplate NOT IMPLEMENTED"</span>);
02250         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a190">IPDR_ERR_NOT_IMPLEMENTED</a>;
02251 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a64" doxytag="Exporter.c::CRANE_DeleteTemplate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a68">CRANE_Status</a> CRANE_DeleteTemplate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">CRANE_ClientHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ClientHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">CRANE_TemplateHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a previously created template. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ClientHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d4/ddb/_for_doxygen_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a38">CRANE_InitClient()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>Handle of template (created by <a class="el" href="../../d4/ddb/_for_doxygen_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a52">CRANE_CreateTemplate()</a>) to remove. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>#CRANE_OK on success; #CRANE_ERR_TEMPLATE_NOT_FOUND or <a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a101">CRANE_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">02255 {
02256         fprintf(stderr,<span class="stringliteral">"CRANE_DeleteTemplate NOT IMPLEMENTED"</span>);
02257         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a190">IPDR_ERR_NOT_IMPLEMENTED</a>;
02258 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a62" doxytag="Exporter.c::CRANE_GetTemplate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a68">CRANE_Status</a> CRANE_GetTemplate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">CRANE_ClientHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ClientHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">CRANE_TemplateHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieve a template handle given a template ID. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ClientHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d4/ddb/_for_doxygen_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a38">CRANE_InitClient()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>(output) Handle to the found template. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>#CRANE_OK on success; #CRANE_ERR_TEMPLATE_NOT_FOUND or <a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a101">CRANE_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a52">CRANE_CreateTemplate</a> </dd></dl>
<div class="fragment"><pre class="fragment">02237 {
02238         fprintf(stderr,<span class="stringliteral">"CRANE_GetTemplate NOT IMPLEMENTED"</span>);
02239         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a190">IPDR_ERR_NOT_IMPLEMENTED</a>;
02240 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a98" doxytag="Exporter.c::EventDataInit"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void EventDataInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>EventData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>enum <a class="el" href="../../df/dd7/group___i_p_d_r__event__notification.html#ga9">IPDR_Event_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>EventID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Sess</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize an event structure.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>EventData</em>&nbsp;</td><td>structure to update </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EventID</em>&nbsp;</td><td>ID to put into it </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>exporter handle (pointer) (may be NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CS</em>&nbsp;</td><td>Collector Session handle (pointer) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Sess</em>&nbsp;</td><td>session (may be NULL) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">03563 {
03564     EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o0">EventID</a>                     = EventID;
03565     <span class="keywordflow">if</span> (CS) {
03566         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o1">IC</a>                  = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>;
03567     } <span class="keywordflow">else</span> {
03568         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o1">IC</a>                  = NULL;
03569     }
03570     <span class="keywordflow">if</span> (E &amp;&amp; Sess) {
03571         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o2">OutstandingDataCount</a>    = <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;OutstandingDataCount(E, Sess);
03572         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o3">UnacknowledgedDataCount</a> = <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;UnacknowledgedDataCount(E, Sess);
03573     } <span class="keywordflow">else</span> {
03574         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o2">OutstandingDataCount</a>    = 0;
03575         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o3">UnacknowledgedDataCount</a> = 0;
03576     }
03577     <span class="keywordflow">if</span> (Sess) {
03578         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o4">SessionID</a>               = Sess-&gt;ID;
03579         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o5">SessionName</a>             = Sess-&gt;Name;
03580         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o6">SessionDescription</a>      = Sess-&gt;Description;
03581     } <span class="keywordflow">else</span> {
03582         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o4">SessionID</a>               = 0;
03583         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o5">SessionName</a>             = <span class="stringliteral">""</span>;
03584         EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o6">SessionDescription</a>      = <span class="stringliteral">""</span>;
03585     }
03586 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a114" doxytag="Exporter.c::Exporter_AddCollectorInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_AddCollectorInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned short&nbsp;</td>
          <td class="mdname" nowrap> <em>Port</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned short&nbsp;</td>
          <td class="mdname" nowrap> <em>NumberOfActive</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>isDummy</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a collector to a list of servers (collectors) list. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga4">IPDR_AddCollector</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>handle to a previously created exporter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Name</em>&nbsp;</td><td>name of server (collector) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Addr</em>&nbsp;</td><td>IP address of the server (collector) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Port</em>&nbsp;</td><td>port number of the server (collector) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumberOfActive</em>&nbsp;</td><td>number of active collectors to allow</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04423 {
04424     <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a>*          Coll;
04425     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>         Status;
04426         <span class="keywordtype">int</span>                     Index;
04427     <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a>            paBuf;
04428 
04429     <span class="keywordflow">if</span> (!Name) {
04430         Name = <span class="stringliteral">""</span>;
04431     }
04432 
04433         <span class="keywordflow">if</span>(CH) *CH = NULL ;
04434 
04435     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04436 
04437         <span class="keywordflow">for</span> (Index = 0; isDummy == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a> &amp;&amp; Index &lt; E-&gt;Collectors.Length; Index++) {
04438         Coll = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index];
04439         <span class="keywordflow">if</span> (Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a> == Addr || strcmp(Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>, Name) == 0) {
04440                         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04441                        <span class="stringliteral">"Exporter_AddCollectorInternal"</span>, <span class="stringliteral">"Collector '%s' already exists"</span>, Name);
04442 
04443                         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04444             <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a194">IPDR_ERR_COLLECTOR_ALREADY_EXISTS</a>;
04445         }
04446     }
04447 
04448     Status = <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a2">Object_Allocate</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a>),
04449                              <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a40">Collector_Destructor</a>,
04450                              (<span class="keywordtype">void</span> **) &amp; Coll);
04451     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04452         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04453         <span class="keywordflow">return</span> Status;
04454     }
04455 
04456         Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a2">DynamicArray_Create</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o2">IPDRConnections</a>),
04457                                  <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a3">INITIAL_COLLECTOR_CONNECTIONS_ARRAY_CAPACITY</a>);
04458 
04459         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04460         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Coll);
04461         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04462         <span class="keywordflow">return</span> Status;
04463     }
04464 
04465         Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a2">DynamicArray_Create</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o1">CollectorSessions</a>),
04466                                  <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a4">INITIAL_COLLECTOR_COLLECTORSESSIONS_ARRAY_CAPACITY</a>);
04467 
04468         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04469         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Coll);
04470         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04471         <span class="keywordflow">return</span> Status;
04472     }
04473 
04474     strncpy(Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o0">eyecatcher</a>, <span class="stringliteral">"COLLECTOR"</span>, <span class="keyword">sizeof</span>(Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o0">eyecatcher</a>));
04475     {
04476         <span class="keywordtype">char</span>* tmpName;
04477         Status = <a class="code" href="../../d0/dfd/_for_doxygen_2src_2_common_2_common_util_8c.html#a5">Util_StrDup</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Name, &amp;tmpName);
04478         Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a> = tmpName;
04479     }
04480     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04481         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Coll);
04482         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04483         <span class="keywordflow">return</span> Status;
04484     }
04485 
04486     Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a> = Addr;
04487     Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o5">Port</a> = Port;
04488     Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o6">NumOfConnections</a> = NumberOfActive;
04489         Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o8">ExporterPtr</a> = E;
04490         Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o9">isDummy</a> = isDummy ;
04491 
04492         <span class="keywordflow">for</span>(Index = 0; Index &lt; NumberOfActive; Index++)
04493         {
04494                 Status = <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a43">Exporter_AddIPDRConnectionToCollector</a>( E, Coll, NULL );
04495                 <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
04496                 {
04497                         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a28">Log_Write</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
04498                    <span class="stringliteral">"Exporter_AddCollectorInternal"</span>, <span class="stringliteral">"Failed To Add IPDRConnection To Collector"</span>);
04499                 }
04500         }
04501         
04502         <span class="keywordflow">if</span>(<a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a> == isDummy)
04503         {
04504                 Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a12">DynamicArray_AddElement</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, 
04505                                                                         &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o15">DummyCollectors</a>), Coll,
04506                                                                         &amp; Index);
04507         }
04508     <span class="keywordflow">else</span>
04509         {
04510                 Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a12">DynamicArray_AddElement</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, 
04511                                                                         &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>), Coll,
04512                                                                         &amp; Index);
04513         }
04514     
04515         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04516         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Coll);
04517         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04518         <span class="keywordflow">return</span> Status;
04519     }
04520 
04521 
04522     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a32">Log_Write4</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04523                <span class="stringliteral">"Exporter_AddCollectorInternal"</span>,
04524                <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a11">MSG_EXPORTER_ADD_SERVER</a>, Name,
04525                <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(Addr, Port, paBuf),
04526                NumberOfActive,(<a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>==isDummy)?<span class="stringliteral">"Dummy"</span>:<span class="stringliteral">"Real"</span>);
04527 
04528         <span class="keywordflow">if</span>(CH) *CH = Coll ;
04529 
04530     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04531     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04532 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="Exporter.c::Exporter_AddIPDRConnectionToCollector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_AddIPDRConnectionToCollector           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Coll</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>C</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00953 {
00954         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
00955         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC;
00956         <span class="keywordtype">int</span> Index ;
00957         
00958         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00959 
00960 
00961         Status = <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a2">Object_Allocate</a>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o3">PS</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a>),
00962                                         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a41">Connection_Destructor</a>,
00963                                         (<span class="keywordtype">void</span> **) &amp; IC);
00964         <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
00965         {
00966                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
00967                            <span class="stringliteral">"Exporter_ConnectCallback"</span>, <span class="stringliteral">"Object_Allocate Error, Status: %d"</span>,
00968                            Status);
00969                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00970                 <span class="keywordflow">return</span> Status ;
00971         }
00972 
00973         strncpy(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o0">eyecatcher</a>, <span class="stringliteral">"CONNEC"</span>, <span class="keyword">sizeof</span>(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o0">eyecatcher</a>));
00974         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o1">State</a> = <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a51a21">IPDR_CONNECTION_DISCONNECTED</a> ;
00975         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o2">Autoconnect</a> = (Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o6">NumOfConnections</a> == 0)?<a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>:<a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>;
00976         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> = C;
00977         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o4">Owner</a> = Coll;
00978         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o5">ConnectResponseTimerID</a> = NULL;
00979         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o6">KeepAliveINTimerID</a> = NULL;
00980         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o7">KeepAliveOUTTimerID</a> = NULL;
00981         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o8">RemoteKeepAliveInterval</a> = (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o4">KeepAliveInterval</a>)+500;
00982         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o9">isDummy</a> = Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o9">isDummy</a> ;
00983         IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o10">ExporterPtr</a> = E;
00984 
00985         <span class="keywordflow">if</span>(C != NULL)
00986                 C-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o11">Owner</a> = IC;
00987 
00988         Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a11">DynamicArray_AppendElement</a>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o3">PS</a>, &amp;(Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o2">IPDRConnections</a>), IC, &amp;Index);
00989         <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
00990         {
00991                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
00992                            <span class="stringliteral">"Exporter_ConnectCallback"</span>, <span class="stringliteral">"DynamicArray_AppendElement Error, Status: %d"</span>,
00993                            Status);
00994                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00995                 <span class="keywordflow">return</span> Status ;
00996         }
00997         
00998         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00999 
01000         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01001 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="Exporter.c::Exporter_AddKeyInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_AddKeyInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CKey</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="Exporter.c::Exporter_AddKeyInternal_All"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_AddKeyInternal_All           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CKey</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a115" doxytag="Exporter.c::Exporter_AssocCollectorSession_Internal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_AssocCollectorSession_Internal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>C</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned short&nbsp;</td>
          <td class="mdname" nowrap> <em>Priority</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Associates collector with the session <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga7">IPDR_AssocCollectorSession</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>- Exporter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>- Session to associate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>C</em>&nbsp;</td><td>- Collector to associate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Priority</em>&nbsp;</td><td>- Priority to associate</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04550 {
04551         <span class="keywordtype">int</span>                             Index, SIndex, CIndex ;
04552     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>                 Status;
04553         <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a>*       CS = NULL ;
04554         <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a>*       lookForCS = NULL ;
04555         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a>                        paBuf;
04556 
04557         <span class="keywordflow">if</span> ( !E || !S || !C ) {
04558         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a181">IPDR_ERR_INVALID_VALUE</a>;
04559     }
04560 
04561         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04562 
04563         <span class="keywordflow">if</span>(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o10">Running</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
04564         {
04565                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
04566                                 <span class="stringliteral">"Exporter_AssocCollectorSession_Internal"</span>,
04567                                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a121">MSG_EXPORTER_SESSION_MUST_STOP2</a>,
04568                                 S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>, C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>);
04569                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04570                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a214">IPDR_ERR_SESSION_IS_RUNNING</a>;
04571         }
04572 
04573 
04574         <span class="keywordflow">for</span>(Index = 0;Index &lt; E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o16">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a> ; Index++)
04575         {
04576                 lookForCS = E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o16">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index];
04577 
04578                 <span class="keywordflow">if</span>( (lookForCS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o3">SessionPtr</a> == S) &amp;&amp; (lookForCS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a> == C) )
04579                 {
04580                         CS = lookForCS;
04581                 }
04582         }
04583 
04584         <span class="comment">/* Association exists, just change priority*/</span>
04585         <span class="keywordflow">if</span>( CS != NULL )
04586         {
04587                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a32">Log_Write4</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04588                <span class="stringliteral">"Exporter_AssocCollectorSession_Internal"</span>,
04589                <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a31">MSG_EXPORTER_ASSOC_COLL_SESSION</a>,
04590                            C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>,
04591                <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a15">TL_PrintAddress</a>(C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a>, paBuf),
04592                            S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>,
04593                Priority);
04594                 CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o6">Priority</a> = Priority;
04595                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04596                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a179">IPDR_ERR_COLLECTORSESSION_REASSOC</a>;
04597         }
04598 
04599         <span class="comment">/* Association does not exists yet. Need to make a new one*/</span>
04600         Status = <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a2">Object_Allocate</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a>),
04601                                                         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a42">CollectorSession_Destructor</a>,
04602                                                         (<span class="keywordtype">void</span> **) &amp; CS);
04603         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04604                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04605                 <span class="keywordflow">return</span> Status;
04606         }
04607 
04608         strncpy(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o0">eyecatcher</a>, <span class="stringliteral">"COLLSESS"</span>, <span class="keyword">sizeof</span>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o0">eyecatcher</a>));
04609 
04610         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a> = <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a24">IPDR_CS_DISCONNECTED</a>;
04611         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o2">ExporterPtr</a> = E;
04612         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o3">SessionPtr</a> = S;
04613         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a> = C;
04614         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a> = NULL;
04615         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o6">Priority</a> = Priority;
04616 
04617     <span class="comment">/*</span>
04618 <span class="comment">        TODO:</span>
04619 <span class="comment">        TmplDataTimer;</span>
04620 <span class="comment">    WindowSizeTimer;</span>
04621 <span class="comment">          IPDR_Statistics Statistics;</span>
04622 <span class="comment">    IPDR_Time PrevStatisticsTime;</span>
04623 <span class="comment">            IPDR_Statistics PrevStatistics;</span>
04624 <span class="comment">            IPDR_EventData LastEvent;*/</span>
04625 
04626 
04627         Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a11">DynamicArray_AppendElement</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o16">CollectorSessions</a>), CS, &amp;Index);
04628     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04629         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, CS);
04630         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04631         <span class="keywordflow">return</span> Status;
04632     }
04633 
04634 
04635     Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a11">DynamicArray_AppendElement</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o14">CollectorSessions</a>), CS, &amp;SIndex);
04636     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04637                 <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, CS);
04638         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04639         <span class="keywordflow">return</span> Status;
04640     }
04641 
04642     Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a11">DynamicArray_AppendElement</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o1">CollectorSessions</a>), CS, &amp;CIndex);
04643     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04644                 <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, CS);
04645         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04646         <span class="keywordflow">return</span> Status;
04647     }
04648 
04649         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a32">Log_Write4</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04650                <span class="stringliteral">"Exporter_AssocCollectorSession_Internal"</span>,
04651                <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a31">MSG_EXPORTER_ASSOC_COLL_SESSION</a>,
04652                            C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>,
04653                <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a15">TL_PrintAddress</a>(C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a>, paBuf),
04654                            S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>,
04655                Priority);
04656 
04657 <span class="preprocessor">#ifdef NOTDONEYET</span>
04658 <span class="preprocessor"></span>    ExporterMIB_UpdateTemplates(S);
04659 <span class="preprocessor">#endif</span>
04660 <span class="preprocessor"></span>    <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04661 
04662         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04663 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="Exporter.c::Exporter_AutoconnectCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void Exporter_AutoconnectCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback triggered in order to allow to connect to the configured collectors <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>callback argument (Exporter) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00687 {
00688     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = (<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *) Arg;
00689         <a class="code" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS = E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o3">PS</a>;
00690     <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *Coll;
00691         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *Conn ;
00692         <a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a> C;
00693     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
00694         <span class="keywordtype">int</span> Index, Index1 ;
00695 
00696     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00697 
00698         <span class="keywordflow">for</span> (Index = 0; Index &lt; E-&gt;Collectors.Length; Index++)
00699         {
00700                 Coll = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index];
00701                 <span class="keywordflow">for</span> (Index1 = 0; Index1 &lt; Coll-&gt;IPDRConnections.Length; Index1++)
00702             {
00703                         Conn = (<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *)Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o2">IPDRConnections</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index1];
00704                         <span class="keywordflow">if</span>( (Conn-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o2">Autoconnect</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>) &amp;&amp; (Conn-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> == NULL) )
00705                         {
00706                                 Status = <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a6">TL_CreateConnection</a>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o11">TransportHandle</a>, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o5">LocalAddr</a>, Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a>, Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o5">Port</a>, (<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">TCPConnection</a> **)&amp;Conn-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>);
00707                             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
00708                                 {
00709                                         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a31">Log_Write3</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>, <span class="stringliteral">"Exporter_AutoconnectCallback"</span>,
00710                                                                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a56">MSG_EXPORTER_LOG_CONNECT_ERROR</a>,
00711                                                                 <span class="stringliteral">"TL_CreateConnection"</span>, <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga22">IPDR_StatusMsg</a>(E,Status), <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>(C));
00712                                         <span class="keywordflow">continue</span>;
00713                                 }
00714                                 Conn-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o11">Owner</a> = Conn ;
00715                         }
00716                         C = Conn-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> ;
00717                         <span class="keywordflow">if</span>((Conn-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o2">Autoconnect</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>) &amp;&amp; (Conn-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o1">State</a> == <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a51a21">IPDR_CONNECTION_DISCONNECTED</a>))
00718                         {
00719                                 Status = <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a7">TL_Connect</a>(PS, C);
00720                                 <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
00721                                 {
00722                                         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a31">Log_Write3</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>, <span class="stringliteral">"Exporter_AutoconnectCallback"</span>,
00723                                                                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a56">MSG_EXPORTER_LOG_CONNECT_ERROR</a>,
00724                                                                 <span class="stringliteral">"TL_Connect"</span>, <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga22">IPDR_StatusMsg</a>(E,Status), <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>(C));
00725                                         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a24">TL_HandleDisconnection</a>(C);
00726                                         <span class="keywordflow">continue</span>;
00727                                 }
00728                                 Status = <a class="code" href="../../dd/d0a/_for_doxygen_2src_2_exporter_2_exporter_protocol_8c.html#a35">ExporterProtocol_AutoconnectCallback</a>(E, Coll, C);
00729                                 <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
00730                                 {
00731                                         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a24">TL_HandleDisconnection</a>(C);
00732                                 }
00733                         }
00734             }
00735         }
00736 
00737         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00738 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a109" doxytag="Exporter.c::Exporter_BuildRecord"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_BuildRecord           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/d38/struct_i_p_d_r__tag___chunks_manager.html">ChunksManager</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CMgr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct <a class="el" href="../../da/d62/struct_i_p_d_r__tag___template.html">IPDR_tag_Template</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Tmpl</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html">BufferHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>BH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>RecordSize</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Given a chunks manager, session, template and raw data construct a new record in the chunks manager.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CMgr</em>&nbsp;</td><td>chunks manager. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>session handle (pointer). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Tmpl</em>&nbsp;</td><td>template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Data</em>&nbsp;</td><td>the data to be output (as described by the template) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BH</em>&nbsp;</td><td>buffer handle referencing the new record (output) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RecordSize</em>&nbsp;</td><td>size of generated record (output)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04078 {
04079     DataMessage *Header;
04080 
04081     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o8">BuildFunc</a>(CMgr, S, (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) Tmpl,
04082                                           Data, BH, RecordSize);
04083     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
04084         <span class="keywordflow">return</span> Status;
04085 
04086     Header = (DataMessage *) BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>;
04087     <a class="code" href="../../dd/d0a/_for_doxygen_2src_2_exporter_2_exporter_protocol_8c.html#a40">ExporterProtocol_FillHeader</a>(S, BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>, <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a39">IPDR_MSG_DATA</a>, (*RecordSize));
04088 
04089     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a8">IPDR_SET_HTONS</a>(Header-&gt;TemplateID, Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o0">TemplateID</a>);
04090         <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a8">IPDR_SET_HTONS</a>(Header-&gt;ConfigurationID, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a>-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o3">ConfigurationID</a>);
04091     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a10">IPDR_SET_HTONLL</a>(Header-&gt;sequenceNum, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o6">DSN</a>);
04092         <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a9">IPDR_SET_HTONL</a>(Header-&gt;dataLength, (*RecordSize) - <span class="keyword">sizeof</span>(DataMessage));
04093     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04094 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="Exporter.c::Exporter_ConnectCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void Exporter_ConnectCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Conn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned short&nbsp;</td>
          <td class="mdname" nowrap> <em>Port</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback invoked when a server (collector) connects. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Conn</em>&nbsp;</td><td>connected connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Addr</em>&nbsp;</td><td>remove address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Port</em>&nbsp;</td><td>remove port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>callback argument (Exporter) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">01016 {
01017     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = (<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>*)Arg;
01018         <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *Coll = NULL;
01019         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC = NULL;
01020         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
01021         <span class="comment">/*int Index ;*/</span>
01022         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a> paBuf;
01023         
01024         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01025 
01026     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a27">Log_StateTransition</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a172">IPDR_LEVEL_DEBUG</a>,
01027                         <span class="stringliteral">"Exporter_ConnectCallback"</span>, Conn,
01028                         <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a24">IPDR_CS_DISCONNECTED</a>, <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a24">IPDR_CS_DISCONNECTED</a>,
01029                         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(Addr, Port, paBuf));
01030 
01031         <span class="comment">/*for (Index = 0; Index &lt; E-&gt;DummyCollectors.Length; Index++)</span>
01032 <span class="comment">        {</span>
01033 <span class="comment">        Coll = (Collector *) E-&gt;DummyCollectors.Data[Index];</span>
01034 <span class="comment">        if (Coll-&gt;Addr == Conn-&gt;RemoteAddr)</span>
01035 <span class="comment">                        break ;</span>
01036 <span class="comment">        </span>
01037 <span class="comment">                Coll = NULL ;</span>
01038 <span class="comment">    }*/</span>
01039 
01040         <span class="keywordflow">if</span>(Coll == NULL)
01041         {
01042                 <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(<a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a114">Exporter_AddCollectorInternal</a>(E,
01043                                                                         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o1">RemoteAddr</a>, Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o2">RemotePort</a>, paBuf),
01044                                                                         Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o1">RemoteAddr</a>,
01045                                                                         Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o2">RemotePort</a>,
01046                                                                         0,<a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>,
01047                                                                         &amp;Coll)))
01048                 {
01049                         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
01050                                         <span class="stringliteral">"Exporter_ConnectCallback"</span>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a19">MSG_EXPORTER_UNKNOWN_SERVER</a>,
01051                                         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o1">RemoteAddr</a>, Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o2">RemotePort</a>, paBuf));
01052                         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01053                         return ;
01054                 }
01055                 
01056                 <span class="comment">/*for (Index = 0; Index &lt; E-&gt;DummyCollectors.Length; Index++)</span>
01057 <span class="comment">                {</span>
01058 <span class="comment">                        Coll = (Collector *) E-&gt;DummyCollectors.Data[Index];</span>
01059 <span class="comment">                        if (Coll-&gt;Addr == Conn-&gt;RemoteAddr &amp;&amp;</span>
01060 <span class="comment">                                Coll-&gt;Port == Conn-&gt;RemotePort &amp;&amp;</span>
01061 <span class="comment">                                strcmp(Coll-&gt;Name, TL_PrintAddressAndPort(Conn-&gt;RemoteAddr, Conn-&gt;RemotePort, paBuf)) == 0)</span>
01062 <span class="comment">                                break ;</span>
01063 <span class="comment">                        </span>
01064 <span class="comment">                        Coll = NULL ;</span>
01065 <span class="comment">                }*/</span>
01066         }
01067         
01068         <span class="keywordflow">if</span>(Coll == NULL)
01069         {
01070                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
01071                                 <span class="stringliteral">"Exporter_ConnectCallback"</span>, <span class="stringliteral">"Failed To Create Dummy Collector, Remote Addres: %.98s"</span>,
01072                                 <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>(Conn));
01073                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01074                 return ;        
01075         }
01076         
01077         Status = <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a43">Exporter_AddIPDRConnectionToCollector</a>( E, Coll, Conn );
01078         <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
01079         {
01080                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
01081                                 <span class="stringliteral">"Exporter_ConnectCallback"</span>, <span class="stringliteral">"Failed To Add IPDRConnection To Collector, Remote Addres: %.98s"</span>,
01082                                 <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>(Conn));
01083                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01084                 return ;
01085         }
01086         
01087         IC = (<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *)Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o11">Owner</a>;
01088         
01089         <span class="keywordflow">if</span>(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o5">ConnectResponseTimerID</a> != NULL)
01090                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o5">ConnectResponseTimerID</a>));
01091 
01092         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a9">Platform_RegisterTimer</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
01093                                                 <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a26">ExporterProtocol_WaitConnectTimeoutCallback</a>,
01094                                                         IC,
01095                             E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o7">ConnectResponseTimeout</a>,
01096                             &amp; (IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o5">ConnectResponseTimerID</a>));
01097 
01098         <a class="code" href="../../dd/d0a/_for_doxygen_2src_2_exporter_2_exporter_protocol_8c.html#a36">ExporterProtocol_ConnectCallback</a>(Conn, Addr, Port, Arg);
01099         
01100         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01101 
01102         return ;
01103 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a112" doxytag="Exporter.c::Exporter_CreateSessionInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_CreateSessionInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>ID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Description</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>SH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new session with the client. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga0">IPDR_CreateSession</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>handle to a previously created client </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Name</em>&nbsp;</td><td>session name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ID</em>&nbsp;</td><td>session ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Description</em>&nbsp;</td><td>session description </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SH</em>&nbsp;</td><td>handle to the newly created session</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04240 {
04241     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
04242     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S;
04243     <span class="keywordtype">int</span> Index;
04244     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
04245 
04246         <span class="keywordflow">if</span>(!ID || !E || !Name)
04247                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a181">IPDR_ERR_INVALID_VALUE</a>;
04248 
04249     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04250 
04251     *SH = NULL; <span class="comment">/* what we return if there's an error */</span>
04252 
04253     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a17">SUCCESS</a>(<a class="code" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga2">IPDR_GetSession</a>(E, ID, SH, NULL, NULL))) {
04254         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04255         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a191">IPDR_ERR_SESSION_ALREADY_EXISTS</a>;
04256     }
04257 
04258 <span class="preprocessor">#if 0</span>
04259 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (0) {
04260         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numSessions;
04261         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a15">DynamicArray_CountObjects</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;C-&gt;Sessions, &amp;numSessions);
04262         <span class="keywordflow">if</span> (numSessions &gt; 0) {
04263             <span class="comment">/* XXX Restriction: only one session because the templates'</span>
04264 <span class="comment">             * data are "global" and not specialized to a single session</span>
04265 <span class="comment">             * (if desired). This will need to be fixed in the future; but</span>
04266 <span class="comment">             * for now, just document it and make sure that mistakes</span>
04267 <span class="comment">             * aren't made. */</span>
04268             <span class="keywordflow">return</span> IPDR_ERR_TOO_MANY_SESSIONS;
04269         }
04270     }
04271 <span class="preprocessor">#endif</span>
04272 <span class="preprocessor"></span>
04273     Status = <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a2">Object_Allocate</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a>),
04274                              <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a39">Session_Destructor</a>,
04275                              (<span class="keywordtype">void</span> **) &amp; S);
04276 
04277     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04278         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04279         <span class="keywordflow">return</span> Status;
04280     }
04281     strncpy(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o0">eyecatcher</a>, <span class="stringliteral">"SESSION"</span>, <span class="keyword">sizeof</span> S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o0">eyecatcher</a>);
04282 
04283 
04284     Status = <a class="code" href="../../d0/dfd/_for_doxygen_2src_2_common_2_common_util_8c.html#a5">Util_StrDup</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Name, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o17">Name</a>));
04285     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04286         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, S);
04287         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04288         <span class="keywordflow">return</span> Status;
04289     }
04290 
04291     Status = <a class="code" href="../../d0/dfd/_for_doxygen_2src_2_common_2_common_util_8c.html#a5">Util_StrDup</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Description, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o18">Description</a>));
04292     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04293         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, S);
04294         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04295         <span class="keywordflow">return</span> Status;
04296     }
04297 
04298     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a> = ID;
04299     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a> = E;
04300     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a> = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a> = NULL;
04301     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o13">ActiveCS</a> = NULL;
04302     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o6">DSN</a> = <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a4">IPDR_INITIAL_DSN</a>;
04303     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o7">SyncNeeded</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>;
04304     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o8">SendingData</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
04305         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o9">Retransmite</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
04306         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o10">Running</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>; <span class="comment">/*Platform_IsRunning(EXPORTER_PLATFORM);*/</span>
04307     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o1">CCollectors</a> = NULL;
04308         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o12">TemplatesChnged</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>;
04309         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o11">Negotiable</a> = E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o11">caps</a>.<a class="code" href="../../d3/d7e/struct_exporter_capabilities.html#o1">TemplateNegotiation</a>;
04310         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o2">CCollectorsLength</a> = 0;
04311 
04312     <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;CreateSession(E, S);
04313 
04314     <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a32">StatisticsInitialize</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o22">PrevStatisticsTime</a>, &amp;S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o23">PrevStatistics</a>, &amp;S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o23">PrevStatistics</a>);
04315 
04316     Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a12">DynamicArray_AddElement</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>), S,
04317                                      &amp; Index);
04318     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
04319         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, S);
04320         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04321         <span class="keywordflow">return</span> Status;
04322     }
04323 
04324     <span class="keywordflow">if</span> (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o1">Started</a>) {
04325                 <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a45">Session_CreateNewWorkContext</a>(E, S, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>), <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>);
04326     }
04327 
04328     *SH = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>) S;
04329 
04330     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a31">Log_Write3</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04331                <span class="stringliteral">"Exporter_CreateSessionInternal"</span>,
04332                <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a9">MSG_EXPORTER_ADD_SESSION</a>, ID, Name, Description);
04333 
04334     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04335     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04336 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="Exporter.c::Exporter_CreateTemplateInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_CreateTemplateInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>SchemaName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>TypeName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>NumKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Keys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>StatusFlag</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a template (internal).<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga6">IPDR_CreateTemplate</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>client (transmitter) handle (pointer) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>session handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SchemaName</em>&nbsp;</td><td>schema name of the template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TypeName</em>&nbsp;</td><td>type name of the template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumKeys</em>&nbsp;</td><td>number of @ Keys </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Keys</em>&nbsp;</td><td>keys in the template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>StatusFlag</em>&nbsp;</td><td>true for Status template, false otherwise </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>template handle (updated)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="Exporter.c::Exporter_DataCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void Exporter_DataCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Conn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html">BufferHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>BH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>MsgLen</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback invoked when data arrives on a connection or no data arrives within the timeout.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Conn</em>&nbsp;</td><td>connected connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BH</em>&nbsp;</td><td>received buffer (NULL if timeout) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MsgLen</em>&nbsp;</td><td>length of message in the buffer (0 if timeout) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>callback argument (Exporter) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">01169 {
01170         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>                *E = (<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *) Arg;
01171         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01172         <a class="code" href="../../dd/d0a/_for_doxygen_2src_2_exporter_2_exporter_protocol_8c.html#a38">ExporterProtocol_DataCallback</a>(Conn, BH, MsgLen, Arg);
01173         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01174         return ;
01175 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a113" doxytag="Exporter.c::Exporter_DeleteSessionInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_DeleteSessionInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a previously created session. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga1">IPDR_DeleteSession</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>handle to a previously created client </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>handle to the session</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04351 {
04352     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
04353     <span class="keywordtype">int</span> i, j;
04354     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
04355 
04356         <span class="keywordflow">if</span>(!E || !S)
04357                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a181">IPDR_ERR_INVALID_VALUE</a>;
04358 
04359         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04360         <span class="keywordflow">if</span>(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o13">ActiveCS</a> != NULL || S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o10">Running</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
04361         {
04362                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04363                            <span class="stringliteral">"Exporter_DeleteSessionInternal"</span>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a73">MSG_EXPORTER_ACTIVE_COLLECTOR_EXISTS</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o17">Name</a>);
04364                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04365                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a211">IPDR_ERR_ACTIVE_COLLECTOR_EXISTS</a>;
04366         }
04367 
04368     <span class="keywordflow">for</span> (i = 0; i &lt; E-&gt;Sessions.Length; i++)
04369         {
04370         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S1 = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
04371         <span class="keywordflow">if</span> (S1 == S)
04372                 {
04373             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04374                        <span class="stringliteral">"Exporter_DeleteSessionInternal"</span>,
04375                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a10">MSG_EXPORTER_REMOVE_SESSION</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>);
04376                         
04377                         <span class="keywordflow">for</span> (j = 0; j &lt; S-&gt;CollectorSessions.Length; j++)
04378                         {
04379                                 <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS = (<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *)S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o14">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
04380                                 <span class="keywordflow">if</span>(CS != NULL &amp;&amp; CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a> &amp;&amp; CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a> != NULL &amp;&amp;
04381                                         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>)
04382                                 {
04383                                         Status = <a class="code" href="../../dd/d0a/_for_doxygen_2src_2_exporter_2_exporter_protocol_8c.html#a57">ExporterProtocol_SendError</a>(E, S, CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a>, CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>, <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a57a53">CollectorNotInSession</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a123">MSG_EXPORTER_COLLECTOR_NOT_IN_SESSION</a>);
04384                                         <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
04385                                         {
04386                                                 <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a24">TL_HandleDisconnection</a>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>);
04387                                         }
04388                                 }
04389                         }
04390 
04391             Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a9">DynamicArray_RemoveAndShift</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>), i);
04392 
04393                         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04394             <span class="keywordflow">return</span> Status;
04395         }
04396     }
04397 
04398     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04399     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a192">IPDR_ERR_UNABLE_TO_FIND_SESSION</a>;
04400 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="Exporter.c::Exporter_DeleteSessionInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_DeleteSessionInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="Exporter.c::Exporter_Destructor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Exporter_Destructor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Obj</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete resources associated with a client. <dl compact><dt><b>Note:</b></dt><dd>not static --- used by MemoryManagement.c</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PS</em>&nbsp;</td><td>platform services </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Obj</em>&nbsp;</td><td>object to delete </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00772 {
00773 
00774     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = (<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *) Obj;
00775 
00776     strncpy(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o0">eyecatcher</a>, <span class="stringliteral">"Dclient"</span>, <span class="keyword">sizeof</span> E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o0">eyecatcher</a>);
00777 
00778     <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(PS, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o3">VendorString</a>);
00779     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a20">Platform_MemoryFree</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o34">CSessions</a>);
00780 
00781     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(PS, &amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o17">StatisticsTimerID</a>);
00782         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(PS, &amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o18">AutoconnectTimerID</a>);
00783 
00784     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a17">Platform_UnregisterSocketAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o10">ProtocolInfoEvent</a>);
00785     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a44">Platform_CloseAndInvalidate</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>);
00786 
00787     <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;Destroy(E);
00788 
00789         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(PS, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>));
00790         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(PS, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>));
00791         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(PS, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o16">CollectorSessions</a>));
00792         <a class="code" href="../../d6/d41/_for_doxygen_2src_2_common_2_console_8c.html#a26">Console_Delete</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o12">ConsolePtr</a>));
00793 
00794     <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a4">TL_Shutdown</a>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o11">TransportHandle</a>);
00795 
00796     <span class="comment">/* Templates_Finalize ... not needed and no such thing */</span>
00797     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a22">Log_Disable</a>(&amp; E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o29">ExporterLog</a>);
00798     <span class="comment">/* TCPMsgs_Remove     ... not needed */</span>
00799     <span class="comment">/* CommonMsgs_Remove  ... not needed */</span>
00800     <span class="comment">/* ExporterMsgs_Remove  ... not needed */</span>
00801 
00802     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a15">Log_Finalize</a>(&amp; E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o29">ExporterLog</a>);
00803     strncpy(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o0">eyecatcher</a>, <span class="stringliteral">"Xclient"</span>, <span class="keyword">sizeof</span> E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o0">eyecatcher</a>);
00804 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="Exporter.c::Exporter_DisconnectCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void Exporter_DisconnectCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Conn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback invoked when a server (collector) disconnects. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Conn</em>&nbsp;</td><td>connected connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>callback argument (Exporter) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">01142 {
01143     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = (<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>*)Arg;
01144 
01145     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a27">Log_StateTransition</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a172">IPDR_LEVEL_DEBUG</a>,
01146                         <span class="stringliteral">"Exporter_DisconnectCallback"</span>, Conn,
01147                         <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a24">IPDR_CS_DISCONNECTED</a>, <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a24">IPDR_CS_DISCONNECTED</a>,
01148                         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>(Conn));
01149 
01150         <span class="keywordflow">if</span>( Conn-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o11">Owner</a> != NULL )
01151                 <a class="code" href="../../dd/d0a/_for_doxygen_2src_2_exporter_2_exporter_protocol_8c.html#a37">ExporterProtocol_DisconnectCallback</a>(Conn, E);
01152 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a103" doxytag="Exporter.c::Exporter_GetCapabilities"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int Exporter_GetCapabilities           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>E</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">03950 {
03951         <span class="keywordtype">int</span>  exporterCapabilities = 0;
03952         <span class="keywordflow">if</span>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o11">caps</a>.<a class="code" href="../../d3/d7e/struct_exporter_capabilities.html#o2">StructureSupport</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
03953                 exporterCapabilities = exporterCapabilities | 0x1u ;
03954         <span class="keywordflow">if</span>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o11">caps</a>.<a class="code" href="../../d3/d7e/struct_exporter_capabilities.html#o0">MultiSession</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
03955                 exporterCapabilities = exporterCapabilities | 0x2u ;
03956         <span class="keywordflow">if</span>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o11">caps</a>.<a class="code" href="../../d3/d7e/struct_exporter_capabilities.html#o1">TemplateNegotiation</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
03957                 exporterCapabilities = exporterCapabilities | 0x4u ;
03958         <span class="keywordflow">return</span> exporterCapabilities ;
03959 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="Exporter.c::Exporter_InitDebugLevels"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_InitDebugLevels           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>E</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="Exporter.c::Exporter_InitializeParameters"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_InitializeParameters           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>E</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the parameters for a client.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>exporter handle (pointer)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">00168 {
00169 <span class="preprocessor">#if defined(USE_WINDOWSIZE)</span>
00170 <span class="preprocessor"></span>    E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.WindowSize =
00171         ParametersHandler_GetLongParam(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00172                                        <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a172">STR_configuration_windowSize</a>);
00173 <span class="preprocessor">#endif</span>
00174 <span class="preprocessor"></span>
00175     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o0">WindowTimeout</a> =
00176         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00177                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a173">STR_configuration_windowTimeout</a>);
00178 
00179     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o1">ProtocolLevelAddr</a> =
00180         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a17">TL_ParseAddress</a>(<a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a15">ParametersHandler_GetStringParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00181                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a160">STR_configuration_protocolLevelAddr</a>));
00182                                                                           
00183     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o2">StatisticsInterval</a> =
00184         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00185                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a159">STR_configuration_statisticsInterval</a>);
00186 
00187     <a class="code" href="../../d0/dfd/_for_doxygen_2src_2_common_2_common_util_8c.html#a6">Util_StrDupAndReplace</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
00188                           <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a15">ParametersHandler_GetStringParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00189                                                            <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a171">STR_configuration_vendorString</a>),
00190                           &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o3">VendorString</a>));
00191 
00192         <span class="comment">/* IPDR Parameters */</span>
00193     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o4">KeepAliveInterval</a> =
00194         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00195                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a161">STR_configuration_keepAliveInterval</a>);
00196 
00197     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o5">AutoconnectInterval</a> =
00198         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00199                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a162">STR_configuration_autoconnectInterval</a>);
00200 
00201     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o6">TemplateAckTimeout</a> =
00202         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00203                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a163">STR_configuration_templateAckTimeout</a>);
00204 
00205     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o7">ConnectResponseTimeout</a> =
00206         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00207                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a164">STR_configuration_connectResponseTimeout</a>);
00208 
00209     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o8">WaitBestCollectorTimeout</a> =
00210         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00211                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a165">STR_configuration_waitBestCollectorTimeout</a>);
00212 
00213         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o9">DataAckTimeInterval</a> =
00214                 <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00215                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a166">STR_configuration_dataAckTimeInterval</a>);
00216 
00217         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o10">DataAckSequenceInterval</a> =
00218                 <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00219                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a167">STR_configuration_dataAckSequenceInterval</a>);
00220 
00221     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o11">caps</a>.<a class="code" href="../../d3/d7e/struct_exporter_capabilities.html#o0">MultiSession</a> =
00222         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00223                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a168">STR_configuration_capabilities_multiSession</a>);
00224 
00225     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o11">caps</a>.<a class="code" href="../../d3/d7e/struct_exporter_capabilities.html#o1">TemplateNegotiation</a> =
00226         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00227                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a169">STR_configuration_capabilities_templateNegotiation</a>);
00228 
00229     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o11">caps</a>.<a class="code" href="../../d3/d7e/struct_exporter_capabilities.html#o2">StructureSupport</a> =
00230         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
00231                                       <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a170">STR_configuration_capabilities_structureSupport</a>);
00232 
00233     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
00234 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="Exporter.c::Exporter_InitializeProtocolInfo"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_InitializeProtocolInfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>E</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize a UDP socket which will listen for protocol info messages.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>- exporter handle (pointer)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03721 {
03722     <span class="keyword">const</span> <span class="keywordtype">char</span> *Addr;
03723     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
03724 
03725     Addr = <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a15">ParametersHandler_GetStringParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
03726                                             <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a157">STR_configuration_protocolInfoAddr</a>);
03727     <span class="keywordflow">if</span> (Addr == NULL)
03728         Addr = <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a15">ParametersHandler_GetStringParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
03729                                                 <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a142">STR_configuration_exporterAddress</a>);
03730 
03731     <span class="keywordflow">if</span> (Addr == NULL)
03732         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o7">ProtocolInfoAddr</a> = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga25">IPDR_DEFAULT_ADDRESS</a>;
03733     <span class="keywordflow">else</span>
03734         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o7">ProtocolInfoAddr</a> = <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a17">TL_ParseAddress</a>(Addr);
03735 
03736     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o8">ProtocolInfoPort</a> =
03737         (<span class="keywordtype">unsigned</span> short) <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
03738                                                        <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a158">STR_configuration_protocolInfoPort</a>);
03739     <span class="keywordflow">if</span> (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o8">ProtocolInfoPort</a> == 0) { <span class="comment">/* Documented convention in IPDR.h. */</span>
03740         <a class="code" href="../../dc/d2f/group___i_p_d_r__transitional__typedefs.html#ga2">IPDR_SetInvalidSocket</a>(&amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>);
03741         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
03742     }
03743 
03744     <span class="comment">/* create a UDP socket which will listen to request on the info port */</span>
03745 
03746     Status = <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a40">Platform_CreateUDPSocket</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
03747                                       &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>));
03748     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
03749         <a class="code" href="../../dc/d2f/group___i_p_d_r__transitional__typedefs.html#ga2">IPDR_SetInvalidSocket</a>(&amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>);
03750         <span class="keywordflow">return</span> Status;
03751     }
03752 
03753     Status = <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a41">Platform_Bind</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>,
03754                            E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o7">ProtocolInfoAddr</a>, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o8">ProtocolInfoPort</a>);
03755     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
03756         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a44">Platform_CloseAndInvalidate</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>);
03757         <span class="keywordflow">return</span> Status;
03758     }
03759 
03760 <span class="preprocessor">#ifdef TRACE_MAINFUNC</span>
03761 <span class="preprocessor"></span>    fprintf(stderr, <span class="stringliteral">"RegisterReadSocket %d [UDP] ProtocolInfo\n"</span>, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>); fflush(stderr);
03762 <span class="preprocessor">#endif</span>
03763 <span class="preprocessor"></span>    Status = <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a14">Platform_RegisterReadSocket</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
03764                                          E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>,
03765                                          <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a100">Exporter_ProtocolInfoCallback</a>,
03766                                          E,
03767                                          &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o10">ProtocolInfoEvent</a>));
03768     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
03769         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a44">Platform_CloseAndInvalidate</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o9">ProtocolInfoSocket</a>);
03770     }
03771 
03772     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
03773 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a110" doxytag="Exporter.c::Exporter_PrepareToSend"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_PrepareToSend           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called before sending a record in order to validate the window size.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>exporter hadle (pointer) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>session handle (pointer).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise.</dd></dl>
Srv-&gt;Conn || <div class="fragment"><pre class="fragment">04109 {
04110     <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS;
04111     <a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a> *TC = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a>;
04112 
04113     <span class="keywordflow">if</span> (TC == NULL)
04114         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a205">IPDR_ERR_NO_ACTIVE_COLLECTOR</a>;
04115 
04116     CS = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o13">ActiveCS</a>;
04117     <span class="keywordflow">if</span> (CS == NULL || CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a> != <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a27">IPDR_CS_ACTIVE</a>) {
04118         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a205">IPDR_ERR_NO_ACTIVE_COLLECTOR</a>;
04119     }
04120 
04121     <span class="comment">/* The following if statement is wrong ... it sets the timeout</span>
04122 <span class="comment">       only when we exceed the window. But we should have the timer</span>
04123 <span class="comment">       going for all records, using the window to stop sending</span>
04124 <span class="comment">       anything more unless we have an acknowledgment. Instead, the</span>
04125 <span class="comment">       code is now in Exporter_SendRecord(). */</span>
04126 
04127     <span class="comment">/* if (EXPORTER_QHANDLER-&gt;OutstandingDataCount(C, S) &gt;</span>
04128 <span class="comment">       C-&gt;Parameters.WindowSize &amp;&amp;</span>
04129 <span class="comment">       Srv-&gt;WindowSizeTimer == NULL) {</span>
04130 <span class="comment">    */</span>
04131 
04132     <span class="comment">/* There is no good reason to check for window size ... the TCP buffer</span>
04133 <span class="comment">       will almost always fill up sooner unless something is awfully wrong</span>
04134 <span class="comment">       with the receiver (the TCP layer is ACKing but the collector can't</span>
04135 <span class="comment">       handle the records. So, don't bother doing this test. */</span>
04136 
04137 <span class="preprocessor">#if defined(USE_WINDOWSIZE)</span>
04138 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;OutstandingDataCount(E, S) &gt; E-&gt;Parameters.WindowSize) {
04139         <span class="comment">/* Window is full ... don't send anything.  Note that this isn't</span>
04140 <span class="comment">           an error in the normal sense ... it's just our way of</span>
04141 <span class="comment">           indicating the window is full and we're not sending anything</span>
04142 <span class="comment">           more. */</span>
04143         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a180">IPDR_ERR</a>;
04144     }
04145 <span class="preprocessor">#endif</span>
04146 <span class="preprocessor"></span>
04147     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04148 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a100" doxytag="Exporter.c::Exporter_ProtocolInfoCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void Exporter_ProtocolInfoCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../db/d76/struct_i_p_d_r__tag___socket.html">IPDR_SocketHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback triggered whenever a protocol info request arrives.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>socket </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>additional argument (client) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">03644 {
03645     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga9">IPDR_IPAddress</a> RemoteAddr;
03646     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> RemotePort;
03647     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
03648     <a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html">ProtocolInfoRequestMessage</a> RequestMsg;
03649     ProtocolInfoResponseMessage ResponseMsg;
03650     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ReadBytes;
03651 
03652     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = (<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *) Arg;
03653 
03654     memset(&amp;ResponseMsg, <span class="keyword">sizeof</span> ResponseMsg, 0); <span class="comment">/* ensure zeros in padding areas */</span>
03655 
03656     Status = <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a50">Platform_RecvFrom</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, S,
03657                                (<span class="keywordtype">char</span> *) &amp; RequestMsg,
03658                                <span class="keyword">sizeof</span>(RequestMsg),
03659                                &amp; RemoteAddr,
03660                                &amp; RemotePort,
03661                                &amp; ReadBytes);
03662     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status) || ReadBytes == 0) <span class="comment">/* do nothing if it's just a timer going off */</span>
03663         return ;
03664 
03665     <span class="comment">/* Sanity check the remote message; but keep going even if it's</span>
03666 <span class="comment">     * suspcious (log a message, though). This is because the current</span>
03667 <span class="comment">     * server (collector) might not behaving properly; and we don want to get the</span>
03668 <span class="comment">     * connection going. */</span>
03669 
03670     <span class="keywordflow">if</span> (ReadBytes &lt; <span class="keyword">sizeof</span> (<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html">ProtocolInfoRequestMessage</a>)) {
03671         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a> paBuf;
03672         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a170">IPDR_LEVEL_WARNING</a>,
03673                    <span class="stringliteral">"Exporter_ProtocolInfoCallback"</span>,
03674                    <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a46">MSG_EXPORTER_BAD_PROTOCOL_REQUEST_LEN</a>,
03675                    <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(RemoteAddr, RemotePort, paBuf),
03676                    ReadBytes);
03677     } <span class="keywordflow">else</span> {
03678         <span class="keyword">const</span> ProtocolInfoRequestMessage* r = (<span class="keyword">const</span> ProtocolInfoRequestMessage*)&amp;RequestMsg;
03679         <span class="keywordtype">char</span> buf[<a class="code" href="../../d5/d74/group___i_p_d_r__time__services.html#ga16">IPDR_TIME_FORMAT_LENGTH</a>+1];
03680         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a> paBuf1, paBuf2;
03681         <span class="keywordflow">if</span> (r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[0] != <span class="charliteral">'I'</span> ||
03682             r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[1] != <span class="charliteral">'P'</span> ||
03683             r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[2] != <span class="charliteral">'D'</span> ||
03684             r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[3] != <span class="charliteral">'R'</span>) {
03685             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a170">IPDR_LEVEL_WARNING</a>,
03686                        <span class="stringliteral">"Exporter_ProtocolInfoCallback"</span>,
03687                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a47">MSG_EXPORTER_BAD_PROTOCOL_REQUEST</a>,
03688                        <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(RemoteAddr, RemotePort, paBuf1),
03689                        r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[0], r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[1], r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[2], r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o2">MSG</a>[3]);
03690         }
03691 
03692         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a32">Log_Write4</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
03693                    <span class="stringliteral">"Exporter_ProtocolInfoCallback"</span>,
03694                    <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a26">MSG_EXPORTER_PROTOCOL_INFO</a>,
03695                    <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(RemoteAddr, RemotePort, paBuf1),
03696                    <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a15">TL_PrintAddress</a>(<a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a12">IPDR_NTOHL</a>(r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o0">ServerAddress</a>), paBuf2),
03697                    <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a60">Platform_FormatTimeGMT</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a12">IPDR_NTOHL</a>(r-&gt;<a class="code" href="../../d3/d0a/struct_protocol_info_request_message.html#o1">ServerBootTime</a>), buf),
03698                    E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o6">LocalPort</a>);
03699     }
03700 
03701     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a9">IPDR_SET_HTONL</a>(ResponseMsg.AdditionalProtocolsCount, 0);
03702     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a9">IPDR_SET_HTONL</a>(ResponseMsg.DefaultProtocol.TransportType, <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a1">IPDR_TRANSPORT_TCP</a>);
03703     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a9">IPDR_SET_HTONL</a>(ResponseMsg.DefaultProtocol.ProtocolVersion, <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a18">IPDR_PROTOCOL_VERSION</a>);
03704     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a8">IPDR_SET_HTONS</a>(ResponseMsg.DefaultProtocol.PortNumber, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o6">LocalPort</a>);
03705     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a8">IPDR_SET_HTONS</a>(ResponseMsg.DefaultProtocol.Reserved, 0);
03706 
03707     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a51">Platform_SendTo</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, S, (<span class="keyword">const</span> <span class="keywordtype">char</span> *) &amp; ResponseMsg,
03708                     <span class="keyword">sizeof</span>(ResponseMsg), RemoteAddr, RemotePort);
03709 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a101" doxytag="Exporter.c::Exporter_Reconfigure"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_Reconfigure           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>E</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle reconfiguration of the client (transmitter) due to changes in parameters (this may close the current connections open by the client (transmitter) to server (collector)s and open connections to the console).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>exporter handle (pointer) to reconfigure</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03787 {
03788     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S;
03789         <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *Coll;
03790         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC;
03791     <span class="keywordtype">int</span> i, j;
03792     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga9">IPDR_IPAddress</a> Addr;
03793     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> Port;
03794     <a class="code" href="../../db/d5a/struct_chunk_allocator.html">ChunkAllocator</a> Alloc;
03795     <span class="keyword">const</span> <span class="keywordtype">char</span> *LocalAddr;
03796         <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> transportRestarted = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
03797 
03798     <span class="keywordflow">if</span> (! E) {
03799         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
03800     }
03801 
03802         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03803         
03804 <span class="preprocessor">#if defined(SNMP_SUPPORT)</span>
03805 <span class="preprocessor"></span>        Platform_MIB_UnSetExporterHandle(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o3">PS</a>);
03806 <span class="preprocessor">#endif</span>
03807 <span class="preprocessor"></span>
03808         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o17">StatisticsTimerID</a>));
03809         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o18">AutoconnectTimerID</a>));
03810 
03811     <span class="comment">/* reconfigure the console */</span>
03812     <a class="code" href="../../d6/d41/_for_doxygen_2src_2_common_2_console_8c.html#a24">Console_Reconfigure</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o12">ConsolePtr</a>), &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>));
03813 
03814     <span class="comment">/* reconfigure the transport layer - (used to reconfigure memory usage) */</span>
03815     <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a23">TL_Reconfigure</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a2">EXPORTER_TRANSPORT</a>);
03816 
03817     <span class="comment">/* check if the client port / address have changed and recreate</span>
03818 <span class="comment">       the transport layer if needed */</span>
03819 
03820     LocalAddr = <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a15">ParametersHandler_GetStringParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
03821                                                  <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a142">STR_configuration_exporterAddress</a>);
03822     <span class="keywordflow">if</span> (LocalAddr == NULL || strlen(LocalAddr) == 0)
03823         Addr = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga25">IPDR_DEFAULT_ADDRESS</a>;
03824     <span class="keywordflow">else</span>
03825         Addr = <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a17">TL_ParseAddress</a>(LocalAddr);
03826 
03827     Port =
03828         (<span class="keywordtype">unsigned</span> short) <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
03829                                                        <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a143">STR_configuration_exporterPort</a>);
03830 
03831     <span class="keywordflow">if</span> (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o5">LocalAddr</a> != Addr || E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o6">LocalPort</a> != Port) {
03832 
03833                 transportRestarted = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a> ;
03834         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o5">LocalAddr</a> = Addr;
03835         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o6">LocalPort</a> = Port;
03836                 
03837                 <span class="keywordflow">for</span> ( i = 0 ; i &lt; E-&gt;Sessions.Length ; i++ )
03838                 {
03839                         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *)E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03840                         <span class="keywordflow">if</span>(S != NULL)
03841                         {
03842                                 <a class="code" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga13">IPDR_StopSession</a>(S, <a class="code" href="../../df/dcb/group___i_p_d_r__key__type__attributes.html#gga66a122">IPDR_STOP_REASON_EXIT</a>, 1000);
03843                         }
03844                 }
03845                 <span class="keywordflow">for</span> ( i = 0 ; i &lt; E-&gt;DummyCollectors.Length ; i++ )
03846                 {
03847                         Coll = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *)E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o15">DummyCollectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03848                         <span class="keywordflow">if</span>(Coll != NULL)
03849                         {
03850                                 <span class="keywordflow">for</span> ( j = 0 ; j &lt; Coll-&gt;IPDRConnections.Length ; j++ )
03851                                 {
03852                                         IC = (<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *)Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o2">IPDRConnections</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
03853                                         <span class="keywordflow">if</span>(IC &amp;&amp; IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>)
03854                                         {
03855                                                 <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a24">TL_HandleDisconnection</a>(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>);
03856                                         }
03857                                 }
03858                         }
03859                 }
03860                 <span class="keywordflow">for</span> ( i = 0 ; i &lt; E-&gt;Collectors.Length ; i++ )
03861                 {
03862                         Coll = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *)E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03863                         <span class="keywordflow">if</span>(Coll != NULL)
03864                         {
03865                                 <span class="keywordflow">for</span> ( j = 0 ; j &lt; Coll-&gt;IPDRConnections.Length ; j++ )
03866                                 {
03867                                         IC = (<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *)Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o2">IPDRConnections</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
03868                                         <span class="keywordflow">if</span>(IC &amp;&amp; IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>)
03869                                         {
03870                                                 <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a24">TL_HandleDisconnection</a>(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>);
03871                                         }
03872                                 }
03873                         }
03874                 }
03875 
03876         <span class="comment">/* shutdown the current client's transport layer */</span>
03877         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a4">TL_Shutdown</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a2">EXPORTER_TRANSPORT</a>);
03878 
03879         <span class="comment">/* recreate a new transport layer */</span>
03880         <a class="code" href="../../d5/d9f/_for_doxygen_2src_2_common_2_chunks_manager_8c.html#a15">ChunksManager_GetDefaultChunkAllocator</a>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o3">PS</a>, &amp; Alloc);
03881 
03882         <span class="comment">/* initialize the transport layer */</span>
03883         <span class="comment">/* We don't check the return code because what can we do</span>
03884 <span class="comment">           anyway if it's bad? But this is not good style ... */</span>
03885         (void)<a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a2">TL_InitializePassive</a>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o3">PS</a>, &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o29">ExporterLog</a>), Alloc, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o5">LocalAddr</a>, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o6">LocalPort</a>,
03886                                    &amp; <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a12">Exporter_DefaultHandlers</a>, E,
03887                                    &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o19">ParamsHandler</a>),
03888                                    &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o11">TransportHandle</a>));
03889         }
03890 
03891     <span class="comment">/* reinitialize the client parameters */</span>
03892     <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a29">Exporter_InitializeParameters</a>(E);
03893 
03894         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a27">Exporter_InitDebugLevels</a>(E);
03895 
03896     <span class="comment">/* reconfigure the current queues */</span>
03897     <span class="keywordflow">for</span> (i = 0; i &lt; E-&gt;Sessions.Length; i++) {
03898         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03899         <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>) {
03900             <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;Reconfigure(E, S);
03901         }
03902     }
03903 
03904         <span class="keywordflow">if</span> (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o2">StatisticsInterval</a>)
03905         {
03906                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a11">Platform_RegisterPeriodicTimer</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
03907                                                                         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a36">Exporter_StatisticsReportCallback</a>, E,
03908                                                                         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o2">StatisticsInterval</a>,
03909                                                                         &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o17">StatisticsTimerID</a>));
03910     }
03911 
03912         <span class="keywordflow">if</span>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o5">AutoconnectInterval</a>)
03913         {
03914                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a11">Platform_RegisterPeriodicTimer</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
03915                                                                         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a25">Exporter_AutoconnectCallback</a>, E,
03916                                                                         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o5">AutoconnectInterval</a>,
03917                                                                         &amp; (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o18">AutoconnectTimerID</a>));
03918         }
03919 
03920 <span class="preprocessor">#if defined(SNMP_SUPPORT)</span>
03921 <span class="preprocessor"></span>        Platform_MIB_SetExporterHandle(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o3">PS</a>, E);
03922 <span class="preprocessor">#endif</span>
03923 <span class="preprocessor"></span>
03924         <span class="keywordflow">if</span>(transportRestarted == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
03925         {
03926                 <span class="keywordflow">for</span> ( i = 0 ; i &lt; E-&gt;Sessions.Length ; i++ )
03927                 {
03928                         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *)E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03929                         <span class="keywordflow">if</span>(S != NULL)
03930                         {
03931                                 <a class="code" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga12">IPDR_StartSession</a>( S, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o11">Negotiable</a> );
03932                         }
03933                 }
03934         }
03935 
03936         
03937         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03938         
03939     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
03940 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="Exporter.c::Exporter_RemoveCollectorFromSession_Internal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_RemoveCollectorFromSession_Internal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>C</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">04668 {
04669     <span class="keywordtype">int</span> Index;
04670     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04671         <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS = NULL ;
04672         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a> paBuf;
04673 
04674         <span class="keywordflow">if</span>(!E || !S || !C)
04675                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a181">IPDR_ERR_INVALID_VALUE</a>;
04676 
04677     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04678                        <span class="stringliteral">"Exporter_RemoveCollectorFromSession_Internal"</span>,
04679                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a12">MSG_EXPORTER_REMOVE_SERVER</a>,
04680                        <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a>, C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o5">Port</a>, paBuf));
04681 
04682         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04683 
04684         <span class="keywordflow">for</span> (Index = 0; Index &lt; S-&gt;CollectorSessions.Length; Index++)
04685         {
04686                 CS = (<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *)S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o14">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index];
04687                 <span class="keywordflow">if</span>(CS != NULL &amp;&amp; CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a> == C )
04688                 {
04689                         <span class="keywordflow">if</span>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a> == <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a27">IPDR_CS_ACTIVE</a> || S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o10">Running</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
04690                         {
04691                                 <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>;
04692 
04693                                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a31">Log_Write3</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
04694                                                 <span class="stringliteral">"Exporter_RemoveCollectorFromSession_Internal"</span>,
04695                                                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a120">MSG_EXPORTER_SESSION_MUST_STOP</a>,
04696                                                 S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>, C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>, <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>((IC!=NULL)?(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>):NULL));
04697 
04698                                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04699                                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a214">IPDR_ERR_SESSION_IS_RUNNING</a>;
04700                         }
04701                         break ;
04702                 }
04703                 CS = NULL;
04704         }
04705 
04706         <span class="keywordflow">if</span>( CS == NULL )
04707         {
04708                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
04709                                         <span class="stringliteral">"Exporter_RemoveCollectorFromSession_Internal"</span>,
04710                                         <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a19">MSG_EXPORTER_UNKNOWN_SERVER</a>,
04711                                         C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>);
04712 
04713                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04714                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a195">IPDR_ERR_COLLECTOR_NOT_FOUND</a>;
04715         }
04716 
04717         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>;
04718         <span class="keywordflow">if</span>(IC != NULL &amp;&amp; IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> != NULL)
04719         {
04720                 <a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a> Conn = IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>;
04721                 <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(<a class="code" href="../../dd/d0a/_for_doxygen_2src_2_exporter_2_exporter_protocol_8c.html#a57">ExporterProtocol_SendError</a>(E, S, C, Conn, <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a57a53">CollectorNotInSession</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a123">MSG_EXPORTER_COLLECTOR_NOT_IN_SESSION</a>)))
04722                 {
04723                         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a24">TL_HandleDisconnection</a>(Conn);
04724                 }
04725         }
04726         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, CS);
04727 
04728     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04729 
04730     <span class="keywordflow">return</span> Status;
04731 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="Exporter.c::Exporter_RemoveCollectorInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_RemoveCollectorInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>C</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove a previously added collector) <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga9">IPDR_RemoveCollector</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>- Exporter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>C</em>&nbsp;</td><td>- Collector to remove</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04774 {
04775     <span class="keywordtype">int</span> Index;
04776 
04777         <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a> paBuf;
04778 
04779         <span class="keywordflow">if</span>(!E || !C)
04780                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a181">IPDR_ERR_INVALID_VALUE</a>;
04781 
04782     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
04783                        <span class="stringliteral">"Exporter_RemoveCollectorInternal"</span>,
04784                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a12">MSG_EXPORTER_REMOVE_SERVER</a>,
04785                        <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a>, C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o5">Port</a>, paBuf));
04786 
04787     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04788 
04789         <span class="keywordflow">for</span> (Index = 0; Index &lt; E-&gt;Collectors.Length; Index++)
04790         {
04791                 <span class="keywordflow">if</span>( E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index] == C )
04792                         break ;
04793         }
04794 
04795         <span class="keywordflow">if</span>( Index &gt;= E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o14">Collectors</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a> )
04796         {
04797                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
04798                 <span class="stringliteral">"Exporter_RemoveCollectorInternal"</span>,
04799                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a19">MSG_EXPORTER_UNKNOWN_SERVER</a>,
04800                 C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>);
04801                 <span class="comment">/* DONE: IPDR_LEVEL_ERROR because this function is called after "IPDR_GetCollector" returns IPDR_OK in "Exporter_DeleteCollectorCommand"*/</span>
04802                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04803                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a195">IPDR_ERR_COLLECTOR_NOT_FOUND</a>;
04804         }
04805 
04806         <span class="keywordflow">for</span> (Index = 0; Index &lt; C-&gt;CollectorSessions.Length; Index++)
04807         {
04808                 <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS = (<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *)C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o1">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[Index];
04809                 <span class="keywordflow">if</span>( CS != NULL )
04810                 {
04811                         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o3">SessionPtr</a>;
04812                         <span class="keywordflow">if</span>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a> == <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a27">IPDR_CS_ACTIVE</a> || S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o10">Running</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>)
04813                         {
04814 
04815                                 <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>;
04816 
04817                                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a31">Log_Write3</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
04818                                                 <span class="stringliteral">"Exporter_RemoveCollectorInternal"</span>,
04819                                                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a120">MSG_EXPORTER_SESSION_MUST_STOP</a>,
04820                                                 S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>, C-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>, <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>((IC!=NULL)?(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>):NULL));
04821 
04822                                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04823                                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a214">IPDR_ERR_SESSION_IS_RUNNING</a>;
04824                         }
04825                 }
04826         }
04827 
04828         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, C);
04829         <span class="comment">//Status = DynamicArray_RemoveAndShift(EXPORTER_PLATFORM, &amp; (E-&gt;Collectors), Index);</span>
04830 
04831     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
04832 
04833     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04834 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a111" doxytag="Exporter.c::Exporter_SendRecord"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_SendRecord           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html">BufferHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>BH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Immediate</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>duplicate</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a record to the currently active server.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>exporter handle (pointer) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>session handle (pointer). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>BH</em>&nbsp;</td><td>buffer handle referencing the record. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Immediate</em>&nbsp;</td><td>whether or not to send this immediately or try to delay it to get more into the buffer (recommended to leave this as TRUE because if we're outputting to TCP, the TCP stack will typically delay 200ms anyway).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">04170 {
04171     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
04172     <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o13">ActiveCS</a>;
04173 
04174     <span class="keywordflow">if</span> (CS == NULL
04175                 || CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a> == NULL
04176                 || CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> == NULL
04177                 || CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a> != <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a27">IPDR_CS_ACTIVE</a>) {
04178         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a205">IPDR_ERR_NO_ACTIVE_COLLECTOR</a>;
04179     }
04180 
04181         ((DataMessage *) BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>)-&gt;Flags = 0;
04182 
04183     <span class="keywordflow">if</span> (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o7">SyncNeeded</a>)
04184         ((DataMessage *) BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>)-&gt;Flags |= <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a16">IPDR_SYNC_FLAG</a>;
04185     <span class="keywordflow">if</span> (duplicate)
04186         ((DataMessage *) BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>)-&gt;Flags |= <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a17">IPDR_DUPLICATE_FLAG</a>;
04187 
04188     <span class="keywordflow">switch</span> (((MessageHeader*)(BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>))-&gt;MessageID) {
04189     <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a39">IPDR_MSG_DATA</a>:
04190         <span class="comment">/* Register a timer if there isn't one already (i.e., we're the</span>
04191 <span class="comment">           first record that hasn't been ACKed). */</span>
04192         <span class="keywordflow">if</span> (CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o9">WindowSizeTimer</a> == NULL) {
04193             <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a9">Platform_RegisterTimer</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
04194                                    <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a44">Exporter_WindowSizeTimerCallback</a>, CS,
04195                                    E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o0">WindowTimeout</a>,
04196                                    &amp; (CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o9">WindowSizeTimer</a>));
04197         }
04198         <span class="comment">/*FALLTHROUGH*/</span>
04199     <span class="keywordflow">case</span> <a class="code" href="../../d2/dda/_for_doxygen_2src_2_common_2_protocol_8h.html#a26">IPDR_MSG_DATA_ACK</a>:
04200         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a15">Log_ShouldWrite</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a172">IPDR_LEVEL_DEBUG</a>)) {
04201             <a class="code" href="../../d5/d59/_for_doxygen_2src_2_exporter_2_protocol_debug_8c.html#a4">ProtocolDebug_PrintOutgoingMessage</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>, BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a172">IPDR_LEVEL_DEBUG</a>);
04202         }
04203         <span class="keywordflow">break</span>;
04204     <span class="keywordflow">default</span>:
04205         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a15">Log_ShouldWrite</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>)) {
04206             <a class="code" href="../../d5/d59/_for_doxygen_2src_2_exporter_2_protocol_debug_8c.html#a4">ProtocolDebug_PrintOutgoingMessage</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>, BH-&gt;<a class="code" href="../../d5/d08/struct_i_p_d_r__tag___buffer_handle.html#o1">Data</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>);
04207         }
04208     }
04209 
04210     Status = <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a9">TL_Send</a>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>, BH, Immediate);
04211     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
04212         <span class="keywordflow">return</span> Status;
04213 
04214     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o21">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>++;
04215     CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o10">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>++;
04216 
04217     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o7">SyncNeeded</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
04218 
04219     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
04220 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="Exporter.c::Exporter_StatisticsReportCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void Exporter_StatisticsReportCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback triggered in order to report statistics to the log..<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>callback argument (Exporter) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00557 {
00558         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = (<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *) Arg;
00559     <span class="keywordtype">int</span> i, j;
00560     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S;
00561 
00562     <span class="comment">/*NOTE: MIB default comes from ClientMIBConstants.c*/</span>
00563     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00564 
00565     <span class="keywordflow">for</span> (i = 0; i &lt; E-&gt;Sessions.Length; i++) {
00566         <span class="keywordtype">char</span> timeStrBuf[<a class="code" href="../../d5/d74/group___i_p_d_r__time__services.html#ga16">IPDR_TIME_FORMAT_LENGTH</a> + 1]; <span class="comment">/* +1 for "Z" */</span>
00567 
00568         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a58">Platform_FormatTimeGMTNow</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, timeStrBuf);
00569         strcat(timeStrBuf, <span class="stringliteral">"Z"</span>); <span class="comment">/* mark it as "GMT" */</span>
00570         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
00571 
00572         {
00573             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numAllocs;
00574             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numFrees;
00575             size_t bytesAllocated;
00576             <a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> IntervalStatistics;
00577             <a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> Rate100;
00578             <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a33">Platform_MemoryStatistics</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;numAllocs, &amp;numFrees, &amp;bytesAllocated);
00579             <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a35">StatisticsCalculateRates</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
00580                                      S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o22">PrevStatisticsTime</a>, &amp;S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o21">Statistics</a>, &amp;S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o23">PrevStatistics</a>,
00581                                      &amp;S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o22">PrevStatisticsTime</a>, &amp;IntervalStatistics, &amp;Rate100);
00582 <span class="preprocessor">#ifdef DEBUG_MODE</span>
00583 <span class="preprocessor"></span>            <span class="comment">/* Note: IPDR_VER is provided by "-D" flag in compilation */</span>
00584             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00585                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a27">MSG_EXPORTER_BUILT_INFO</a>, timeStrBuf, IPDR_VER);
00586 <span class="preprocessor">#endif</span>
00587 <span class="preprocessor"></span>            <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00588                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a21">MSG_EXPORTER_SESSION_STATISTICS1</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>, timeStrBuf);
00589             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a34">Log_Write6</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00590                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a22">MSG_EXPORTER_SESSION_STATISTICS2</a>,
00591                        <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;OutstandingDataCount(E, S),
00592                        <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;UnacknowledgedDataCount(E, S),
00593                        numAllocs, numFrees, (<span class="keywordtype">long</span> unsigned)bytesAllocated,
00594                        <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;UsedMemory(E, S));
00595             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00596                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a23">MSG_EXPORTER_SESSION_STATISTICS3</a>,
00597                        <span class="stringliteral">"TX  :"</span>,
00598                        S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o21">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>,
00599                        IntervalStatistics.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>,
00600                        Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>/100, Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>%100);
00601             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00602                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a23">MSG_EXPORTER_SESSION_STATISTICS3</a>,
00603                        <span class="stringliteral">"ACK :"</span>,
00604                        S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o21">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>,
00605                        IntervalStatistics.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>,
00606                        Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>/100, Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>%100);
00607             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00608                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a23">MSG_EXPORTER_SESSION_STATISTICS3</a>,
00609                        <span class="stringliteral">"enq :"</span>,
00610                        S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o21">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>,
00611                        IntervalStatistics.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>,
00612                        Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>/100, Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>%100);
00613             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00614                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a23">MSG_EXPORTER_SESSION_STATISTICS3</a>,
00615                        <span class="stringliteral">"lost:"</span>,
00616                        S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o21">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>,
00617                        IntervalStatistics.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>,
00618                        Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>/100, Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>%100);
00619 
00620             S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o23">PrevStatistics</a> = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o21">Statistics</a>; <span class="comment">/* S-&gt;PrevStatisticsTime was set by StatisticsCalculateRates above */</span>
00621         }
00622 
00623         <span class="keywordflow">for</span> (j = 0; j &lt; S-&gt;CollectorSessions.Length; j++) {
00624             <a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> IntervalStatistics;
00625             <a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> Rate100;
00626             <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a28">TL_PABuf</a> paBuf;
00627             <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS = (<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *) S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o14">CollectorSessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
00628             <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a35">StatisticsCalculateRates</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>,
00629                                      CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o11">PrevStatisticsTime</a>, &amp;CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o10">Statistics</a>, &amp;CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o12">PrevStatistics</a>,
00630                                      &amp;CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o11">PrevStatisticsTime</a>, &amp;IntervalStatistics, &amp;Rate100);
00631                         <span class="keywordflow">if</span>( CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a> &amp;&amp; CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> &amp;&amp; CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a> )
00632                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00633                                <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a24">MSG_EXPORTER_SERVER_STATISTICS1</a>,
00634                            <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a16">TL_PrintAddressAndPort</a>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a>-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o4">Addr</a>, CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o4">Collector</a>-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o5">Port</a>, paBuf),
00635                                 <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>(CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>));
00636             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00637                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a25">MSG_EXPORTER_SERVER_STATISTICS2</a>,
00638                        <span class="stringliteral">"TX :"</span>,
00639                        CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o10">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>,
00640                        IntervalStatistics.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>,
00641                        Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>/100, Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>%100);
00642             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">""</span>,
00643                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a25">MSG_EXPORTER_SERVER_STATISTICS2</a>,
00644                        <span class="stringliteral">"ACK:"</span>,
00645                        CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o10">Statistics</a>.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>,
00646                        IntervalStatistics.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>,
00647                        Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>/100, Rate100.<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>%100);
00648             CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o12">PrevStatistics</a> = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o10">Statistics</a>; <span class="comment">/* Srv-&gt;PrevStatisticsTime was set by StatisticsCalculateRates above */</span>
00649         }
00650 
00651 <span class="preprocessor">#ifdef DEBUG_MEMORY</span>
00652 <span class="preprocessor"></span>        {
00653             dmalloc_message(<span class="stringliteral">"======================== %.40s"</span>, timeStrBuf);
00654             dmalloc_log_changed(dmalloc_markVal, 1, 1, 1);
00655             dmalloc_markVal = dmalloc_mark();
00656 <span class="preprocessor">#if 0</span>
00657 <span class="preprocessor"></span>            dmalloc_message(<span class="stringliteral">"===+==+==+==+==+==+===== %.40s"</span>, timeStrBuf);
00658             dmalloc_log_changed(dmalloc_markValInit, 1, 1, 1);
00659 <span class="preprocessor">#endif</span>
00660 <span class="preprocessor"></span>        }
00661 
00662         <span class="comment">/* This is a bit of a kludge: it outputs chunk information if</span>
00663 <span class="comment">         * an internal queue is being used (see IPDR_SetQueueHandler).</span>
00664 <span class="comment">         * For debugging only, of course.</span>
00665 <span class="comment">         */</span>
00666         <span class="keywordflow">if</span> (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a>) {
00667             <a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a> *ctxt = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a>;
00668             <span class="keywordflow">for</span> (; ctxt; ctxt = ctxt-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o6">NextContext</a>) {
00669                 <span class="keywordflow">if</span> (E-&gt;QHandler == &amp;VQHandler) {
00670                     <a class="code" href="../../d5/d9f/_for_doxygen_2src_2_common_2_chunks_manager_8c.html#a37">ChunksManager_Dump</a>(&amp;((<a class="code" href="../../d4/d66/struct_volatile_queue.html">VolatileQueue</a>*)ctxt-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o1">QueueHandlerData</a>)-&gt;ChunksMgr, <span class="stringliteral">""</span>);
00671                 }
00672             }
00673         }
00674 <span class="preprocessor">#endif</span>
00675 <span class="preprocessor"></span>    }
00676 
00677     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
00678 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a99" doxytag="Exporter.c::Exporter_TriggerEvent"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Exporter_TriggerEvent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d9b/group___i_p_d_r__logging.html#ga8">IPDR_DebugLevel</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>loggingLevel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>EventData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cause an event's triggers to be fired.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>exporter handle (pointer) handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>loggingLevel</em>&nbsp;</td><td>logging level (debug, info, etc.) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EventData</em>&nbsp;</td><td>data to be updated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CS</em>&nbsp;</td><td>Collector session for record event in LastEvent -- NULL if you don't want it recorded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Msg</em>&nbsp;</td><td>message to be put into the event data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>parameters to Msg </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">03606 {
03607     <span class="keyword">const</span> <span class="keywordtype">char</span>* eventStr;
03608     va_list Args;
03609 
03610     eventStr = <a class="code" href="../../df/dd7/group___i_p_d_r__event__notification.html#ga4">IPDR_EventMsg</a>(EventData);
03611 
03612     <span class="keywordflow">if</span> (EventData-&gt;<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o0">EventID</a> == <a class="code" href="../../df/dd7/group___i_p_d_r__event__notification.html#gga6a152">IPDR_EVENT_RECORD_LOST</a>) {
03613         loggingLevel = <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a172">IPDR_LEVEL_DEBUG</a>; <span class="comment">/* Prevent a flood of messages */</span>
03614     }
03615 
03616     va_start(Args, Msg);
03617     vsprintf(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o36">EventLine</a>, Msg, Args);
03618     va_end(Args);
03619 
03620     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, loggingLevel,
03621                <span class="stringliteral">"Exporter_TriggerEvent"</span>,
03622                <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a29">MSG_EXPORTER_TRIGGER_EVENT</a>,
03623                eventStr, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o36">EventLine</a>);
03624 
03625     <span class="keywordflow">if</span> (E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o23">EventCallbackDetailed</a> != NULL) {
03626         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o23">EventCallbackDetailed</a>(EventData, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o36">EventLine</a>, E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o24">EventCallbackDetailedArg</a>);
03627     }
03628 
03629     <span class="keywordflow">if</span> (CS) {
03630         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o13">LastEvent</a> = *EventData;
03631     }
03632 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a97" doxytag="Exporter.c::Exporter_TriggeTemplateChangedCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Exporter_TriggeTemplateChangedCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>S</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a structure containing all currently enabled keys and trigger the templates change callback.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>exporter handle (pointer)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03456 {
03457     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NumTemplates;
03458     <a class="code" href="../../df/d3e/struct_i_p_d_r___template.html">IPDR_Template</a> *Tmpls;
03459     <a class="code" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *Keys;
03460     <a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *Tmpl, *Tmpl1;
03461     <a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *K, *K1;
03462     <a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a> *TC;
03463         <a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH;
03464     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, j, k, m;
03465 
03466     <span class="keywordflow">if</span> (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o21">TemplateChangedCallback</a> == NULL)
03467         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
03468 
03469     <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a15">DynamicArray_CountObjects</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a5">SESSION_PLATFORM</a>, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>), &amp; NumTemplates);
03470 
03471     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a30">Platform_Check_MEMORYALLOCATEVEC</a>(SESSION_PLATFORM, NumTemplates, Tmpls, {});
03472 
03473     <span class="keywordflow">for</span> (j = 0, i = 0; i &lt; S-&gt;Templates.Length; i++) {
03474         Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03475         <span class="keywordflow">if</span> (Tmpl == NULL)
03476             <span class="keywordflow">continue</span>;
03477                 TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a> = i;
03478                 TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o1">s</a> = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>;
03479         Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o0">TemplateID</a> = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o0">TemplateID</a>;
03480         Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o1">SchemaName</a> = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o1">SchemaName</a>;
03481                 Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o2">TypeName</a> = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o2">TypeName</a>;
03482         Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o3">NumKeys</a> = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a>;
03483 
03484         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a30">Platform_Check_MEMORYALLOCATEVEC</a>(SESSION_PLATFORM, Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a>, Keys, {});
03485 
03486         <span class="keywordflow">for</span> (k = 0; k &lt; Tmpl-&gt;Keys.Length; k++) {
03487 
03488             K = (<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *) Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[k];
03489             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o0">KeyID</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a>;
03490             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o1">KeyTypeID</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o1">KeyTypeID</a>;
03491             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o2">KeyName</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o2">Name</a>;
03492             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o3">KeyLabel</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o3">Label</a>;
03493             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o4">KeyHelp</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o4">Help</a>;
03494             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o5">Enabled</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
03495             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o6">AccessType</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o6">AccessType</a>;
03496             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o7">ExtraData</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o7">ExtraData</a>;
03497             Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o8">KeyAccessor</a> = K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o8">KeyAccessor</a>;
03498 
03499             TC = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a>;
03500 
03501                 if (TC == NULL || j &gt;= TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o2">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a> || TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o2">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j] == NULL)
03502                                 <span class="keywordflow">continue</span>;
03503 
03504                         Tmpl1 = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o2">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
03505 
03506                         <span class="comment">/* find the matching key */</span>
03507                         for (m = 0; m &lt; Tmpl1-&gt;Keys.Length; m++) {
03508                                 K1 = (<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *) Tmpl1-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[m];
03509                                 if (K1-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a> == K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a>)
03510                                         Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o5">Enabled</a> = K1-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o5">Enabled</a>;
03511                         }
03512         }
03513         Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o4">Keys</a> = Keys;
03514         j++;
03515 
03516     }
03517 
03518         <span class="keywordflow">if</span>(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o21">TemplateChangedCallback</a> != NULL)
03519         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o21">TemplateChangedCallback</a>(S, Tmpls, NumTemplates, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o22">TemplateChangedArg</a>);
03520 
03521         <span class="keywordflow">for</span> (j = 0, i = 0; i &lt; TC-&gt;Templates.Length; i++)
03522         {
03523                 Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o2">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
03524                 Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o1">SchemaName</a> = NULL ;
03525                 Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o2">TypeName</a> = NULL ;
03526                 <span class="keywordflow">for</span> (k = 0; k &lt; Tmpl-&gt;Keys.Length; k++)
03527                 {
03528                         K = (<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *) Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[k];
03529                         <span class="keywordflow">if</span> (K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a> == Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o4">Keys</a>[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o0">KeyID</a>)
03530                         {
03531                                 K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o5">Enabled</a> = Tmpls[j].<a class="code" href="../../df/d3e/struct_i_p_d_r___template.html#o4">Keys</a>[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o5">Enabled</a>;
03532                                 Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o2">KeyName</a> = NULL ;
03533                                 Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o3">KeyLabel</a> = NULL ;
03534                                 Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o4">KeyHelp</a> = NULL ;
03535                                 Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o7">ExtraData</a> = NULL ;
03536                                 Keys[k].<a class="code" href="../../d9/d12/struct_i_p_d_r___key.html#o8">KeyAccessor</a> = NULL ;
03537                         }
03538                 }
03539         }
03540     <span class="keywordflow">for</span> (j = 0; j &lt; NumTemplates; j++)
03541         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a20">Platform_MemoryFree</a>(SESSION_PLATFORM, Tmpls[j].Keys);
03542     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a20">Platform_MemoryFree</a>(SESSION_PLATFORM, Tmpls);
03543 
03544     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
03545 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="Exporter.c::Exporter_WindowSizeTimerCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Exporter_WindowSizeTimerCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback invoked upon data timeout with no ACK.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>callback argument (Server) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">01184 {
01185     <a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *CS = (<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html">CollectorSession</a> *) Arg;
01186     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o3">SessionPtr</a>;
01187     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>;
01188         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC = CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o5">SessionConnection</a>;
01189         <a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">Connection</a> Conn = NULL;
01190     <a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html">IPDR_EventData</a> eventData;
01191 
01192         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01193 
01194         <span class="keywordflow">if</span>(IC != NULL)
01195         {
01196                 Conn = IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a>;
01197         }
01198 
01199 <span class="preprocessor">#if defined(DEBUG_PRINTF) &amp;&amp; defined(_VXWORKS_DEBUG)</span>
01200 <span class="preprocessor"></span>    countTick =  tickGet ();
01201     printf(<span class="stringliteral">"\n window size timer callback , ticks [%ld]"</span>, countTick);
01202 <span class="preprocessor">#endif</span>
01203 <span class="preprocessor"></span>
01204     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp;CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o9">WindowSizeTimer</a>);
01205 
01206     <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a98">EventDataInit</a>(&amp;eventData, <a class="code" href="../../df/dd7/group___i_p_d_r__event__notification.html#gga6a151">IPDR_EVENT_SERVER_DISCONNECTED</a>, E, CS, S);
01207     eventData.<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o13">Extra</a>.Disconnected.Reason = <a class="code" href="../../df/dd7/group___i_p_d_r__event__notification.html#gga7a160">IPDR_EVENT_DISCONNECTED_TIMEOUT</a>;
01208     eventData.<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o13">Extra</a>.Disconnected.TimeoutMillisec = E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o4">Parameters</a>.<a class="code" href="../../d1/dac/struct_exporter_parameters.html#o0">WindowTimeout</a>;
01209 
01210     <span class="keywordflow">if</span> (IC == NULL || CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a> == <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a24">IPDR_CS_DISCONNECTED</a>) {
01211         eventData.<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o1">IC</a> = NULL;
01212         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a99">Exporter_TriggerEvent</a>(E, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a170">IPDR_LEVEL_WARNING</a>, &amp;eventData, CS,
01213                             <span class="stringliteral">"Acknowledgment timeout (%d msec): Collector=none, outstanding=%lu, unACKed=%lu, Session=%u [%.40s] (%.80s)"</span>,
01214                             E-&gt;Parameters.WindowTimeout,
01215                             <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;OutstandingDataCount(E, S),
01216                             <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;UnacknowledgedDataCount(E, S),
01217                             S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o17">Name</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o18">Description</a>);
01218     } <span class="keywordflow">else</span> {
01219         eventData.<a class="code" href="../../d6/df8/struct_i_p_d_r___event_data.html#o1">IC</a> = IC;
01220         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a99">Exporter_TriggerEvent</a>(E, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a170">IPDR_LEVEL_WARNING</a>, &amp;eventData, CS,
01221                             <span class="stringliteral">"Acknowledgment timeout (%d msec): %.98s, outstanding=%lu, unACKed=%lu, Session=%u [%.40s] (%.80s)"</span>,
01222                             E-&gt;Parameters.WindowTimeout,
01223                             <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a14">TL_GetConnectionInfoStr</a>(Conn),
01224                             <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;OutstandingDataCount(E, S),
01225                             <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;UnacknowledgedDataCount(E, S),
01226                             S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o17">Name</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o18">Description</a>);
01227     }
01228 <span class="preprocessor">#ifdef OBSOLETE</span>
01229 <span class="preprocessor"></span>    <span class="keywordflow">switch</span> (CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a>) {
01230     <span class="keywordflow">case</span> <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a27">IPDR_CS_ACTIVE</a>: <span class="comment">/* shouldn't happen, but let's be cautious */</span>
01231         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a27">Log_StateTransition</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
01232                             <span class="stringliteral">"Exporter_WindowSizeTimerCallback"</span>, Conn, CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a>, IPDR_SERVER_PAUSED,
01233                             <span class="stringliteral">"acknolwedgment timeout"</span>);
01234         CS-&gt;<a class="code" href="../../d5/da9/struct_i_p_d_r__tag___collector_session.html#o1">CSState</a> = <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a52a26">IPDR_CS_READY</a>;
01235         <span class="keywordflow">break</span>;
01236     <span class="keywordflow">default</span>:
01237         <span class="keywordflow">break</span>;
01238     }
01239 <span class="preprocessor">#endif</span>
01240 <span class="preprocessor"></span>    <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01241 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="Exporter.c::ExporterMsgs_Initialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> ExporterMsgs_Initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dc/d30/struct_i_p_d_r__tag___log.html">Log</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>L</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the messages for "Exporter', "Queue", "Protocol" modules. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>L</em>&nbsp;</td><td>the log</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">00150 {
00151     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a17">Log_RegisterModule</a>(L, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <span class="stringliteral">"Exporter"</span>);
00152     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a17">Log_RegisterModule</a>(L, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a2">QUEUE_MODULE_ID</a>, <span class="stringliteral">"Queue"</span>);
00153     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a17">Log_RegisterModule</a>(L, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a3">PROTOCOL_MODULE_ID</a>, <span class="stringliteral">"Protocol"</span>);
00154 
00155     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
00156 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="Exporter.c::ExporterProtocol_WaitConnectTimeoutCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void ExporterProtocol_WaitConnectTimeoutCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">01107 {
01108         <a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *IC = (<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html">IPDRConnection</a> *)Arg ;
01109         <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *Coll = (<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">Collector</a> *)IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o4">Owner</a>;
01110         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o8">ExporterPtr</a>;
01111 
01112         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01113         
01114         <span class="keywordflow">if</span>(IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o5">ConnectResponseTimerID</a> != NULL)
01115                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a13">Platform_UnregisterTimerAndClear</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; (IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o5">ConnectResponseTimerID</a>));
01116 
01117         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>, <span class="stringliteral">"ExporterProtocol_WaitConnectTimeoutCallback"</span>,
01118                                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a124">MSG_EXPORTER_NO_CONNECT_MESSAGE</a>, Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>);
01119 
01120         <span class="keywordflow">if</span>( IC-&gt;<a class="code" href="../../db/d4f/struct_i_p_d_r__tag___connection.html#o3">TCPConnection</a> == NULL )
01121         {
01122                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>, <span class="stringliteral">"ExporterProtocol_WaitConnectTimeoutCallback"</span>,
01123                                 <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a112">MSG_EXPORTER__RESET_TIMER_NEEDED</a>, Coll-&gt;<a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html#o3">Name</a>);
01124                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01125                 <span class="keywordflow">return</span>;
01126         }
01127 
01128         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Coll);
01129 
01130         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
01131 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a60" doxytag="Exporter.c::IPDR_AddCollectorCompat"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_AddCollectorCompat           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga20">IPDR_IPAddress</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned short&nbsp;</td>
          <td class="mdname" nowrap> <em>Port</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>Priority</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a collector (server) to a session's collectors (servers) list, so that data can be sent to it.<p>
collectors (servers) are assigned a priority level. Data is always sent to the active collector (server) with the highest priority (if two collectors (servers) have the same priority, it is undefined which will be chosen to be active). Zero is highest priority.<p>
collectors (servers) can be added dynamically. Data will be sent to a collector (server) as soon as a (transport layer) connection has been established and the collector (server) has indicated that it is ready to receive data by sending a START message and there is no higher priority collector (server) active.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d4/ddb/_for_doxygen_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a38">CRANE_InitClient()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session to add collector (server) to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Name</em>&nbsp;</td><td>Name of collector (server) (an internal copy is made of this string). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Addr</em>&nbsp;</td><td>IP address of the collector (server). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Port</em>&nbsp;</td><td>Port number of the collector (server). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Priority</em>&nbsp;</td><td>collector's (server's) priority (0 - highest priority; behavior undefined for negative values). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>#CRANE_OK on success; <a class="el" href="../../db/d4e/ipdr_2include_2_i_p_d_r_2_c_r_a_n_e_8h.html#a101">CRANE_STATUS_RETURN_CODE</a> otherwise.</dd></dl>
IPDR Compatibility: This function implemented as calling <div class="fragment"><pre class="fragment">02149 {
02150         <a class="code" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle;
02151 
02152         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status ;
02153         Status = <a class="code" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga5">IPDR_CreateCollector</a>(ExporterHandle,Name,Addr,Port,0, &amp;CollectorHandle);
02154         <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status) || CollectorHandle == NULL)
02155         {
02156                 <span class="keywordflow">return</span> Status ;
02157         }
02158 
02159         <span class="comment">/*Status = IPDR_GetCollector(ExporterHandle, Name, &amp;CollectorHandle, NULL, NULL, NULL);</span>
02160 <span class="comment">        if(FAILURE(Status))</span>
02161 <span class="comment">        {</span>
02162 <span class="comment">                return Status ;</span>
02163 <span class="comment">        }*/</span>
02164 
02165         Status = <a class="code" href="../../d3/d0a/group___i_p_d_r__sessions.html#ga7">IPDR_AssocCollectorSession</a>(ExporterHandle,SessionHandle,CollectorHandle,Priority);
02166         <span class="keywordflow">if</span>(<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
02167         {
02168                 <span class="keywordflow">return</span> Status ;
02169         }
02170         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
02171 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a84" doxytag="Exporter.c::IPDR_GetTemplateInternal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> IPDR_GetTemplateInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>SchemaName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>TypeName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>NumKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">03010 {
03011         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = SessionHandle ;
03012     <span class="keywordtype">int</span> i;
03013     <a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *Tmpl;
03014 
03015     <span class="keywordflow">if</span> (! S || ! TH) {
03016         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a181">IPDR_ERR_INVALID_VALUE</a>;
03017     }
03018 
03019         TH-&gt;<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a> = 0xFFFFFFFFu;
03020     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a5">SESSION_PLATFORM</a>);
03021 
03022     <span class="keywordflow">for</span> (i = 0; i &lt; S-&gt;Templates.Length; i++) {
03023         Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03024         <span class="keywordflow">if</span> (Tmpl != NULL &amp;&amp; Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o0">TemplateID</a> == TemplateID) {
03025             TH-&gt;<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a> = i;
03026                         TH-&gt;<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o1">s</a> = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>;
03027                         <span class="keywordflow">if</span> (SchemaName) (*SchemaName) = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o1">SchemaName</a>;
03028                         <span class="keywordflow">if</span> (TypeName) (*TypeName) = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o2">TypeName</a>;
03029                         <span class="keywordflow">if</span> (NumKeys) (*NumKeys) = Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a>;
03030             <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a5">SESSION_PLATFORM</a>);
03031             <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
03032         }
03033     }
03034 
03035     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a5">SESSION_PLATFORM</a>);
03036     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>;
03037 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="Exporter.c::IPDR_InitExporter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> IPDR_InitExporter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_ParametersHandlerFunc</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ParamsHandler</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>ParamsHandlerArg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_LoadMIBFunc</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>LoadMIB</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>LoadMIBArg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga5">IPDR_SaveMIBFunc</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SaveMIB</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>SaveMIBArg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> **&nbsp;</td>
          <td class="mdname" nowrap> <em>CH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">01554 {
01555     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
01556     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E;
01557     <span class="keyword">const</span> <span class="keywordtype">char</span> *LocalAddr;
01558         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga9">IPDR_IPAddress</a> IPAddr;
01559         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> IPPort;
01560 
01561     <span class="keywordflow">if</span> (! PS || ! CH) {
01562         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a181">IPDR_ERR_INVALID_VALUE</a>;
01563     }
01564 
01565     *CH = NULL;
01566 
01567     <a class="code" href="../../d1/d2c/_for_doxygen_2src_2_exporter_2_templates_8c.html#a15">Templates_Initialize</a>();
01568 
01569     Status = <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a2">Object_Allocate</a>(PS, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>), <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a38">Exporter_Destructor</a>,
01570                              (<span class="keywordtype">void</span> **) &amp; E);
01571     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
01572     {
01573         <span class="keywordflow">return</span> Status;
01574     }
01575 
01576         memset(E, 0, <span class="keyword">sizeof</span>(Exporter));
01577 
01578     strncpy(E-&gt;eyecatcher, <span class="stringliteral">"EXPORTER "</span>, <span class="keyword">sizeof</span> E-&gt;eyecatcher);
01579 
01580     <span class="keywordflow">if</span> (ExporterName == NULL || strlen(ExporterName) == 0) {
01581         ExporterName = <span class="stringliteral">"IPDR"</span>;
01582     }
01583 
01584     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a54">Platform_GetTime</a>(PS, &amp; E-&gt;ExporterStartTime); <span class="comment">/* Needed for START_ACK */</span>
01585 
01586     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a14">Log_Initialize</a>(&amp; (E-&gt;ExporterLog), PS, ExporterName); <span class="comment">/* This also makes a copy of ExporterName */</span>
01587     <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a28">ExporterMsgs_Initialize</a>(&amp; (E-&gt;ExporterLog));
01588     <a class="code" href="../../d8/dac/_for_doxygen_2src_2_common_2_common_msgs_8h.html#a8">CommonMsgs_Initialize</a>(&amp; (E-&gt;ExporterLog));
01589     <a class="code" href="../../dc/da0/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_msgs_8h.html#a18">TCPMsgs_Initialize</a>(&amp; (E-&gt;ExporterLog));
01590     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a21">Log_Enable</a>(&amp; (E-&gt;ExporterLog));
01591 
01592     {
01593         <span class="keywordtype">char</span> buf1[<a class="code" href="../../d5/d74/group___i_p_d_r__time__services.html#ga16">IPDR_TIME_FORMAT_LENGTH</a> + 1];
01594         <span class="keywordtype">char</span> buf2[<a class="code" href="../../d5/d74/group___i_p_d_r__time__services.html#ga16">IPDR_TIME_FORMAT_LENGTH</a> + 1];
01595         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a32">Log_Write4</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>,
01596                    <span class="stringliteral">"IPDR_InitExporter"</span>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a52">MSG_EXPORTER_STARTED</a>,
01597                    E-&gt;ExporterStartTime, E-&gt;ExporterStartTime,
01598                    <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a59">Platform_FormatTimeLocal</a>(PS, E-&gt;ExporterStartTime, buf1),
01599                    <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a60">Platform_FormatTimeGMT</a>(PS, E-&gt;ExporterStartTime, buf2));
01600     }
01601 
01602     E-&gt;PS = PS;
01603     E-&gt;ParamsHandler.ParamsFunc = ParamsHandler;
01604     E-&gt;ParamsHandler.ParamsArg = ParamsHandlerArg;
01605 
01606 <span class="preprocessor">#ifdef VQ_HANDLER_SUPPORT</span>
01607 <span class="preprocessor"></span>    E-&gt;QHandler = &amp; VQHandler;
01608     E-&gt;QHandlerInitArg = NULL;
01609 <span class="preprocessor">#else</span>
01610 <span class="preprocessor"></span>    E-&gt;QHandler = NULL;
01611 <span class="preprocessor">#endif</span>
01612 <span class="preprocessor"></span>
01613     E-&gt;CSessions = NULL;
01614 
01615         E-&gt;IsInsideCallback = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
01616 
01617     *CH = E; <span class="comment">/* So that IPDR_ParamsHandler can use it for looking at the MIB contents. */</span>
01618 
01619         <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a5">ParametersHandler_ParametrsInit</a>(E, &amp; (E-&gt;ParamsHandler));
01620 
01621         <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a27">Exporter_InitDebugLevels</a>( E );
01622 
01623     LocalAddr = <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a15">ParametersHandler_GetStringParam</a>(&amp; (E-&gt;ParamsHandler),
01624                                                  <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a155">STR_configuration_logging_loggerAddress</a>);
01625     <span class="keywordflow">if</span> (LocalAddr == NULL || strlen(LocalAddr) == 0)
01626         IPAddr = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga25">IPDR_DEFAULT_ADDRESS</a>;
01627     <span class="keywordflow">else</span>
01628         IPAddr = <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a17">TL_ParseAddress</a>(LocalAddr);
01629 
01630         IPPort = <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a19">ParametersHandler_GetUShortParam</a>(&amp; (E-&gt;ParamsHandler),
01631                                                  <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a156">STR_configuration_logging_loggerPort</a>);
01632 
01633         <span class="comment">/* #define SYSLOG_FACILITY 184 */</span>
01634         <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a26">Log_SetLoggerAddress</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, IPAddr, IPPort, 184, <span class="stringliteral">""</span>);
01635 
01636     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a7">Platform_SetExporterHandle</a>(PS, E); <span class="comment">/* So that Platform can write to log. */</span>
01637 
01638 <span class="preprocessor">#if defined(SNMP_SUPPORT)</span>
01639 <span class="preprocessor"></span>        Platform_MIB_SetExporterHandle(PS, E);
01640 <span class="preprocessor">#endif  </span>
01641 <span class="preprocessor"></span>
01642     Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a2">DynamicArray_Create</a>(PS, &amp; (E-&gt;Sessions),
01643                                  <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a0">INITIAL_SESSIONS_ARRAY_CAPACITY</a>);
01644     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
01645         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a8">Platform_UnsetExporterHandle</a>(PS);
01646         *CH = NULL;
01647         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(PS, E);
01648         <span class="keywordflow">return</span> Status;
01649     }
01650     <span class="comment">/*Status = DynamicArray_Create(PS, &amp; (S-&gt;Templates),</span>
01651 <span class="comment">                                 INITIAL_TEMPLATES_ARRAY_CAPACITY);</span>
01652 <span class="comment">        */</span>
01653     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
01654         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a8">Platform_UnsetExporterHandle</a>(PS);
01655         *CH = NULL;
01656         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(PS, E);
01657         <span class="keywordflow">return</span> Status;
01658     }
01659     LocalAddr = <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a15">ParametersHandler_GetStringParam</a>(&amp; (E-&gt;ParamsHandler),
01660                                                  <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a142">STR_configuration_exporterAddress</a>);
01661     <span class="keywordflow">if</span> (LocalAddr == NULL || strlen(LocalAddr) == 0)
01662         E-&gt;LocalAddr = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga25">IPDR_DEFAULT_ADDRESS</a>;
01663     <span class="keywordflow">else</span>
01664         E-&gt;LocalAddr = <a class="code" href="../../db/d58/_for_doxygen_2src_2_common_2_transport_8h.html#a17">TL_ParseAddress</a>(LocalAddr);
01665 
01666     E-&gt;LocalPort =
01667         (<span class="keywordtype">unsigned</span> short) <a class="code" href="../../d5/dd6/_for_doxygen_2src_2_common_2_parameters_handler_8c.html#a17">ParametersHandler_GetIntParam</a>(&amp; (E-&gt;ParamsHandler),
01668                                                        <a class="code" href="../../d8/d8f/_for_doxygen_2src_2_common_2_configuration_names_8h.html#a143">STR_configuration_exporterPort</a>);
01669 
01670     <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a29">Exporter_InitializeParameters</a>(E);
01671 
01672     <a class="code" href="../../d6/d41/_for_doxygen_2src_2_common_2_console_8c.html#a23">Console_Initialize</a>(PS, &amp; (E-&gt;ConsolePtr), &amp; (E-&gt;ParamsHandler),
01673                        &amp; (E-&gt;ExporterLog));
01674     <a class="code" href="../../d9/dea/_for_doxygen_2src_2_common_2_log_8c.html#a25">Log_RegisterConsoleCommands</a>(&amp; (E-&gt;ExporterLog), &amp; (E-&gt;ConsolePtr));
01675     <a class="code" href="../../dc/d43/_for_doxygen_2src_2_exporter_2_exporter_console_8c.html#a24">ExporterConsole_RegisterConsoleCommands</a>(E, &amp; (E-&gt;ConsolePtr));
01676 <span class="preprocessor">#ifdef ENABLE_SIMULATOR</span>
01677 <span class="preprocessor"></span>    HApp_RegisterConsoleCommands(E, &amp; (E-&gt;ConsolePtr));
01678 <span class="preprocessor">#endif</span>
01679 <span class="preprocessor"></span>
01680     E-&gt;Started = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
01681     E-&gt;TemplateChangedCallback = NULL;
01682     E-&gt;FlowStartCallback = NULL;
01683         E-&gt;StartNegotiationCallback = NULL;
01684 
01685     *CH = E; <span class="comment">/* Should already be set, but let's be sure. */</span>
01686 
01687     <span class="comment">/* The following will be optimized away by any decent compiler. It</span>
01688 <span class="comment">     * is here because there are too many dependencies in the code on</span>
01689 <span class="comment">     * the sizes of short, int, long ... when these are removed, this</span>
01690 <span class="comment">     * test can be removed. */</span>
01691 
01692     <span class="keywordflow">if</span> (<span class="keyword">sizeof</span> (<span class="keywordtype">signed</span> <span class="keywordtype">char</span>)        != 1 ||
01693         <span class="keyword">sizeof</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)      != 1 ||
01694         <span class="keyword">sizeof</span> (<span class="keywordtype">short</span> <span class="keywordtype">signed</span> <span class="keywordtype">int</span>)   != 2 ||
01695         <span class="keyword">sizeof</span> (<span class="keywordtype">short</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) != 2 ||
01696         <span class="keyword">sizeof</span> (<span class="keywordtype">signed</span> <span class="keywordtype">int</span>)         != 4 ||
01697         <span class="keyword">sizeof</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)       != 4 ||
01698         <span class="keyword">sizeof</span> (<span class="keywordtype">signed</span> <span class="keywordtype">long</span>)        != 4 ||
01699         <span class="keyword">sizeof</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)      != 4 ||
01700                 <span class="keyword">sizeof</span> (<span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)       != 8 ||
01701                 <span class="keyword">sizeof</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>) != 8 ||
01702                 <span class="keyword">sizeof</span> (<a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga9">IPDR_IPAddress</a>)         != 4 ||
01703         <span class="keyword">sizeof</span> (<a class="code" href="../../d9/db3/struct_protocol_unsigned8.html">ProtocolUnsigned8</a>)  != 1 ||
01704         <span class="keyword">sizeof</span> (<a class="code" href="../../d6/d02/struct_protocol_signed8.html">ProtocolSigned8</a>)    != 1 ||
01705         <span class="keyword">sizeof</span> (<a class="code" href="../../d2/d98/struct_protocol_signed16.html">ProtocolSigned16</a>)   != 2 ||
01706         <span class="keyword">sizeof</span> (<a class="code" href="../../dc/d81/struct_protocol_unsigned16.html">ProtocolUnsigned16</a>) != 2 ||
01707         <span class="keyword">sizeof</span> (<a class="code" href="../../dc/d72/struct_protocol_signed32.html">ProtocolSigned32</a>)   != 4 ||
01708         <span class="keyword">sizeof</span> (<a class="code" href="../../d2/d1c/struct_protocol_unsigned32.html">ProtocolUnsigned32</a>) != 4 ||
01709                 <span class="keyword">sizeof</span> (<a class="code" href="../../d2/d51/struct_protocol_signed64.html">ProtocolSigned64</a>)       != 8 ||
01710                 <span class="keyword">sizeof</span> (<a class="code" href="../../d7/dcf/struct_protocol_unsigned64.html">ProtocolUnsigned64</a>)     != 8) {
01711 <span class="preprocessor">#if defined(STD_FILE_OPERATIONS_SUPPORT)</span>
01712 <span class="preprocessor"></span>        fprintf(stderr, <span class="stringliteral">"*** size of char/short/int/long not what was expected: %u/%u/%u/%u at %.200s:%d\n"</span>,
01713                 <span class="keyword">sizeof</span> (<span class="keywordtype">char</span>), <span class="keyword">sizeof</span> (<span class="keywordtype">short</span>), <span class="keyword">sizeof</span> (<span class="keywordtype">int</span>), <span class="keyword">sizeof</span> (<span class="keywordtype">long</span>), __FILE__, __LINE__);
01714 <span class="preprocessor">#endif</span>
01715 <span class="preprocessor"></span>        <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a33">Log_Write5</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a168">IPDR_LEVEL_FATAL</a>,
01716                    <span class="stringliteral">"IPDR_InitExporter"</span>,
01717                    <span class="stringliteral">"size of char/short/int/long/long long - not what was expected: %u/%u/%u/%u/%u"</span>,
01718                    <span class="keyword">sizeof</span> (<span class="keywordtype">char</span>), <span class="keyword">sizeof</span> (<span class="keywordtype">short</span>), <span class="keyword">sizeof</span> (<span class="keywordtype">int</span>), <span class="keyword">sizeof</span> (<span class="keywordtype">long</span>), <span class="keyword">sizeof</span>(<span class="keywordtype">long</span> <span class="keywordtype">long</span>));
01719         abort();
01720         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a180">IPDR_ERR</a>;
01721     }
01722 
01723     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01724 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="Exporter.c::IPDR_SendDataCompat"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_SendDataCompat           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="Exporter.c::Session_CreateNewWorkContext"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Session_CreateNewWorkContext           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../db/dc0/struct_dynamic_array.html">DynamicArray</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Tmpls</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Negotiable</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new work context within a session, which will be used to queue new records from now on.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>Exporter owning the session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>Session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Tmpls</em>&nbsp;</td><td>templates configuration associated with the context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Negotiable</em>&nbsp;</td><td>indicates whether templates negotiation can take place on the session</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">01261 {
01262     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
01263     <a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a> *TC;
01264 
01265     Status = <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a2">Object_Allocate</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a>),
01266                              <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a37">TransmissionContext_Destructor</a>,
01267                              (<span class="keywordtype">void</span> **) &amp; TC);
01268     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
01269         <span class="keywordflow">return</span> Status;
01270     strncpy(TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o0">eyecatcher</a>, <span class="stringliteral">"XMTCTX"</span>, <span class="keyword">sizeof</span> TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o0">eyecatcher</a>);
01271 
01272     Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a14">DynamicArray_Copy</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Tmpls, &amp; (TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o2">Templates</a>));
01273     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
01274         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, TC);
01275         <span class="keywordflow">return</span> Status;
01276     }
01277 
01278     Status = <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;CreateTransmissionContext(E, S, TC);
01279     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
01280         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, TC);
01281         <span class="keywordflow">return</span> Status;
01282     }
01283 
01284     TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o5">SessionPtr</a> = S;
01285     TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o6">NextContext</a> = NULL;
01286     TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o4">Negotiable</a> = Negotiable;
01287 
01288     <span class="keywordflow">if</span> (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a> == NULL) {
01289         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a> = TC;
01290         TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o3">ConfigurationID</a> = 1;
01291     } <span class="keywordflow">else</span> {
01292         TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o3">ConfigurationID</a> = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a>-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o3">ConfigurationID</a> + 1;
01293         <span class="keywordflow">if</span> (TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o3">ConfigurationID</a> == 0)
01294             TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o3">ConfigurationID</a>++;
01295         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a>-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o6">NextContext</a> = TC;
01296         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a> = TC;
01297     }
01298 
01299     <span class="comment">/*if (S-&gt;ActiveContext == NULL)*/</span>
01300         S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a> = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a>;
01301 
01302     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01303 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="Exporter.c::Session_Destructor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void Session_Destructor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Obj</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete resources associated with a session. <dl compact><dt><b>Note:</b></dt><dd>not static </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PS</em>&nbsp;</td><td>platform services </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Obj</em>&nbsp;</td><td>object to delete </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00816 {
00817     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) Obj;
00818     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>;
00819 
00820     <a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a> *TC = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o3">ActiveContext</a>, *NextTC;
00821 
00822     strncpy(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o0">eyecatcher</a>, <span class="stringliteral">"Dsessio"</span>, <span class="keyword">sizeof</span> S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o0">eyecatcher</a>);
00823 
00824         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(PS, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o14">CollectorSessions</a>));
00825 
00826     <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;DeleteSession(E, S);
00827 
00828     <span class="keywordflow">while</span> (TC != NULL) {
00829         NextTC = TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o6">NextContext</a>;
00830         <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(PS, TC);
00831         TC = NextTC;
00832     }
00833 
00834     <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(PS, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o17">Name</a>);
00835     <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(PS, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o18">Description</a>);
00836 
00837     strncpy(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o0">eyecatcher</a>, <span class="stringliteral">"Xsessio"</span>, <span class="keyword">sizeof</span> S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o0">eyecatcher</a>);
00838 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="Exporter.c::Session_HandleTemplateChanges"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Session_HandleTemplateChanges           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>NumChanges</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap> <em>TCBs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Force</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CopyFromExporter</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../dc/d02/ipdr_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Negotiable</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Apply template configuration changes to a session given an array of template change blocks (as defined in the IPDR protocol).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>Exporter owning the session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>Session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumChanges</em>&nbsp;</td><td>number of template change blocks </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TCBs</em>&nbsp;</td><td>array of template change blocks </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Force</em>&nbsp;</td><td>if true, a new context will be created even when no changes where supplied </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CopyFromExporter</em>&nbsp;</td><td>the existing configuration should be based on the client templates </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Negotiable</em>&nbsp;</td><td>indicates whether templates negotiation can take place on the session</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">01345 {
01346 <span class="preprocessor">#ifdef NOTDONEYET</span>
01347 <span class="preprocessor"></span>    <a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a>*        TC = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o4">WorkContext</a>;
01348     <span class="keywordtype">int</span>                                         i, j;
01349     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                      TemplateID;
01350     <a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a>                            *Tmpl, *NewTmpl, *Tmpl1;
01351     <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a>                           TemplateChanged = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
01352     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>                         Status;
01353     <a class="code" href="../../db/dc0/struct_dynamic_array.html">DynamicArray</a>                        Tmpls, *Source;
01354     <span class="keyword">const</span> KeyBlock *            KB;
01355     <a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *                                       K;
01356     size_t                                      BlockLength;
01357 
01358         <span class="comment">/*const TemplateChangeBlockHeader *TCB = TCBs;*/</span>
01359 
01360     <span class="keywordflow">if</span> (! CopyFromExporter)
01361         Source = &amp; (TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o2">Templates</a>);
01362     <span class="keywordflow">else</span>
01363         Source = &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>);
01364 
01365     <span class="comment">/* check if something actually changed compared to the</span>
01366 <span class="comment">       current configuration */</span>
01367 
01368     <span class="keywordflow">if</span> (! Force) {
01369         <span class="keywordflow">for</span> (i = 0; i &lt; NumChanges; i++) {
01370 
01371             TemplateID = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a11">IPDR_NTOHS</a>(TCB-&gt;TemplateID);
01372 
01373             Tmpl = NULL;
01374             <span class="keywordflow">for</span> (j = 0; j &lt; Source-&gt;Length; j++) {
01375                 Tmpl1 = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) Source-&gt;<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
01376                 <span class="keywordflow">if</span> (Tmpl1 != NULL &amp;&amp; Tmpl1-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o0">TemplateID</a> == TemplateID) {
01377                     Tmpl = Tmpl1;
01378                     <span class="keywordflow">break</span>;
01379                 }
01380             }
01381 
01382             <span class="keywordflow">if</span> (Tmpl == NULL)
01383                 <span class="keywordflow">continue</span>;
01384 
01385             KB = (<span class="keyword">const</span> KeyBlock *) ((<span class="keyword">const</span> <span class="keywordtype">char</span> *) TCB + <span class="keyword">sizeof</span>(TemplateChangeBlockHeader));
01386             <a class="code" href="../../d1/d2c/_for_doxygen_2src_2_exporter_2_templates_8c.html#a7">Template_IsModified</a>(Tmpl, <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a11">IPDR_NTOHS</a>(TCB-&gt;NumKeys), KB, &amp; TemplateChanged);
01387 
01388             <span class="keywordflow">if</span> (TemplateChanged) {
01389                 TemplateChanged = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>;
01390                 break ;
01391             }
01392 
01393             BlockLength =
01394                 <span class="keyword">sizeof</span>(TemplateChangeBlockHeader) +
01395                 <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a11">IPDR_NTOHS</a>(TCB-&gt;NumKeys) * <span class="keyword">sizeof</span>(KeyBlock);
01396             TCB = (<span class="keyword">const</span> TemplateChangeBlockHeader *) ((<span class="keyword">const</span> <span class="keywordtype">char</span> *) TCB + BlockLength);
01397         }
01398 
01399         <span class="comment">/* if nothing changed in the templates configuration, return */</span>
01400         <span class="keywordflow">if</span> (! TemplateChanged)
01401             <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01402     }
01403 
01404     Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a2">DynamicArray_Create</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; Tmpls, 0);
01405     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
01406         <span class="keywordflow">return</span> Status;
01407     Status = <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a14">DynamicArray_Copy</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Source, &amp; Tmpls);
01408     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
01409         <span class="keywordflow">return</span> Status;
01410 
01411     TCB = TCBs;
01412 
01413     <span class="comment">/* perform modifications to the needed keys */</span>
01414     <span class="keywordflow">for</span> (i = 0; i &lt; NumChanges; i++) {
01415 
01416         TemplateID = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a11">IPDR_NTOHS</a>(TCB-&gt;TemplateID);
01417 
01418         Tmpl = NULL;
01419         <span class="keywordflow">for</span> (j = 0; j &lt; Source-&gt;Length; j++) {
01420             Tmpl1 = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) Source-&gt;<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
01421             <span class="keywordflow">if</span> (Tmpl1 != NULL &amp;&amp; Tmpl1-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o0">TemplateID</a> == TemplateID) {
01422                 Tmpl = Tmpl1;
01423                 <span class="keywordflow">break</span>;
01424             }
01425         }
01426 
01427         <span class="keywordflow">if</span> (Tmpl != NULL) {
01428             KB = (<span class="keyword">const</span> KeyBlock *) ((<span class="keyword">const</span> <span class="keywordtype">char</span> *) TCB + <span class="keyword">sizeof</span>(TemplateChangeBlockHeader));
01429             <a class="code" href="../../d1/d2c/_for_doxygen_2src_2_exporter_2_templates_8c.html#a8">Template_ModifyTemplate</a>(S, Tmpl, <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a11">IPDR_NTOHS</a>(TCB-&gt;NumKeys), KB, &amp; NewTmpl);
01430             Tmpls.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j] = NewTmpl;
01431             <a class="code" href="../../d5/d22/_for_doxygen_2src_2_common_2_memory_management_8c.html#a5">Object_Release</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, Tmpl);
01432         }
01433 
01434         BlockLength =
01435             <span class="keyword">sizeof</span>(TemplateChangeBlockHeader) +
01436             <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a11">IPDR_NTOHS</a>(TCB-&gt;NumKeys) * <span class="keyword">sizeof</span>(KeyBlock);
01437         TCB = (<span class="keyword">const</span> TemplateChangeBlockHeader *) ((<span class="keyword">const</span> <span class="keywordtype">char</span> *) TCB + BlockLength);
01438     }
01439 
01440     <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">"Session_HandleTemplateChanged"</span>,
01441                <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a16">MSG_EXPORTER_SESSION_TEMPLATES_CHANGED</a>, S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o17">Name</a>);
01442     <span class="keywordflow">for</span> (i = 0; i &lt; Tmpls.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a>; i++) {
01443         Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) Tmpls.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
01444         <span class="keywordflow">if</span> (Tmpl == NULL)
01445             <span class="keywordflow">continue</span>;
01446         <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a30">Log_Write2</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a171">IPDR_LEVEL_INFO</a>, <span class="stringliteral">"Session_HandleTemplateChanged"</span>,
01447                    <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a17">MSG_EXPORTER_TEMPLATE_INFO</a>, Tmpl-&gt;TemplateID, Tmpl-&gt;SchemaName);
01448         <span class="keywordflow">for</span> (j = 0; j &lt; Tmpl-&gt;Keys.Length; j++) {
01449             K = (<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *) Tmpl-&gt;Keys.Data[j];
01450             <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a31">Log_Write3</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a172">IPDR_LEVEL_DEBUG</a>, <span class="stringliteral">"Session_HandleTemplateChanged"</span>,
01451                        <a class="code" href="../../de/d4f/_for_doxygen_2src_2_exporter_2_exporter_msgs_8h.html#a18">MSG_EXPORTER_KEY_INFO</a>, K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a>, K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o2">Name</a>, K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o5">Enabled</a>);
01452         }
01453     }
01454 
01455     Status = <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a45">Session_CreateNewWorkContext</a>(E, S, &amp; Tmpls, Negotiable);
01456     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8b/_for_doxygen_2include_2_i_p_d_r_2_i_p_d_r_8h.html#a18">FAILURE</a>(Status)) {
01457         <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; Tmpls);
01458         <span class="keywordflow">return</span> Status;
01459     }
01460 
01461     <span class="comment">/* trigger the templates change callback */</span>
01462     <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a97">Exporter_TriggeTemplateChangedCallback</a>(S);
01463 
01464     <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(<a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a1">EXPORTER_PLATFORM</a>, &amp; Tmpls);
01465 <span class="preprocessor">#endif</span>
01466 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01467 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="Exporter.c::Session_SelectActiveCollector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Session_SelectActiveCollector           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Select a new active server for a given session.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>Exporter owning the session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>Session</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">01316 {
01317 
01318     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01319 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="Exporter.c::Session_SendOutstandingData"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga11">IPDR_Status</a> Session_SendOutstandingData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>S</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send any outstanding (unacknowledged) data within a session.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>E</em>&nbsp;</td><td>Exporter owning the session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S</em>&nbsp;</td><td>Session</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga30a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga30">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">01481 {
01482     <span class="comment">/* check if we've recursively been called. If we did don't do anything</span>
01483 <span class="comment">       since the caller will continue sending */</span>
01484         <span class="keywordflow">if</span>( S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o10">Running</a> == <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>)
01485                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a177">IPDR_ERR_SESSION_LOGICALLY_STOPED</a>;
01486 
01487     <span class="keywordflow">if</span> (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o8">SendingData</a>)
01488         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01489 
01490     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o8">SendingData</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>;
01491     <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;SendOutstandingData(E, S);
01492     S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o8">SendingData</a> = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
01493 
01494     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga29a174">IPDR_OK</a>;
01495 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="Exporter.c::StatisticsCalculateRates"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void StatisticsCalculateRates           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PrevTime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Statistics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PrevStatistics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>IntervalStatistics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Rate100</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre class="fragment">00526 {
00527     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> timeInterval;
00528     <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a54">Platform_GetTime</a>(PS, Time);
00529     timeInterval = *Time - PrevTime;
00530 
00531     IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>  = Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>  - PrevStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>;
00532     IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a> = Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a> - PrevStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a>;
00533     IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>     = Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>     - PrevStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>;
00534     IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>         = Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>         - PrevStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>;
00535 
00536     <span class="keywordflow">if</span> (timeInterval &gt; 0) {
00537         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>  = IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>  * 100 / timeInterval;
00538         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a> = IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a> * 100 / timeInterval;
00539         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>     = IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>     * 100 / timeInterval;
00540         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>         = IntervalStatistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>         * 100 / timeInterval;
00541     } <span class="keywordflow">else</span> {
00542         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>  = 0;
00543         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a> = 0;
00544         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>     = 0;
00545         Rate100-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>         = 0;
00546     }
00547 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="Exporter.c::StatisticsInitialize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void StatisticsInitialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga21">IPDR_Time</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Now</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PrevStatistics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d7/d1e/struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Statistics</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize a statistics structure.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PS</em>&nbsp;</td><td>platform services </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Now</em>&nbsp;</td><td>gets current time (may be NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PrevStatistics</em>&nbsp;</td><td>old structure to zero out (may be NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Statistics</em>&nbsp;</td><td>structure to initialize (may be NULL) </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00366 {
00367 <span class="preprocessor">#ifdef DEBUG_MEMORY</span>
00368 <span class="preprocessor"></span>    dmalloc_markVal = dmalloc_mark();    {
00369         <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a16">IPDR_BOOL</a> duplicateCX = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a4">IPDR_FALSE</a>;
00370         <a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">TCPConnection</a> *CX = T-&gt;Connections;
00371         <span class="keywordflow">while</span> (CX) {
00372             <a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html">TCPConnection</a> *nextCX = CX-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o12">NextConnection</a>; <span class="comment">/* save "next" because CX might be deallocated */</span>
00373             <span class="keywordflow">if</span> (CX != C &amp;&amp; CX-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o1">RemoteAddr</a> == RemoteAddr &amp;&amp; CX-&gt;<a class="code" href="../../d4/d37/struct_i_p_d_r__tag___t_c_p_connection.html#o2">RemotePort</a> == RemotePort) {
00374                 <span class="comment">/* XXX should signal error event */</span>
00375                 <a class="code" href="../../d1/d4e/_for_doxygen_2src_2_common_2_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../dc/dcc/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_transport_8c.html#a1">TRANSPORT_LOG</a>, <a class="code" href="../../dc/da0/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_msgs_8h.html#a1">TCP_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga7a169">IPDR_LEVEL_ERROR</a>,
00376                            <span class="stringliteral">"TCP_AcceptCallback"</span>, <a class="code" href="../../dc/da0/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_msgs_8h.html#a16">MSG_TCP_DUPLICATE_ACCEPT</a>,
00377                            <a class="code" href="../../dc/dcc/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_transport_8c.html#a40">TCP_GetConnectionInfoStr</a>(CX));
00378                 <a class="code" href="../../dc/dcc/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_transport_8c.html#a27">TCP_HandleDisconnection</a>(CX); <span class="comment">/* destroy old connection */</span>
00379                 <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a56">Platform_SleepMS</a>(<a class="code" href="../../dc/dcc/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_transport_8c.html#a0">TRANSPORT_PLATFORM</a>, 1000); <span class="comment">/* avoid rapid connect/disconnect loop */</span>
00380                 duplicateCX = <a class="code" href="../../db/d2e/_for_doxygen_2include_2_i_p_d_r_2_defs_8h.html#a5">IPDR_TRUE</a>;
00381             }
00382             CX = nextCX;
00383         }
00384         <span class="keywordflow">if</span> (duplicateCX) {
00385             <a class="code" href="../../dc/dcc/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_transport_8c.html#a27">TCP_HandleDisconnection</a>(C); <span class="comment">/* and destroy the new connection as well */</span>
00386             <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a56">Platform_SleepMS</a>(<a class="code" href="../../dc/dcc/_for_doxygen_2src_2_transports_2_t_c_p_2_t_c_p_transport_8c.html#a0">TRANSPORT_PLATFORM</a>, 1000); <span class="comment">/* avoid rapid connect/disconnect loop */</span>
00387         }
00388     }
00389     <span class="keywordflow">if</span> (dmalloc_markValInit == 0) {
00390         dmalloc_markValInit = dmalloc_markVal;
00391     }
00392 <span class="preprocessor">#endif</span>
00393 <span class="preprocessor"></span>
00394     <span class="keywordflow">if</span> (Now) {
00395         <a class="code" href="../../d7/d54/_for_doxygen_2src_2_common_2_platform_8h.html#a54">Platform_GetTime</a>(PS, Now);
00396     }
00397     <span class="keywordflow">if</span> (Statistics) {
00398         Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o0">TransmittedRecords</a>  = 0;
00399         Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o1">AcknowledgedRecords</a> = 0;
00400         Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o2">EnqueuedRecords</a>     = 0;
00401         Statistics-&gt;<a class="code" href="../../d7/d1e/struct_i_p_d_r___statistics.html#o3">LostRecords</a>         = 0;
00402     }
00403     <span class="keywordflow">if</span> (PrevStatistics) {
00404         PrevStatistics-&gt;TransmittedRecords  = 0;
00405         PrevStatistics-&gt;AcknowledgedRecords = 0;
00406         PrevStatistics-&gt;EnqueuedRecords     = 0;
00407         PrevStatistics-&gt;LostRecords         = 0;
00408     }
00409 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="Exporter.c::TransmissionContext_Destructor"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void TransmissionContext_Destructor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../dd/dc5/struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Obj</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete resources associated with a transmission context. <dl compact><dt><b>Note:</b></dt><dd>not static --- used by MemoryManagement.c</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PS</em>&nbsp;</td><td>platform services </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Obj</em>&nbsp;</td><td>object to delete </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">00750 {
00751     <a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a> *TC = (<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html">TransmissionContext</a> *) Obj;
00752     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o5">SessionPtr</a>;
00753     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>;
00754 
00755     strncpy(TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o0">eyecatcher</a>, <span class="stringliteral">"Dxmtctx"</span>, <span class="keyword">sizeof</span> TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o0">eyecatcher</a>);
00756     <a class="code" href="../../dd/d31/_for_doxygen_2src_2_common_2_dynamic_array_8c.html#a5">DynamicArray_Delete</a>(PS, &amp; (TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o2">Templates</a>));
00757     <a class="code" href="../../d6/dfc/_for_doxygen_2src_2_exporter_2_exporter_8h.html#a3">EXPORTER_QHANDLER</a>-&gt;DeleteTransmissionContext(E, S, TC);
00758     strncpy(TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o0">eyecatcher</a>, <span class="stringliteral">"Xxmtctx"</span>, <span class="keyword">sizeof</span> TC-&gt;<a class="code" href="../../d1/d8c/struct_i_p_d_r__tag___transmission_context.html#o0">eyecatcher</a>);
00759 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a9" doxytag="Exporter.c::Config_h_rcsid"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char <a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a9">Config_h_rcsid</a>[] = IPDR_CONFIG_H_RCSID          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="Exporter.c::Defs_h_rcsid"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char <a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a8">Defs_h_rcsid</a>[] = IPDR_DEFS_H_RCSID          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="Exporter.c::Exporter_DefaultHandlers"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="../../db/dcd/struct_i_p_d_r__tag___connection_handlers.html">ConnectionHandlers</a> <a class="el" href="../../df/df3/ipdr_2src_2_exporter_2_exporter_8h.html#a13">Exporter_DefaultHandlers</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a14">Exporter_ConnectCallback</a>,
    <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a15">Exporter_DisconnectCallback</a>,
    <a class="code" href="../../dd/dd0/_for_doxygen_2src_2_exporter_2_exporter_8c.html#a16">Exporter_DataCallback</a>,
}
</pre></div>Handlers for transport layer connections, for initial connection.     </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="Exporter.c::Exporter_h_rcsid"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char <a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a6">Exporter_h_rcsid</a>[] = EXPORTER_H_RCSID          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="Exporter.c::Exporter_rcsid"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char <a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a5">Exporter_rcsid</a>[] = "@(#) $Id: Exporter.c,v 1.103 2005/03/29 09:46:06 dmitryk Exp $" IPDR_COPYRIGHT_STR          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="Exporter.c::ExporterMsgs_h_rcsid"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char <a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a11">ExporterMsgs_h_rcsid</a>[] = EXPORTER_MSGS_H_RCSID          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="Exporter.c::IPDR_h_rcsid"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char <a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a7">IPDR_h_rcsid</a>[] = IPDR_H_RCSID          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="Exporter.c::ServerStateStr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* <a class="el" href="../../df/df3/ipdr_2src_2_exporter_2_exporter_8h.html#a12">ServerStateStr</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    <span class="stringliteral">"disconnected"</span>,
    <span class="stringliteral">"initiation"</span>,
    <span class="stringliteral">"ready"</span>,
    <span class="stringliteral">"active"</span>,
}
</pre></div>Vector of names of the enum ServerState.     </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="Exporter.c::Version_h_rcsid"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char <a class="el" href="../../d0/d00/ipdr_2src_2_exporter_2_exporter_8c.html#a10">Version_h_rcsid</a>[] = VERSION_H_RCSID " " IPDR_VER          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 09:26:27 2005 for IPDRAPI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
