<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Initializing / starting / deleting a client</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Initializing / starting / deleting a client</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__configuration__values.html">Configuration values for inialization (programmatically/MIB)</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_p_d_r___statistics.html">IPDR_Statistics</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef const char *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga0">IPDR_ParametersHandlerFunc</a> )(const char *Name, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga1">IPDR_LoadMIBFunc</a> )(<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> <a class="el" href="struct_i_p_d_r__tag___exporter.html">Exporter</a>, int MIBVersion, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga2">IPDR_SaveMIBFunc</a> )(<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> <a class="el" href="struct_i_p_d_r__tag___exporter.html">Exporter</a>, int MIBVersion, void *Arg)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter</a> (<a class="el" href="struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *PS, const char *ExporterName, <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga0">IPDR_ParametersHandlerFunc</a> ParamsHandler, void *ParamsHandlerArg, <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga1">IPDR_LoadMIBFunc</a> LoadMIB, void *LoadMIBArg, <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga2">IPDR_SaveMIBFunc</a> SaveMIB, void *SaveMIBArg, <a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> *CH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_StartExporter</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int IPDR_API_LINKAGE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga5">IPDR_IsRunning</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga6">IPDR_GetSessionStatistics</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="group___i_p_d_r__general__typedefs.html#ga10">IPDR_Time</a> *Now, <a class="el" href="struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Statistics, unsigned long *QueuedOutstandingRecords, unsigned long *QueuedUnacknowledgedRecords)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga7">IPDR_GetCollectorStatisticsAndState</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, <a class="el" href="group___i_p_d_r__general__typedefs.html#ga10">IPDR_Time</a> *Now, <a class="el" href="struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *Statistics, <a class="el" href="struct_i_p_d_r___event_data.html">IPDR_EventData</a> *LastEvent)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_DeleteExporter</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga10">IPDR_DrainQueue</a> (<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="group___i_p_d_r__general__typedefs.html#ga10">IPDR_Time</a> Timeout)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
All operations performed by the IPDR transmitter (client) library operate through a handle to a transmitter (client) entity (<a class="el" href="group___i_p_d_r__general__typedefs.html#ga4">IPDR_ExporterHandle</a>). The following sections describe the API for creating, starting and deleting a transmitter (client).<p>
The configuration parameters for the transmitter (client) are kept in a "MIB" (see <a class="el" href="group___i_p_d_r___m_i_b.html">IPDR configuration and monitoring data (MIB)</a>, <a class="el" href="group___i_p_d_r___m_i_b__related.html">SNMP agent support: MIB-related functions and types</a>, <a class="el" href="group___i_p_d_r__transmitter___m_i_b.html">IPDR transmitter (client) MIB overview</a>).<p>
The MIB is initialized to default values using <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga0">IPDR_ParametersHandlerFunc</a>. The MIB is then optionally loaded, possibly overriding these values (you can control this behavior by the way you write the load callback). <hr><h2>Typedef Documentation</h2>
<a class="anchor" name="ga1" doxytag="IPDR.h::IPDR_LoadMIBFunc"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>(* <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga1">IPDR_LoadMIBFunc</a>)(<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> <a class="el" href="struct_i_p_d_r__tag___exporter.html">Exporter</a>, int MIBVersion, void *Arg)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for loading the MIB.<p>
The function should limit its activity to calls to IPDR_MIBRestoreNodeByName(). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MIBVersion</em>&nbsp;</td><td>The MIB version (for matching with the saved MIB). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>Context value given when callback was registered by calling <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. If this function fails, <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a> will fail with the same return value. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="IPDR.h::IPDR_ParametersHandlerFunc"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef const char*(* <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga0">IPDR_ParametersHandlerFunc</a>)(const char *Name, void *Arg)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for looking up a parameter value.<p>
The function receives a parameter name and the additional argument (<em>ParamsHandlerArg</em>) and returns the parameter value as a string (below is a list of available parameters). If the function allocates memory for its return value, it must free the memory itself (e.g., on the next call to the parameters handler, or after it calls <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_DeleteExporter()</a>. If the callback returns NULL, the default value is used. If this function pointer is NULL, the default values will be used. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Name</em>&nbsp;</td><td>The parameter name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>Context value given when callback was registered by calling <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>C-string with the value; or NULL if the default is to be used. The names correspond to names in the MIB (see <a class="el" href="group___i_p_d_r___m_i_b.html">IPDR configuration and monitoring data (MIB)</a>).</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>IPDR_MIBGet <p>
<a class="el" href="group___i_p_d_r___m_i_b.html">IPDR configuration and monitoring data (MIB)</a> <p>
IPDR_MIBGetByName <p>
<a class="el" href="group___i_p_d_r___m_i_b__related.html">SNMP agent support: MIB-related functions and types</a> <p>
<a class="el" href="group___i_p_d_r__transmitter___m_i_b.html">IPDR transmitter (client) MIB overview</a> <p>
<a class="el" href="group___i_p_d_r___m_i_b.html">IPDR configuration and monitoring data (MIB)</a></dd></dl>
This function is currently used only by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a> to set initial MIB values. However, for future compatibility, it is recommended that the <em>Arg</em> parameter contains a pointer to the <a class="el" href="group___i_p_d_r__general__typedefs.html#ga4">IPDR_ExporterHandle</a> that is being set by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. The handle will be NULL if the MIB has not yet been set up (that is, if IPDR_MIBGetByName() cannot be called).<p>
The following parameters are retrieved by the transmitter (client) using the parameters handler callback. If the parameters handler callback is not given, or if the callback returns NULL, the default values are used.<p>
See <a class="el" href="group___i_p_d_r__configuration__values.html">Configuration values for inialization (programmatically/MIB)</a> for details.     </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="IPDR.h::IPDR_SaveMIBFunc"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a>(* <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga2">IPDR_SaveMIBFunc</a>)(<a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> <a class="el" href="struct_i_p_d_r__tag___exporter.html">Exporter</a>, int MIBVersion, void *Arg)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for saving the MIB.<p>
The function will typically walk the MIB and write it to a file, so that it can be loaded by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga1">IPDR_LoadMIBFunc</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MIBVersion</em>&nbsp;</td><td>The MIB version (for matching with the load). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>Context value given when callback was registered by calling <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga8" doxytag="IPDR.h::IPDR_DeleteExporter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_DeleteExporter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ExporterHandle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Stop and delete a IPDR transmitter (client), and release all resources. Any connections to a collector (server) are broken.<p>
If you get an unexpected response of <a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a203">IPDR_ERR_NOT_RUNNING</a>, you must call this function before calling <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>.<p>
This does <em>not</em> verify that all the data waiting in the output queue has been written or acknowledged. To ensure that all data has been acknowledged, use <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga10">IPDR_DrainQueue()</a> or use <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga6">IPDR_GetSessionStatistics()</a> and <a class="el" href="group___i_p_d_r__event__notification.html#ga1">IPDR_EventCallbackDetailed</a> with the <a class="el" href="group___i_p_d_r__event__notification.html#gga4a156">IPDR_EVENT_QUEUE_EMPTY</a> event.<p>
This function is <em>not</em> thread-safe; you must ensure that no other IPDR_<em>xxx</em> function is active or called before this function returns.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>IPDR_InitExporter </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="IPDR.h::IPDR_DrainQueue"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_DrainQueue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group___i_p_d_r__general__typedefs.html#ga10">IPDR_Time</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Timeout</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Wait until all the records in the queue have been sent and acknowledged. Because there is no guarantee that the queue will ever drain (all the collectors (servers) could be disconnected and they won't reconnect), a time limit can also be specified. If the queue did not drain in time, this function returns <a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a180">IPDR_ERR_OPERATION_WOULD_BLOCK</a> -- it is always possible that the queue has drained asynchronously so you should also check the <em>QueuedUnacknowledgedRecords</em> value from <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga6">IPDR_GetSessionStatistics()</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Session Handle as returned by <a class="el" href="group___i_p_d_r__sessions.html#ga0">IPDR_CreateSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Timeout</em>&nbsp;</td><td>Wait at most this long (in milliseconds) for the queue to drain; a value of zero means wait forever. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a180">IPDR_ERR_OPERATION_WOULD_BLOCK</a> <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_DeleteExporter</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="IPDR.h::IPDR_GetCollectorStatisticsAndState"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_GetCollectorStatisticsAndState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CollectorHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group___i_p_d_r__general__typedefs.html#ga10">IPDR_Time</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Now</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Statistics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r___event_data.html">IPDR_EventData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>LastEvent</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get statistics for a collector (server) within a session and get information about its state. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Session handle returned from <a class="el" href="group___i_p_d_r__sessions.html#ga0">IPDR_CreateSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CollectorHandle</em>&nbsp;</td><td>The collector handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Now</em>&nbsp;</td><td>(output) the current time (seconds since 1970-01-01T00:00:00Z). Use NULL if you don't want this value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Statistics</em>&nbsp;</td><td>(output) the statistics for the collector (server). Use NULL if you don't want this value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>LastEvent</em>&nbsp;</td><td>(output) the last state-change "event" that was triggered; This can be used to get the state and other current information about the collector (server). [Non-state events, such as <a class="el" href="group___i_p_d_r__event__notification.html#gga4a154">IPDR_EVENT_RECORD_LOST</a>, are ignored.] Use NULL if you don't want this value. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="IPDR.h::IPDR_GetSessionStatistics"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_GetSessionStatistics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group___i_p_d_r__general__typedefs.html#ga10">IPDR_Time</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Now</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r___statistics.html">IPDR_Statistics</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Statistics</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>QueuedOutstandingRecords</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>QueuedUnacknowledgedRecords</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get statistics for a session. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Session handle returned from <a class="el" href="group___i_p_d_r__sessions.html#ga0">IPDR_CreateSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Now</em>&nbsp;</td><td>(output) the current time (seconds since 1970-01-01T00:00:00Z). Use NULL if you don't want this value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Statistics</em>&nbsp;</td><td>(output) the statistics for the session. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>QueuedOutstandingRecords</em>&nbsp;</td><td>(output) the number of records currently on the output queue (unsent or unacknowledged). Use NULL if you don't want this value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>QueuedUnacknowledgedRecords</em>&nbsp;</td><td>(output) the number of records that currently have not been acknowledged. Use NULL if you don't want this value. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="IPDR.h::IPDR_InitExporter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_InitExporter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___platform.html">IPDR_PlatformServices</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>PS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga0">IPDR_ParametersHandlerFunc</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ParamsHandler</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>ParamsHandlerArg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga1">IPDR_LoadMIBFunc</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>LoadMIB</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>LoadMIBArg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga2">IPDR_SaveMIBFunc</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SaveMIB</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>SaveMIBArg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize a new transmitter (client) given the platform services and parameters.<p>
The IPDR transmitter (client) initialization process involves passing a function pointer which will be used by the transmitter (client) to retrieve its parameters and a structure that contains function pointer to platform specific handlers. These implement socket, timer, and memory allocation operations. Initial parameters should be set before the transmitter (client) is activated or may be modified by setting different values to the MIB's relevant OIDs. Changing the parameters at run time may cause the connections to be restarted.<p>
The implementation is free to use any method it wishes to store the parameter values. Examples are: <ul>
<li>
As a pre-defined list (the sample code uses this method). </li>
<li>
As an external file which is scanned for values. </li>
<li>
As internal values which are set via a separate command line interface or via SNMP (as part of a MIB). </li>
</ul>
<p>
The <em>ParamsHandlerArg</em> parameter to the parameters handler function contains the necessary context for the implementation to fetch the values.<p>
<dl compact><dt><b>Note:</b></dt><dd></dd></dl>
If any subsequent function returns <a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a203">IPDR_ERR_NOT_RUNNING</a>, you must call <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_DeleteExporter()</a> to clean things up before calling this function again.<p>
It is undefined when the implementation calls the <em>ParamsHandler</em>. It may choose to collect all parameter the values during initialization; if your <em>ParamsHandler</em> changes its values after initialization, you must stop and start the transmitter (client) to make them take effect.<p>
If you wish to give precedence to the values in the MIB, you can get at them with IPDR_MIBGetByName(). You must create the <em>ParamsHandlerArg</em> to contain a pointer to the <em>transmitter</em> (client) handle and test to ensure that the handle is non-NULL before using it (<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a> will sufficiently instantiate the transmitter (client) to allow MIB lookups.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PS</em>&nbsp;</td><td>handle to a platform services structure supplied by the host application, containing pointers to service functions. The contents of this structure will depend on platform specifics. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ExporterName</em>&nbsp;</td><td>name of the transmitter (client) (used for logging purposes). A copy is made of the string. If this parameter is NULL or zero-length, a default name is supplied. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ParamsHandler</em>&nbsp;</td><td>callback function for initial values of parameters needed by the transmitter (client). Any values set by this callback can be changed before <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_StartExporter()</a> by using IPDR_MIBSet(). See additional comments with <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga0">IPDR_ParametersHandlerFunc</a>. If this parameter is NULL, default values are used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ParamsHandlerArg</em>&nbsp;</td><td>argument to the <em>ParamsHandler</em> callback function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>LoadMIB</em>&nbsp;</td><td>callback function for initializing the values in the MIB. The function should limit its activity to calls to IPDR_MIBRestoreNodeByName(). If this function fails (returns anything other than <a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a>), <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a> will fail with the same return value. If this parameter is NULL, nothing is done for loading the MIB. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>LoadMIBArg</em>&nbsp;</td><td>passed to <em>LoadMIB</em>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SaveMIB</em>&nbsp;</td><td>callback function for saving the values in the MIB. If this parameter is NULL, nothing is done for saving the MIB. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SaveMIBArg</em>&nbsp;</td><td>passed to <em>SaveMIB</em>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CH</em>&nbsp;</td><td>(output) handle to the newly created transmitter (client); NULL on failure. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="struct_i_p_d_r___persistence_services.html">IPDR_PersistenceServices</a> <p>
<a class="el" href="group___i_p_d_r___m_i_b__related.html">SNMP agent support: MIB-related functions and types</a> <p>
<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga0">IPDR_ParametersHandlerFunc</a> <p>
<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_StartExporter</a> <p>
<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga5">IPDR_IsRunning</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="IPDR.h::IPDR_IsRunning"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int IPDR_API_LINKAGE IPDR_IsRunning           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ExporterHandle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Test whether the transmitter (client) is running. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for not running, 1 for running. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a203">IPDR_ERR_NOT_RUNNING</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="IPDR.h::IPDR_StartExporter"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_StartExporter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ExporterHandle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Start a previously created transmitter (client). After the transmitter (client) has been initialized and sessions and templates have been created, the transmitter (client) can be started. For <em>some</em> implementations of the platform services, this will result in starting a new thread. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group___i_p_d_r__general__typedefs.html#gga15a176">IPDR_OK</a> on success; <a class="el" href="group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga5">IPDR_IsRunning()</a> <p>
<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a> <p>
<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_DeleteExporter()</a> </dd></dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon May 30 15:54:42 2005 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
