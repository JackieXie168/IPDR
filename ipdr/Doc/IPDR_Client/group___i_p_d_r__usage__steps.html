<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Steps for implementing a IPDR transmitter (client)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Steps for implementing a IPDR transmitter (client)<br>
<small>
[<a class="el" href="group___i_p_d_r__usage.html">IPDR transmitter (client) usage guidelines</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<ol>
<li>
Write a platform-dependent implementation for the required services (memory allocation, timers, non-volatile memory) and set up an appropriate <a class="el" href="group___i_p_d_r__platform.html#ga0">IPDR_PlatformServices</a> structure. This is necessary only if the target platform is not POSIX, Linux, Solaris, or VxWorks. </li>
<li>
For any template that will be transmitted as accounting data from the application, define keys corresponding to the structure's fields. For each key, write suitable sccessor function, if required. Define the template with a vector <a class="el" href="struct_i_p_d_r___key.html">IPDR_Key</a> values. </li>
<li>
Call the appropriate platform-dependent intialization routine for the <a class="el" href="group___i_p_d_r__platform.html#ga0">IPDR_PlatformServices</a> structure described in #1 (such as <a class="el" href="_generic_platform_8c.html#a54">GenericPlatform_Initialize()</a>). </li>
<li>
Call <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a> along with a pointer to the platform services structure containing references to the functions implemented in (1). Configuration can be done using the IPDR_ParametersHandlerFunc callback and the <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga1">IPDR_LoadMIBFunc</a> callback. </li>
<li>
Create a session using <a class="el" href="group___i_p_d_r__sessions.html#ga0">IPDR_CreateSession()</a>. </li>
<li>
Associate one or more collectors (servers) with the session (using <a class="el" href="group___i_p_d_r__sessions.html#ga4">IPDR_AddCollector()</a>). </li>
<li>
Add templates using <a class="el" href="group___i_p_d_r__templates.html#ga5">IPDR_CreateTemplate()</a>, using keys defined in #2. </li>
<li>
Start the transmitter (client) with <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_StartExporter()</a>. </li>
<li>
Use <a class="el" href="group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> to send accounting records. </li>
</ol>
<p>
Optional steps, which should be done before calling <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_StartExporter()</a>: <ol>
<li>
Define event handling, using <a class="el" href="group___i_p_d_r__event__notification.html#ga3">IPDR_SetExporterEventHandlerDetailed()</a>. </li>
<li>
Define handling of template negotiation, where the collector (server) does not need all the fields, using <a class="el" href="group___i_p_d_r__templates.html#ga18">IPDR_SetTemplateChangedCallback()</a>. This is needed only if the platform can save processing by not generating data for unneeded fields. </li>
<li>
Bind IPDR MIB into the platform MIB, using IPDR_MIBGet() and IPDR_MIBGetNext() and IPDR_MIBSet(). During transmitter (client) startup, the <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga1">IPDR_LoadMIBFunc</a> callback can be used to populate the configuration parameters in the MIB. </li>
<li>
Bind logging into the platform logging, using <a class="el" href="group___i_p_d_r__logging.html#ga4">IPDR_SetLogOutputCallbackDetailed()</a>. </li>
</ol>
<p>
Optional steps, after <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga4">IPDR_StartExporter()</a>: <ol>
<li>
Monitor progress using <a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga6">IPDR_GetSessionStatistics()</a> or IPDR_GetServerStatisticsAndState(). You would do this if the default statistic messages (set by <code>configuration.statisticsInterval</code>) are not to your liking. </li>
</ol>
<p>
Shut-down is done by: <ol>
<li>
<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga10">IPDR_DrainQueue()</a>, if desired. </li>
<li>
<a class="el" href="group___i_p_d_r__initialization__starting__deletion.html#ga8">IPDR_DeleteExporter()</a>. </li>
<li>
<a class="el" href="struct_i_p_d_r__tag___platform.html#o5">IPDR_PlatformServices::Delete()</a>. </li>
</ol>
<hr size="1"><address style="align: right;"><small>Generated on Mon May 30 15:54:41 2005 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
