<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IPDRAPI: Templates and keys</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../namespaces.html">Namespace List</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="../../dirs.html">Directories</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="../../globals.html">Globals</a></div>
<h1>Templates and keys</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcb/group___i_p_d_r__key__type__attributes.html">Key and type (template) attributes</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga0">IPDR_TemplateChangedCallback</a> )(<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../df/d3e/struct_i_p_d_r___template.html">IPDR_Template</a> *T, int NumTemplates, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga1">IPDR_StartNegotiationCallback</a> )(<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, <a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a> *Negotiate, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga2">IPDR_FlowStartCallback</a> )(<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, <a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a> *ChooseThisOne, void *Arg)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, int TemplateID, const char *SchemaName, const char *TypeName, int NumKeys, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *Keys, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga4">IPDR_CreateTemplate_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID, const char *SchemaName, const char *TypeName, int NumKeys, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *Keys)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga5">IPDR_GetTemplate</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, int TemplateID, char **SchemaName, char **TypeName, int *NumKeys, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga6">IPDR_DeleteTemplate</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga7">IPDR_DeleteTemplate_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga8">IPDR_AddKey</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *CKey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga9">IPDR_AddKey_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID, const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *CKey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga10">IPDR_RemoveKey</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH, unsigned int KeyID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga11">IPDR_RemoveKey_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, int TemplateID, unsigned int KeyID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga12">IPDR_EnableKey</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH, unsigned int KeyID, <a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a> Enabled)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga13">IPDR_EnableKey_All</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, int TemplateID, unsigned int KeyID, <a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a> Enabled)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates</a> (<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga15">IPDR_ApplyTemplates_All</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga16">IPDR_SetTemplateChangedCallback</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga0">IPDR_TemplateChangedCallback</a> Callback, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga17">IPDR_SetStartNegotiationCallback</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga1">IPDR_StartNegotiationCallback</a> Callback, void *Arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IPDR_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga18">IPDR_SetFlowStartCallback</a> (<a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a> ExporterHandle, <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga2">IPDR_FlowStartCallback</a> Callback, void *Arg)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A host application can format data for transmission with a set of templates. Templates contain keys that can be dynamically enabled or disabled. They are a shared resource available to all sessions; the host application can define multiple templates to meet various BSS/OSS needs, and use them concurrently. At the start of a session, the IPDR collector and transmitter 'negotiate' the data to be sent. The aim is to arrive at a 'best fit' between data the platform can make available and the requirements of the business/support application(s) being used in a network.<p>
Thus, the IPDR collector indicates which of the available templates are required and which keys within them are to be enabled or disabled. This can be done strictly with the XML configuraiton, or by some interaction by querying from the collector to the transmitter and then using a GUI to select which fields are actually wanted. The transmitter, based on the configuration information received from the collector, sends the collector an indication of the data formats (templates) it will use and after the collector confirms, sends only 'raw' data. The collector interprets this compact data using the templates it has agreed with the transmitter.<p>
The host application uses the <a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> function to populate data records in accordance with the template structures. The exporter filters out disabled keys and sends the record in the context of the appropriate sessions. The exporter code is free to reorder the fields in the template to something different from the ordering within the host application's records. <hr><h2>Typedef Documentation</h2>
<a class="anchor" name="ga2" doxytag="IPDR.h::IPDR_FlowStartCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga2">IPDR_FlowStartCallback</a>)(<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, <a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a> *ChooseThisOne, void *Arg)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for when flow start message is received at the session This callback allows to the host application to force choice of specific Collector The flag defaults to the value, specified at capabilities <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session where the template has been changed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CollectorHanlde</em>&nbsp;</td><td>Handle to Collector which sent the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ChooseThisOne</em>&nbsp;</td><td>the output boolean value. Allows to force choosing this collector for active session at "TEMPLATE DATA" message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>The <em>Arg</em> parameter set by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga18">IPDR_SetFlowStartCallback()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga18">IPDR_SetFlowStartCallback</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="IPDR.h::IPDR_StartNegotiationCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga1">IPDR_StartNegotiationCallback</a>)(<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../de/d0d/struct_i_p_d_r__tag___collector.html">IPDR_CollectorHandle</a> CollectorHandle, <a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a> *Negotiate, void *Arg)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for when start negotiation message is received at the session This callback allows to the host application to decide if it willing to perform negotiation at this time <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session where the template has been changed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CollectorHanlde</em>&nbsp;</td><td>Handle to Collector which sent the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Negotiate</em>&nbsp;</td><td>the output boolean value. If set to false, the negotiation will be rejected </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>The <em>Arg</em> parameter set by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga17">IPDR_SetStartNegotiationCallback()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga17">IPDR_SetStartNegotiationCallback</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="IPDR.h::IPDR_TemplateChangedCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga0">IPDR_TemplateChangedCallback</a>)(<a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a> SessionHandle, <a class="el" href="../../df/d3e/struct_i_p_d_r___template.html">IPDR_Template</a> *T, int NumTemplates, void *Arg)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback for when a template is changed by the collector. During the template negotiation, the collector can request that certain fields be not transmitted. The IPDR exporter software will agree to this and not transmit these fields; this callback is called to inform the host application that certain fields are not needed (possibly improving its performance). The unneeded fields can safely be left unitialized when a call to <a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> is done.<p>
The host application will have an option to change the modified fields back if necessary, as demonstrated below<p>
There is no record of before/after for fields; processing should be something like this: <div class="fragment"><pre class="fragment"> *     for (i = 0; i &lt; NumTemplates; i++) {
 *       const IPDR_Template *T = Templates[i];
 *       for (j = 0; j &lt; T-&gt;NumKeys; j++) {
 *         const IPDR_Key *K = T-&gt;Keys[j];
 *         if (K-&gt;Enabled = true;
 *       }
 *     }
 *  </pre></div><p>
Or - for debugging purposes <div class="fragment"><pre class="fragment"> *     for (i = 0; i &lt; NumTemplates; i++) {
 *       const IPDR_Template *T = Templates[i];
 *       for (j = 0; j &lt; T-&gt;NumKeys; j++) {
 *         const IPDR_Key *K = T-&gt;Keys[j];
 *		   if( j % 2 )	K-&gt;Enabled = true;
 *			else K-&gt;Enabled = false;
 *       }
 *     }
 *  </pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session where the template has been changed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumTemplates</em>&nbsp;</td><td>The number of templates that have been changed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Templates</em>&nbsp;</td><td>The templates that have changed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>The <em>Arg</em> parameter set by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga16">IPDR_SetTemplateChangedCallback()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga16">IPDR_SetTemplateChangedCallback</a> </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga8" doxytag="IPDR.h::IPDR_AddKey"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_AddKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CKey</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a key to a previously created template.<p>
If this function is called after the exporter has already been started, the key will be added only after <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates()</a> is called. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session containing this template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>Template handle previously created by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CKey</em>&nbsp;</td><td>Key to add (an internal copy is made of this structure and all its contents). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a199">IPDR_ERR_KEY_ALREADY_EXISTS</a>, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>, or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates</a> </dd></dl>
<div class="fragment"><pre class="fragment">02484 {
02485     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = SessionHandle;
02486         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = NULL;
02487 
02488     <span class="keywordflow">if</span> ( !S ) {
02489         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
02490     }
02491 
02492         E = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>;
02493         <span class="keywordflow">if</span>(E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o20">IsInsideCallback</a>)
02494                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a212">IPDR_ERR_API_CALL_FROM_CALLBACK</a>;
02495 
02496     <span class="keywordflow">return</span> <a class="code" href="../../d5/db3/_exporter_8c.html#a22">Exporter_AddKeyInternal</a>(SessionHandle,TH,CKey);
02497 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="IPDR.h::IPDR_AddKey_All"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_AddKey_All           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CKey</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a key to a previously created template.<p>
If this function is called after the transmitter (client) has already been started, the key will be added only after <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates()</a> is called.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to the exporter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of the template, used in call to IPDR_CreateTemplate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CKey</em>&nbsp;</td><td>Key to add (an internal copy is made of this structure and all its contents). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a199">IPDR_ERR_KEY_ALREADY_EXISTS</a>, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>, or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga14" doxytag="IPDR.h::IPDR_ApplyTemplates"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_ApplyTemplates           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>SessionHandle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Apply a new template configuration during exporter runtime.<p>
Changes to templates, including template creation and add/remove keys, take effect only after this function runs to successful completion and also IPDR_SessionStart function is called Internally, this function will send TEMPLATE DATA message <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session to apply the templates </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. This function can not be called from within active session and will result in error. Before calling this function, IPDR_SessionStop must be called.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga8">IPDR_AddKey</a> <p>
<a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga10">IPDR_RemoveKey</a> </dd></dl>
<div class="fragment"><pre class="fragment">03047 {
03048     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = SessionHandle;
03049         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>;
03050     <a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *Tmpl;
03051     <span class="keywordtype">int</span> i;
03052 
03053     <span class="keywordflow">if</span> (!S) {
03054         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
03055     }
03056 
03057     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/dc9/_platform_8h.html#a4">Platform_IsRunning</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>)) {
03058         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a201">IPDR_ERR_NOT_RUNNING</a>;
03059     }
03060 
03061     <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
03062 
03063     <span class="keywordflow">if</span> (! S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o1">Started</a>) {
03064         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
03065         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
03066     }
03067 
03068         <span class="keywordflow">if</span>(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o10">Running</a> == <a class="code" href="../../df/dde/_defs_8h.html#a5">IPDR_TRUE</a>)
03069         {
03070                 <a class="code" href="../../da/df4/_log_8h.html#a29">Log_Write1</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a4">EXPORTER_LOG</a>, <a class="code" href="../../d0/dc0/_exporter_msgs_8h.html#a1">EXPORTER_MODULE_ID</a>, <a class="code" href="../../dc/d9b/group___i_p_d_r__logging.html#gga6a169">IPDR_LEVEL_ERROR</a>,
03071                                 <span class="stringliteral">"Exporter_AssocCollectorSession_Internal"</span>,
03072                                 <a class="code" href="../../d0/dc0/_exporter_msgs_8h.html#a122">MSG_EXPORTER_SESSION_MUST_STOP3</a>,
03073                                 S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a>);
03074                 <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
03075                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a214">IPDR_ERR_SESSION_IS_RUNNING</a>;
03076         }
03077 
03078     <span class="comment">/* reset all templates associated with the client */</span>
03079 
03080     <span class="keywordflow">for</span> (i = 0; i &lt; S-&gt;Templates.Length; i++) {
03081         Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03082         <span class="keywordflow">if</span> (Tmpl != NULL)
03083             <a class="code" href="../../dd/d68/_templates_8c.html#a20">Template_Reset</a>(S, Tmpl);
03084     }
03085 
03086     <span class="comment">/* start a new work context based on the client templates</span>
03087 <span class="comment">       once the templates are applied */</span>
03088         <a class="code" href="../../d5/db3/_exporter_8c.html#a45">Session_CreateNewWorkContext</a>(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>, S, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>), <a class="code" href="../../df/dde/_defs_8h.html#a5">IPDR_TRUE</a>);
03089         <a class="code" href="../../dd/d44/_exporter_protocol_8c.html#a39">ExporterProtocol_FlushRecordsQueue</a>(S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>, S, NULL, <span class="stringliteral">"ApplyTemplates"</span>);
03090 
03091     <span class="comment">/*for (i = 0; i &lt; E-&gt;Sessions.Length; i++) {</span>
03092 <span class="comment">        S = (Session *) E-&gt;Sessions.Data[i];</span>
03093 <span class="comment">        Session_CreateNewWorkContext(E, S, &amp; (E-&gt;Templates), IPDR_TRUE);</span>
03094 <span class="comment">        ExporterProtocol_FlushRecordsQueue(E, S, NULL, "ApplyTemplates");</span>
03095 <span class="comment">    }*/</span>
03096 
03097     <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
03098 
03099     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
03100 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga15" doxytag="IPDR.h::IPDR_ApplyTemplates_All"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_ApplyTemplates_All           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ExporterHandle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Apply a new template configuration during exporter runtime to all existing sessions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a Exporter previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga8">IPDR_AddKey</a> <p>
<a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga10">IPDR_RemoveKey</a> </dd></dl>
<div class="fragment"><pre class="fragment">03109 {
03110         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>* E = ExporterHandle;
03111         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a>* S ;
03112         <span class="keywordtype">int</span> i ;
03113         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> ;
03114 
03115         <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03116 
03117         <span class="keywordflow">for</span> (i = 0; i &lt; E-&gt;Sessions.Length; i++) {
03118         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
03119         Status = <a class="code" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates</a>(S);
03120                 <span class="keywordflow">if</span>( <a class="code" href="../../da/d39/_i_p_d_r_8h.html#a18">FAILURE</a>(Status) )
03121                 {
03122                         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03123                         <span class="keywordflow">return</span> Status ;
03124                 }
03125     }
03126 
03127         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03128         <span class="keywordflow">return</span> Status ;
03129 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="IPDR.h::IPDR_CreateTemplate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_CreateTemplate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>SchemaName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>TypeName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>NumKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Keys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new template within the exporter.<p>
This function is used to create a new template, with or without keys. Additional keys can be added to a template after its creation.<p>
A template applies to specific session. The collector may declare that it is not interested in receiving a template by disabling all the keys, in which case any ouptut of the template via <a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> will do nothing. (For efficiency, the host application might decide not to even call <a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> -- it will know that all the keys have been disabled by the <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga0">IPDR_TemplateChangedCallback</a> being called with all keys having <a class="el" href="../../df/dcb/group___i_p_d_r__key__type__attributes.html#ga20">IPDR_KEY_DISABLED</a> set in the IPDR_Key.KeyAttributes field.<p>
During the exporter initialization process, all key data structures passed as arguments to this function are defined and activated. Therefore, a platform's core templates should be created in this way.<p>
Templates can also be created,KeyHelp and keys may be added to templates, dynamically (in run time). Templates and keys so created will become active only when the session is restarted. They will not persist after power-down and will not be re-created in the next initialization.<p>
When all keys in a template are accessed using offsets and all have a fixed length, it is recommended to group all mandatory keys at the beginning for efficiency purposes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session to contain this template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SchemaName</em>&nbsp;</td><td>name of the template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TypeName</em>&nbsp;</td><td>template type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumKeys</em>&nbsp;</td><td>Number of keys within the template (may be zero for an empty template). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Keys</em>&nbsp;</td><td>Array of keys associated with the template (an internal copy is made of this array and all its contents). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>(output) Handle to the newly created template. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a196">IPDR_ERR_TEMPLATE_ALREADY_EXISTS</a> or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates</a> <p>
<a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga8">IPDR_AddKey</a> <p>
IPDR_DeleteKey </dd></dl>
<div class="fragment"><pre class="fragment">02717 {
02718     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
02719         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = SessionHandle ;
02720     <span class="keywordflow">return</span> <a class="code" href="../../d5/db3/_exporter_8c.html#a21">Exporter_CreateTemplateInternal</a>(E, S, TemplateID, SchemaName, TypeName,
02721                                          NumKeys, Keys, <a class="code" href="../../df/dde/_defs_8h.html#a4">IPDR_FALSE</a>, TH);
02722 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="IPDR.h::IPDR_CreateTemplate_All"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_CreateTemplate_All           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>SchemaName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>TypeName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>NumKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d12/struct_i_p_d_r___key.html">IPDR_Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Keys</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new template within the exporter.<p>
Previous (CRANE compatible) version of IPDR_CreateTemplate function performs corresponding operation for all sessions<p>
This function is used to create a new template, with or without keys. Additional keys can be added to a template after its creation.<p>
A template applies to specific session. The collector may declare that it is not interested in receiving a template by disabling all the keys, in which case any ouptut of the template via <a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> will do nothing. (For efficiency, the host application might decide not to even call <a class="el" href="../../dc/d8d/group___i_p_d_r__data__delivery.html#ga0">IPDR_SendData()</a> -- it will know that all the keys have been disabled by the <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga0">IPDR_TemplateChangedCallback</a> being called with all keys having <a class="el" href="../../df/dcb/group___i_p_d_r__key__type__attributes.html#ga20">IPDR_KEY_DISABLED</a> set in the IPDR_Key.KeyAttributes field.<p>
During the exporter initialization process, all key data structures passed as arguments to this function are defined and activated. Therefore, a platform's core templates should be created in this way.<p>
Templates can also be created, and keys may be added to templates, dynamically (in run time). Templates and keys so created will become active only when the session is restarted. They will not persist after power-down and will not be re-created in the next initialization.<p>
When all keys in a template are accessed using offsets and all have a fixed length, it is recommended to group all mandatory keys at the beginning for efficiency purposes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to a transmitter (client) previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SchemaName</em>&nbsp;</td><td>name of the template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TypeName</em>&nbsp;</td><td>template type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumKeys</em>&nbsp;</td><td>Number of keys within the template (may be zero for an empty template). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Keys</em>&nbsp;</td><td>Array of keys associated with the template (an internal copy is made of this array and all its contents). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a196">IPDR_ERR_TEMPLATE_ALREADY_EXISTS</a> or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates</a> <p>
<a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga8">IPDR_AddKey</a> <p>
IPDR_DeleteKey </dd></dl>
<div class="fragment"><pre class="fragment">02737 {
02738     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
02739         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = NULL ;
02740         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status, Status1 = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
02741         <span class="keywordtype">int</span> i ;
02742         <a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH;
02743         <span class="keywordflow">for</span> (i = 0; i &lt; E-&gt;Sessions.Length; i++) {
02744         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
02745                 Status = <a class="code" href="../../d5/db3/_exporter_8c.html#a21">Exporter_CreateTemplateInternal</a>(E, S, TemplateID, SchemaName, TypeName,
02746                                          NumKeys, Keys, <a class="code" href="../../df/dde/_defs_8h.html#a4">IPDR_FALSE</a>, &amp;TH);
02747                 <span class="keywordflow">if</span>(<a class="code" href="../../da/d39/_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
02748                         Status1 = Status;
02749     }
02750     <span class="keywordflow">return</span> Status1;
02751 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="IPDR.h::IPDR_DeleteTemplate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_DeleteTemplate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a previously created template. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session containing this template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>Handle of template (created by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate()</a>) to remove. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a> or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">02846 {
02847     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = SessionHandle;
02848     <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status;
02849 
02850     <span class="keywordflow">if</span> (! S || TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o1">s</a> != S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a> || TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a> &gt;= S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a>) {
02851         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
02852     }
02853 
02854     <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02855     Status = <a class="code" href="../../d3/d58/_dynamic_array_8c.html#a7">DynamicArray_Remove</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>), TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a>);
02856     <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02857 <span class="preprocessor">#ifdef NOTDONEYET</span>
02858 <span class="preprocessor"></span>    ExporterMIB_UpdateTemplates(S);
02859 <span class="preprocessor">#endif</span>
02860 <span class="preprocessor"></span>    <span class="keywordflow">return</span> Status;
02861 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="IPDR.h::IPDR_DeleteTemplate_All"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_DeleteTemplate_All           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a previously created template in all sessions of the exporter <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to the exporter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of template. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a> or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">02872 {
02873         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S ;
02874         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>* E = ExporterHandle;
02875 
02876         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status, Status1 = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
02877         <a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH;
02878         <span class="keywordtype">int</span> i;
02879 
02880     <span class="keywordflow">if</span> (! E) {
02881         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
02882     }
02883 
02884     <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02885         <span class="keywordflow">for</span> (i = 0; i &lt; E-&gt;Sessions.Length; i++) {
02886         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
02887 
02888                 Status = <a class="code" href="../../d5/db3/_exporter_8c.html#a84">IPDR_GetTemplateInternal</a>(S, TemplateID, NULL, NULL, NULL, &amp;TH);
02889                 <span class="keywordflow">if</span>(<a class="code" href="../../da/d39/_i_p_d_r_8h.html#a17">SUCCESS</a>(Status))
02890                 {
02891                         Status = <a class="code" href="../../d3/d58/_dynamic_array_8c.html#a7">DynamicArray_Remove</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>, &amp; (S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>), TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a>);
02892 
02893                         <span class="keywordflow">if</span>(<a class="code" href="../../da/d39/_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
02894                                 Status1 = Status;
02895                 }
02896         }
02897     <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02898 <span class="preprocessor">#ifdef NOTDONEYET</span>
02899 <span class="preprocessor"></span>    ExporterMIB_UpdateTemplates(S);
02900 <span class="preprocessor">#endif</span>
02901 <span class="preprocessor"></span>    <span class="keywordflow">return</span> Status1;
02902 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="IPDR.h::IPDR_EnableKey"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_EnableKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Enabled</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable or disable a key within a template.<p>
If this function is called after the transmitter (client) has already been started, the key will be acutally enabled or diabled only after <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates()</a> is called. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session containing this template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>Template handle previously created by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>KeyID</em>&nbsp;</td><td>ID of key to remove from the template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Enabled</em>&nbsp;</td><td>- enables the key if true, disables otherwise </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a198">IPDR_ERR_KEY_NOT_FOUND</a>, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>, or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">02664 {
02665     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = SessionHandle;
02666     <a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *Tmpl;
02667     <a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *K;
02668     <span class="keywordtype">int</span> i;
02669 
02670     <span class="keywordflow">if</span> (! S)
02671         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
02672 
02673     <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02674 
02675         <span class="keywordflow">if</span>(TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o1">s</a> != S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a> || TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a> &gt;= S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a>){
02676         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02677         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>;
02678     }
02679 
02680     Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a>];
02681     <span class="keywordflow">if</span> (Tmpl == NULL) {
02682         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02683         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>;
02684     }
02685 
02686     <span class="keywordflow">for</span> (i = 0; i &lt; Tmpl-&gt;Keys.Length; i++) {
02687         K = (<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *) Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
02688         <span class="keywordflow">if</span> (K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a> == KeyID) {
02689             K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o5">Enabled</a> = Enabled;
02690             <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02691             <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
02692         }
02693     }
02694 <span class="preprocessor">#ifdef NOTDONEYET</span>
02695 <span class="preprocessor"></span>    ExporterMIB_UpdateTemplates(S);
02696 <span class="preprocessor">#endif</span>
02697 <span class="preprocessor"></span>    <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02698 
02699     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a198">IPDR_ERR_KEY_NOT_FOUND</a>;
02700 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="IPDR.h::IPDR_EnableKey_All"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_EnableKey_All           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../df/dde/_defs_8h.html#a16">IPDR_BOOL</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Enabled</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable or disable a key within a template.<p>
If this function is called after the transmitter (client) has already been started, the key will be acutally enabled or diabled only after <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates()</a> is called. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session containing this template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>Template handle previously created by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>KeyID</em>&nbsp;</td><td>ID of key to remove from the template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Enabled</em>&nbsp;</td><td>- enables the key if true, disables otherwise </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a198">IPDR_ERR_KEY_NOT_FOUND</a>, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>, or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">02963 {
02964         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> * S = SessionHandle;
02965         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o19">ExporterPtr</a>;
02966         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status, Status1 = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
02967         <a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TemplateHandle;
02968         <span class="keywordtype">int</span> j ;
02969         <span class="keywordflow">for</span> (j = 0; j &lt; E-&gt;Sessions.Length; j++) {
02970         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[j];
02971 
02972                 Status = <a class="code" href="../../d5/db3/_exporter_8c.html#a84">IPDR_GetTemplateInternal</a>(S, TemplateID, NULL, NULL, NULL, &amp;TemplateHandle);
02973                 <span class="keywordflow">if</span>(<a class="code" href="../../da/d39/_i_p_d_r_8h.html#a17">SUCCESS</a>(Status))
02974                 {
02975                         Status = <a class="code" href="../../d1/dcc/group___i_p_d_r__templates.html#ga12">IPDR_EnableKey</a>(SessionHandle, TemplateHandle, KeyID, Enabled);
02976 
02977                         <span class="keywordflow">if</span>(<a class="code" href="../../da/d39/_i_p_d_r_8h.html#a18">FAILURE</a>(Status))
02978                                 Status1 = Status;
02979                 }
02980         }
02981         <span class="keywordflow">return</span> Status1;
02982 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="IPDR.h::IPDR_GetTemplate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_GetTemplate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>SchemaName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>TypeName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>NumKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieve a template handle given a template ID. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session containing this template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of template. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SchemaName</em>&nbsp;</td><td>(output) name of the template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TypeName</em>&nbsp;</td><td>(output) template type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumKeys</em>&nbsp;</td><td>(output) number of keys at the template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>(output) Handle to the found template. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a> or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate</a> </dd></dl>
<div class="fragment"><pre class="fragment">02996 {
02997         <span class="keywordflow">if</span> (! SessionHandle || ! TH) {
02998         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
02999     }
03000 
03001     <span class="keywordflow">return</span> <a class="code" href="../../d5/db3/_exporter_8c.html#a84">IPDR_GetTemplateInternal</a>(SessionHandle, TemplateID, SchemaName, TypeName, NumKeys, TH);
03002 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="IPDR.h::IPDR_RemoveKey"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_RemoveKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d35/struct_i_p_d_r__tag___session.html">IPDR_SessionHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>SessionHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>TH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove a key from a template.<p>
If this function is called after the exporter has already been started, the key will be added only after <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates()</a> is called. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SessionHandle</em>&nbsp;</td><td>Handle to session containing this template </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TH</em>&nbsp;</td><td>Template handle previously created by <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>KeyID</em>&nbsp;</td><td>ID of key to remove from the template. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a198">IPDR_ERR_KEY_NOT_FOUND</a>, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>, or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">02562 {
02563     <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *S = SessionHandle;
02564     <a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *Tmpl;
02565     <a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *K;
02566     <span class="keywordtype">int</span> i;
02567 
02568     <span class="keywordflow">if</span> ( !S ) {
02569         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
02570     }
02571 
02572     <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02573 
02574         <span class="keywordflow">if</span>(TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o1">s</a> != S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o16">ID</a> || TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a> &gt;= S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o1">Length</a>){
02575         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02576         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>;
02577     }
02578 
02579     Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a>];
02580     <span class="keywordflow">if</span> (Tmpl == NULL) {
02581         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02582         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>;
02583     }
02584 
02585     <span class="keywordflow">for</span> (i = 0; i &lt; Tmpl-&gt;Keys.Length; i++) {
02586         K = (<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *) Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
02587         <span class="keywordflow">if</span> (K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a> == KeyID) {
02588             <a class="code" href="../../d3/d58/_dynamic_array_8c.html#a9">DynamicArray_RemoveAndShift</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>, &amp; (Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>), i);
02589             <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(SESSION_PLATFORM);
02590             <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
02591         }
02592     }
02593 <span class="preprocessor">#ifdef NOTDONEYET</span>
02594 <span class="preprocessor"></span>    ExporterMIB_UpdateTemplates(S);
02595 <span class="preprocessor">#endif</span>
02596 <span class="preprocessor"></span>    <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02597 
02598     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a198">IPDR_ERR_KEY_NOT_FOUND</a>;
02599 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="IPDR.h::IPDR_RemoveKey_All"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_RemoveKey_All           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>TemplateID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove a key from a template.<p>
If this function is called after the transmitter (client) has already been started, the key will be added only after <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga14">IPDR_ApplyTemplates()</a> is called. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to the exporter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TemplateID</em>&nbsp;</td><td>ID of the template used for <a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga3">IPDR_CreateTemplate()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>KeyID</em>&nbsp;</td><td>ID of key to remove from the template. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a198">IPDR_ERR_KEY_NOT_FOUND</a>, <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>, or <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">02611 {
02612         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a>* E = ExporterHandle;
02613     <a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *Tmpl;
02614         <a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a>* S;
02615         <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga0">IPDR_Status</a> Status = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
02616     <a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *K;
02617     <span class="keywordtype">int</span> i, j;
02618         <a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html">IPDR_TemplateHandle</a> TH;
02619 
02620     <span class="keywordflow">if</span> (! E) {
02621         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
02622     }
02623 
02624     <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02625 
02626         <span class="keywordflow">for</span> (j = 0; j &lt; E-&gt;Sessions.Length; i++) {
02627         S = (<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html">Session</a> *) E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o13">Sessions</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
02628 
02629                 Status = <a class="code" href="../../d5/db3/_exporter_8c.html#a84">IPDR_GetTemplateInternal</a>(S, TemplateID, NULL, NULL, NULL, &amp;TH);
02630                 <span class="keywordflow">if</span>(<a class="code" href="../../da/d39/_i_p_d_r_8h.html#a17">SUCCESS</a>(Status))
02631                 {
02632                         Tmpl = (<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html">Template</a> *) S-&gt;<a class="code" href="../../d9/d35/struct_i_p_d_r__tag___session.html#o15">Templates</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[TH.<a class="code" href="../../d4/dc8/struct_i_p_d_r__tag___template_handle.html#o0">i</a>];
02633                         <span class="keywordflow">if</span> (Tmpl == NULL) {
02634                                 Status = <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a197">IPDR_ERR_TEMPLATE_NOT_FOUND</a>;
02635                         }
02636 
02637                         <span class="keywordflow">for</span> (i = 0; i &lt; Tmpl-&gt;Keys.Length; i++) {
02638                                 K = (<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html">Key</a> *) Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>.<a class="code" href="../../db/dc0/struct_dynamic_array.html#o0">Data</a>[i];
02639                                 <span class="keywordflow">if</span> (K-&gt;<a class="code" href="../../de/d6f/struct_i_p_d_r__tag___key.html#o0">KeyID</a> == KeyID) {
02640                                         <a class="code" href="../../d3/d58/_dynamic_array_8c.html#a9">DynamicArray_RemoveAndShift</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>, &amp; (Tmpl-&gt;<a class="code" href="../../da/d62/struct_i_p_d_r__tag___template.html#o3">Keys</a>), i);
02641                                 }
02642                         }
02643                 }
02644         }
02645 <span class="preprocessor">#ifdef NOTDONEYET</span>
02646 <span class="preprocessor"></span>    ExporterMIB_UpdateTemplates(S);
02647 <span class="preprocessor">#endif</span>
02648 <span class="preprocessor"></span>    <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a5">SESSION_PLATFORM</a>);
02649 
02650     <span class="keywordflow">return</span> Status;
02651 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga18" doxytag="IPDR.h::IPDR_SetFlowStartCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_SetFlowStartCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga2">IPDR_FlowStartCallback</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Callback</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a callback which will be called whenever the collector sends FLOW START message. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to an exporter previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Callback</em>&nbsp;</td><td>Callback function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>- extra parameter passed to the callback function </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03334 {
03335         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
03336         <span class="keywordflow">if</span> (! E) {
03337                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
03338         }
03339 
03340         <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03341 
03342         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o25">FlowStartCallback</a> = Callback;
03343         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o26">FlowStartCallbackArg</a> = Arg;
03344 
03345         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03346 
03347         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
03348 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga17" doxytag="IPDR.h::IPDR_SetStartNegotiationCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_SetStartNegotiationCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga1">IPDR_StartNegotiationCallback</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Callback</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a callback which will be called whenever the collector sends START NEGOTIATION message. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to an exporter previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Callback</em>&nbsp;</td><td>Callback function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>- extra parameter passed to the callback function </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03309 {
03310         <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
03311         <span class="keywordflow">if</span> (! E) {
03312                 <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
03313         }
03314 
03315         <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03316 
03317         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o27">StartNegotiationCallback</a> = Callback;
03318         E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o28">StartNegotiationCallbackArg</a> = Arg;
03319 
03320         <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03321 
03322         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
03323 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga16" doxytag="IPDR.h::IPDR_SetTemplateChangedCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IPDR_API IPDR_SetTemplateChangedCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">IPDR_ExporterHandle</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ExporterHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="../../d1/dcc/group___i_p_d_r__templates.html#ga0">IPDR_TemplateChangedCallback</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Callback</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arg</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a callback which will be called whenever the templates configuration changes. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ExporterHandle</em>&nbsp;</td><td>Handle to an exporter previously created by <a class="el" href="../../d3/d96/group___i_p_d_r__initialization__starting__deletion.html#ga3">IPDR_InitExporter()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Callback</em>&nbsp;</td><td>Callback function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Arg</em>&nbsp;</td><td>- extra parameter passed to the callback function </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a> on success; <a class="el" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#ga15">IPDR_STATUS_RETURN_CODE</a> otherwise. </dd></dl>
<div class="fragment"><pre class="fragment">03360 {
03361     <a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html">Exporter</a> *E = ExporterHandle;
03362     <span class="keywordflow">if</span> (! E) {
03363         <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a181">IPDR_ERR_INVALID_VALUE</a>;
03364     }
03365 
03366     <a class="code" href="../../d2/dc9/_platform_8h.html#a34">Platform_Lock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03367 
03368     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o21">TemplateChangedCallback</a> = Callback;
03369     E-&gt;<a class="code" href="../../df/d71/struct_i_p_d_r__tag___exporter.html#o22">TemplateChangedArg</a> = Arg;
03370 
03371     <a class="code" href="../../d2/dc9/_platform_8h.html#a35">Platform_Unlock</a>(<a class="code" href="../../d5/d93/_exporter_8h.html#a1">EXPORTER_PLATFORM</a>);
03372 
03373     <span class="keywordflow">return</span> <a class="code" href="../../d1/dc2/group___i_p_d_r__general__typedefs.html#gga15a174">IPDR_OK</a>;
03374 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 22:28:27 2005 for IPDRAPI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
